import{r as s,a as T,d as p,U as v,e as w,j as t,C,B as a,T as B,p as k,s as r,f as z}from"./index-tWVfh1a_.js";import{c as E,b as d}from"./array-DbNmRnh0.js";import{u as I,F as R,a as A}from"./formik.esm-jmAInz8L.js";import{I as N}from"./Icon_DietPlan-E-4juh60.js";import{S as V}from"./dietEditor-BRHGqV7A.js";import"./isObject-MojUmidT.js";import"./index.es-nfKkgyUc.js";import"./LightBoxContainer-BsEAh_HD.js";import"./index.es-C24u0DtE.js";import"./warning-C20GYw-A.js";import"./uploader-C1vfyOx8.js";r("div")(()=>({display:"flex",flexDirection:"column",flex:1,flexGrow:1,height:"100vh"}));r(a)(()=>({position:"relative"}));r(a)(()=>({position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",paddingTop:52,paddingBottom:24,zIndex:100,top:0}));r(z)(({theme:m})=>({height:45,borderRadius:16,background:"#F9FCFD",fontFamily:"Proxima Nova",color:"#172A44",fontSize:18,fontWeight:"bold",width:"100%",marginBottom:8,border:"2px solid rgba(23, 42, 68, 0.5)"}));const _=s.forwardRef((m,u)=>{const f=T(),{state:G}=p(),[e,h,L]=v(),{search:x}=p(),[g,D]=s.useState(!!(e.DietPlan.Title||e.DietPlan.Description));new URLSearchParams(x),w();const S=E().shape({Title:d().max(50,"Title too long"),Description:d()}),n=I({initialValues:{Title:e.DietPlan.Title||"",Description:e.DietPlan.Description||""},validationSchema:S,onSubmit:async(o,{setErrors:O,setSubmitting:U})=>{f(h({DietPlan:{Title:o.Title,Description:o.Description}}))}}),{errors:b,touched:y,handleSubmit:l,validateForm:P,isSubmitting:j,getFieldProps:F,setFieldValue:c,values:i}=n;return s.useEffect(()=>{u.current={errors:b,touched:y,handleSubmit:l,isSubmitting:j,validateForm:P,getFieldProps:F,setFieldValue:c,values:i}},[]),t.jsx(t.Fragment,{children:g?t.jsxs(C,{flex:!0,withoutPadding:!0,style:{paddingTop:0,paddingBottom:24,background:"#fff"},children:[t.jsx(R,{value:n,children:t.jsx(A,{autoComplete:"off",noValidate:!0,onSubmit:l,style:{height:"100%"},children:t.jsx(V,{onChange:o=>c("Description",o),value:i.Description&&i.Description[0]=="["?JSON.parse(i.Description):[{type:"paragraph",children:[{text:""}]}]})})})," "]}):t.jsxs(a,{flexGrow:1,pb:16,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[t.jsx(N,{sx:{mb:0,fontSize:48}}),t.jsx(B,{color:"text.secondary",align:"center",sx:{mt:1},children:"Adding meal plan is optional."}),t.jsx(k,{size:"large",sx:{fontSize:16},onClick:()=>D(!0),children:"Add now"})]})})});export{_ as default};
