import{a as $,d as w,r as y,U as A,e as H,g as L,j as t,s as c,S as U,B as p,I as j,T as b,p as M,C as O,_ as g,f as _}from"./index-tWVfh1a_.js";import{P as Y}from"./Page-D7TsOLpr.js";import{S as q}from"./Header-C-6_pkkN.js";import{S as G}from"./Footer-BU_S36Uf.js";import{S as J}from"./progress-Dr06BXYB.js";import{H as K}from"./footer-BJqjd-0J.js";import{W as Q}from"./workoutWeek-CnKE-hW2.js";import{c as V}from"./routepath-BdjIj9sL.js";import{D as X}from"./react-beautiful-dnd.esm-DG40pfMu.js";import{A as k}from"./ArrowLeft-lA8HnlgG.js";import"./createSvgIcon-UmMwsC2Z.js";import"./isMuiElement-CENM59Ut.js";import"./useControlled-DiwPEJyR.js";import"./Tabs-Cs2QRRdO.js";import"./Stepper-DvYlKPms.js";import"./Divider-0_Mpg1Be.js";import"./dividerClasses-ClaZwgHh.js";import"./LinearProgress-C4AIhOO1.js";import"./Checkbox-5Xdp7ogM.js";import"./SwitchBase-Bs2jeD_h.js";import"./useFormControl-BEzaUW9U.js";import"./TextMaxLine-BUlHRtTt.js";import"./Link-D6ktmyc-.js";import"./LibrarySelector-BSF-MZAA.js";import"./Workout-eTy7zLdJ.js";import"./convertToLink-D3DGDIAW.js";import"./ImageWithFallback-C5zvNA0Z.js";import"./Circular-CdB5voB0.js";import"./More-BqGLUvK6.js";import"./edit-DiWhq57E.js";import"./Delete-fvKHvwYo.js";import"./ReactPlayerWithFallback-Zm03AunA.js";import"./index-DmwG6s5l.js";import"./ReactPlayer-B1HYrz8S.js";import"./memoize-one.esm-Cbrq43TT.js";import"./search-qBW2W_DU.js";import"./YouTube-BrIpEXBG.js";import"./Dumbell-LvyqFLuX.js";import"./MenuItem-BRbCqEYh.js";import"./ListContext-BQPXTeBj.js";import"./Share-D8xeKOeo.js";import"./CopyLink-DOxHVA9c.js";import"./moment-G82_0lEo.js";import"./TextField-cyeEFY3i.js";import"./OutlinedInput-D3YoqtXT.js";import"./InputBase-7pV38TnQ.js";import"./Popover-COOgvQR_.js";import"./InputAdornment-DiI_gVyu.js";import"./DB-D1UkOgeB.js";import"./SaveCheck-1m_e5Ncs.js";import"./SwipeableDrawer-BEL-t-Lb.js";import"./index-BrBV3hc8.js";import"./AddCircled-C-pHs73y.js";import"./trash-CssX9TdV.js";const Z=c("div")(()=>({backgroundColor:"#F2F5F9",height:"100%"}));c(p)(()=>({position:"relative"}));c(p)(()=>({position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",paddingTop:52,paddingBottom:24,zIndex:100,top:0}));c(_)(({theme:C})=>({height:45,borderRadius:16,background:"#F9FCFD",fontFamily:"Proxima Nova",color:"#172A44",fontSize:18,fontWeight:"bold",width:"100%",marginBottom:8,border:"2px solid rgba(23, 42, 68, 0.5)"}));const W=c(p)(()=>({width:"100%",zIndex:100,borderRadius:"0px 0px 8px 8px"}));function it({steps:C=4,active:ee=1}){const x=$(),{state:te}=w(),[P,re]=y.useState(!1),{search:E}=w(),[I,f]=y.useState(null);new URLSearchParams(E);const[d,u,a,v]=A(),m=H(),{showConfirmationModal:D}=L(),S=()=>{m(V(a,"/createDietPlan",d._id))},T=()=>{m(-1)},N=()=>{x(v({...d})),m(-1)},F=(o,s,r,i)=>{let e={...d.ExercisePlan};e.weeks[s].days[i].Exercise.length?D("Are you sure ?",`You are going to replace (week ${Number(s)+1} - day ${Number(i)+1}) exercises with (week ${o+1} - day ${r+1}). This process is irreversible`,"Replace","Cancel").then(l=>{if(l)e.weeks[s].days[i].Exercise=[...e.weeks[o].days[r].Exercise],e.weeks[s].days[i].Title=e.weeks[o].days[r].Title,x(u({ExercisePlan:e}));else return}):(e.weeks[s].days[i].Exercise=[...e.weeks[o].days[r].Exercise],e.weeks[s].days[i].Title=e.weeks[o].days[r].Title,x(u({ExercisePlan:e})))},B=(o,s,r,i)=>{let e=g.cloneDeep(d.ExercisePlan),l=g.cloneDeep(e.weeks[o].days[r].Exercise),n=e.weeks[o].days[r].Title;e.weeks[o].days[r].Exercise=g.cloneDeep(e.weeks[s].days[i].Exercise),e.weeks[o].days[r].Title=e.weeks[s].days[i].Title,e.weeks[s].days[i].Exercise=g.cloneDeep(l),e.weeks[s].days[i].Title=n,x(u({ExercisePlan:e}))},R=o=>{const{source:s,destination:r,combine:i}=o;let e={};if(r?Number(r.droppableId)==0&&r.index==0||(e={...e,week:Number(r.droppableId),day:r.index}):e=null,i){let l=i.draggableId.split("-")[0],n=i.draggableId.split("-")[1];e={...e,cweek:l,cday:n}}f(e)},z=o=>{const{source:s,destination:r,combine:i}=o;if(f(null),!(!r&&!i))if(i){let e=Number(s.droppableId),l=s.index,n=(r||i).draggableId.split("-")[0],h=(r||i).draggableId.split("-")[1];F(e,n,l,h)}else{let e=Number(s.droppableId),l=s.index,n=Number(r.droppableId),h=n>0?r.index-1:r.index;if(h<0)return;B(e,n,l,h)}};return t.jsx(Z,{children:t.jsxs(Y,{title:" Simplified Online Fitness Training ",children:[t.jsxs(U,{children:[" ",t.jsx(q,{headerDependency:P,children:a=="customize"?t.jsxs(W,{px:2,py:2,display:"flex",justifyContent:"space-between",alignItems:"center",children:[t.jsxs(p,{width:"100%",display:"flex",alignItems:"center",flexDirection:"row",children:[t.jsx(j,{onClick:()=>m(-1),sx:{color:"text.primary"},children:t.jsx(k,{})}),t.jsx(b,{variant:"subtitle1",color:"text.primary",children:"Workout"})]}),t.jsx(M,{size:"small",onClick:N,children:"Save"})]}):t.jsxs(p,{pt:2,children:[t.jsxs(p,{width:"100%",display:"flex",px:2,mb:3,alignItems:"center",justifyContent:"space-between",children:[t.jsxs(p,{display:"flex",alignItems:"center",children:[" ",t.jsx(j,{onClick:()=>m("/"),sx:{color:"text.primary"},children:t.jsx(k,{})}),t.jsx(b,{variant:"h6",color:"text.primary",children:t.jsx(p,{display:"flex",alignItems:"center",children:t.jsx(b,{color:"primary"})})})," "]})," "]}),t.jsx(J,{noClose:!0,withDivider:!0,mode:a,Program:d,route:a=="edit"?["workoutCalendar","createDietPlan","publishProgram"]:["","workoutCalendar","createDietPlan","publishProgram"],label:a=="edit"?["Calander","Diet","Publish"]:["Start","Calander","Diet","Publish"],steps:a=="edit"?3:4,active:a=="edit"?1:2,handleClose:()=>m("/",{replace:!0})})]})})," ",t.jsx(O,{style:{paddingTop:0,paddingLeft:0,paddingRight:0,background:"#F5F7FA"},children:t.jsx(X,{onDragEnd:z,onDragUpdate:R,children:t.jsx(Q,{Program:d,updateProgram:u,mode:a,destData:I})})}),a!=="customize"?t.jsx(G,{children:t.jsx(K,{next:!0,back:!0,nextClick:S,backClick:T})}):null]})," "]})})}export{it as default};
