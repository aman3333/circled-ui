import{e as C,d as N,u as w,r as x,a as E,q as B,j as e,S as T,C as F,B as s,am as L,I as W,h as D,T as c,ad as z,c as d}from"./index-tWVfh1a_.js";import{P as R}from"./Page-D7TsOLpr.js";import{H}from"./footer-BJqjd-0J.js";import{d as O,I as V}from"./AccountCircle-BCV9GVax.js";import{I as q}from"./index-CzZqv2Gi.js";import{h as Y}from"./uploader-C1vfyOx8.js";import{S as _}from"./Footer-BU_S36Uf.js";import{c as $,b as h}from"./array-DbNmRnh0.js";import{u as M,F as G,a as J}from"./formik.esm-jmAInz8L.js";import{L as f}from"./LabeledInput-B3Qf7l4R.js";import{W as K}from"./ProgramDescriptionModal-Dkibb7pp.js";import{H as Q}from"./header-Bo2DC4uj.js";import{A as j}from"./Avatar-DYK8RM-C.js";import{I as u}from"./InputAdornment-DiI_gVyu.js";import"./Checkbox-5Xdp7ogM.js";import"./SwitchBase-Bs2jeD_h.js";import"./useFormControl-BEzaUW9U.js";import"./useControlled-DiwPEJyR.js";import"./createSvgIcon-UmMwsC2Z.js";import"./isMuiElement-CENM59Ut.js";import"./Header-C-6_pkkN.js";import"./isObject-MojUmidT.js";import"./TextField-cyeEFY3i.js";import"./OutlinedInput-D3YoqtXT.js";import"./InputBase-7pV38TnQ.js";import"./Popover-COOgvQR_.js";import"./ListContext-BQPXTeBj.js";import"./ArrowLeft-lA8HnlgG.js";function we({mode:y}){const g=C(),{state:P}=N(),l=w(n=>n.Profile),[i,S]=x.useState(l.profilePic),[v,U]=x.useState(l.about),r=E(),I=$().shape({expertise:h().max(50,"Profession too long").nullable(),profileName:h().required("Enter name of your profile").max(50),bio:h().max(500,"Bio too long. Maximum 500 characters allowed")}),a=M({initialValues:{expertise:"",profileName:l.name,bio:""},validationSchema:I,onSubmit:async(n,{setErrors:p,setSubmitting:ee})=>{r(z({...n,profilePic:i,trainerOnboarded:!0})),g("/",{replace:!0})}}),{errors:t,touched:o,handleSubmit:k,isSubmitting:X,getFieldProps:m,setFieldValue:Z,values:b}=a,A=n=>{r(d({loading:!0})),Y(n).then(p=>{S(p.data.Location),r(d({loading:!1}))},p=>p=="size"?r(d({loading:!1,snackbar:!0,message:"Image size should be less than 5 mb",severity:"warning"})):r(d({loading:!1,snackbar:!0,message:"Error in uploading image please try again later",severity:"warning"})))};return x.useEffect(()=>{r(B({...l,profilePic:i}))},[i,v]),e.jsx(G,{value:a,children:e.jsx(J,{autoComplete:"off",noValidate:!0,onSubmit:k,children:e.jsxs(R,{title:" Simplified Online Fitness Training ",children:[e.jsx(q,{accept:"image/*",onChange:A,id:"profile-img",cropShape:"round",aspect:1,style:{display:"none"}}),e.jsxs(T,{children:[e.jsx(Q,{title:"Create profile",onClose:()=>g("/",{state:P})}),e.jsxs(F,{children:[e.jsx(s,{display:"flex",justifyContent:"center",alignItems:"center",mt:4,children:e.jsx("img",{src:L,height:46})}),e.jsx(s,{display:"flex",flexDirection:"column",alignItems:"center",pt:2,children:e.jsx(s,{width:"100%",display:"flex",justifyContent:"center",mt:4,mb:2,children:e.jsxs(s,{style:{borderRadius:"50%",position:"relative",backgroundSize:"cover"},onClick:()=>document.getElementById("profile-img").click(),children:[i?e.jsx(j,{sx:{width:130,height:130},src:i}):e.jsx(j,{sx:{width:130,height:130},children:e.jsx(O,{sx:{fontSize:155,color:"#E1E7F0"}})}),e.jsx(W,{sx:{position:"absolute",top:-13,right:-8,color:"primary.main"},children:e.jsx(V,{sx:{fontSize:48,color:"primary.main"},color:"primary.main"})})]})})}),y=="client"?null:e.jsxs(D,{spacing:2,sx:{width:"100%",mt:4},children:[e.jsx(f,{fullWidth:!0,placeholder:"Profile name",clabel:"Profile name",...m("profileName"),error:!!(o.profileName&&t.profileName),helperText:o.profileName&&t.profileName||"",inputProps:{maxLength:50},InputProps:{endAdornment:e.jsx(u,{position:"end",sx:{height:"100%"},children:e.jsx(c,{variant:"body2",color:"text.secondary",children:(a.values.profileName+"").length+"/50"})})}}),e.jsx(f,{fullWidth:!0,placeholder:"Example: Yoga, Crossfit, etc.",clabel:"Expertise",...m("expertise"),error:!!(o.expertise&&t.expertise),helperText:o.expertise&&t.expertise,inputProps:{maxLength:50},InputProps:{endAdornment:e.jsx(u,{position:"end",sx:{height:"100%"},children:e.jsx(c,{variant:"body2",color:"text.secondary",children:(a.values.expertise+"").length+"/50"})})}}),e.jsx(K,{headerTitle:"Your bio",headerSubTitle:"About",fullWidth:!0,placeholder:"Write about yourself...",clabel:"About",...m("bio"),error:!!(o.bio&&t.bio),helperText:o.bio&&t.bio,inputProps:{maxLength:500},endAdornment:e.jsx(u,{position:"end",sx:{height:"100%"},children:e.jsx(s,{position:"absolute",bottom:12,right:16,height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",children:e.jsx(c,{variant:"body2",color:"text.secondary",children:(a.values.bio+"").length+"/500"})})}),multiline:!0,minRows:4,children:e.jsx(f,{fullWidth:!0,placeholder:"Write about yourself...",clabel:"About",...m("bio"),error:!!(o.bio&&t.bio),helperText:o.bio&&t.bio,inputProps:{maxLength:500},maxRows:12,InputProps:{endAdornment:e.jsx(u,{position:"end",sx:{height:"100%"},children:e.jsx(s,{position:"absolute",bottom:12,right:16,height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",children:e.jsx(c,{variant:"body2",color:"text.secondary",children:(a.values.bio+"").length+"/500"})})})},multiline:!0,minRows:8})})]})]}),e.jsx(_,{children:e.jsx(H,{next:!0,nextText:!i&&!b.bio&&!b.expertise?"Skip":"Next"})})]})]})})})}export{we as default};
