import{e as m,g as d,u as b,j as t,B as r,T as i,I as p,i as g,_ as v}from"./index-tWVfh1a_.js";import{h as w}from"./moment-G82_0lEo.js";import{C}from"./Circular-CdB5voB0.js";import{g as u}from"./getFileFormat-Bssviiun.js";import{g as B}from"./convertToLink-D3DGDIAW.js";import{I}from"./ImageWithFallback-C5zvNA0Z.js";import{A as F}from"./Avatar-DYK8RM-C.js";import{G as h}from"./Grid-C2UtAwNz.js";const N=({name:e,profilePic:a,createdAt:j,message:x,media:s,createdBy:M,type:c,pendingSync:o,_id:k,fetchAllLogs:L,onDeleteLog:T})=>{const f=m(),{showConfirmationModal:Y}=d();return b(l=>l.Profile),t.jsx(r,{width:"100%",mb:2,sx:{border:c=="Instructor"?"1px solid #6D7B8F":"1px solid #FB8500",p:2,borderRadius:1,borderColor:c=="Instructor"?"#6D7B8F":"#FB8500",borderLeftWidth:6},children:t.jsx(r,{children:t.jsxs(r,{width:"100%",pr:1,display:"flex",flexDirection:"column",children:[t.jsx(r,{display:"flex",alignItems:"center",justifyContent:"space-between",children:t.jsxs(r,{display:"flex",alignItems:"center",children:[t.jsx(F,{sx:{height:40,width:40,mr:1},src:a}),t.jsx(i,{sx:{fontWeight:"500",textTransform:"capitalize"},variant:"body1",children:e})]})}),t.jsx(i,{sx:{mt:1.5},children:x}),s!=null&&s.length||o!=null&&o.length?t.jsx(r,{my:2,borderRadius:1,overflow:"hidden",children:t.jsxs(h,{container:!0,spacing:.5,children:[((s==null?void 0:s.length)>4?s.slice(0,3):s).map((l,n)=>t.jsx(h,{item:!0,xs:D(s==null?void 0:s.length,n),children:t.jsxs(r,{bgcolor:"#f0f0f0",width:"100%",paddingBottom:"66%",position:"relative",justifyContent:"center",onClick:()=>f("/media/view",{state:{file:s,index:n,comment:x}}),children:[t.jsx(I,{src:u(l)=="video"?B(l):l,style:{position:"absolute",width:"100%",height:"auto",objectFit:"cover"}}),u(l)=="video"?t.jsx(p,{sx:{position:"absolute",top:"calc(50% - 24px)",left:"calc(50% - 24px)"},children:t.jsx(g,{icon:"carbon:play-filled",style:{fontSize:48}})}):""]})})),(s==null?void 0:s.length)>4?t.jsx(h,{item:!0,xs:6,children:t.jsx(r,{bgcolor:"#f0f0f0",width:"100%",paddingBottom:"66%",position:"relative",children:t.jsx(r,{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",onClick:()=>f("/media/view",{state:{file:s,index:0,comment:x}}),children:t.jsxs(i,{variant:"subtitle1",children:["+",(s==null?void 0:s.length)-3," media"]})})})}):"",o!=null&&o.length?t.jsx(h,{item:!0,xs:12,children:t.jsxs(r,{bgcolor:"#f0f0f0",width:"100%",height:150,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[t.jsx(C,{value:(v.sumBy(o,"progress")||1)/(o==null?void 0:o.length),size:60}),t.jsxs(i,{sx:{mt:1},children:["Upload ",o==null?void 0:o.length," media"]})]})}):""]})}):"",t.jsx(r,{width:"100%",display:"flex",mt:1,children:t.jsx(i,{color:"text.secondary",variant:"body2",children:w(j).format("hh:mm a | DD MMM YYYY")})})]})})})},D=(e,a)=>(console.log(e,a),e==1?12:e==2?6:e==3&&a==2?12:6);export{N as M};
