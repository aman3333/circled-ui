import{e as F,a as k,d as C,u as P,j as e,S as T,C as q,T as n,h as L,ay as O,az as W,B as f,s as g}from"./index-tWVfh1a_.js";import{P as w}from"./Page-D7TsOLpr.js";import{H as I}from"./footer-BJqjd-0J.js";import{L as c}from"./LabeledInput-B3Qf7l4R.js";import{c as G,b as s}from"./array-DbNmRnh0.js";import{u as H,F as V,a as z}from"./formik.esm-jmAInz8L.js";import{u as l}from"./Onboarding-CSV0hQFI.js";import{S as $}from"./Footer-BU_S36Uf.js";import{D as A,C as E}from"./DatePicker-CKbzL-xq.js";/* empty css                 */import{H as M}from"./header-Bo2DC4uj.js";import{c as R}from"./common-C0dnEDq7.js";import{G as x}from"./Grid-C2UtAwNz.js";import"./Checkbox-5Xdp7ogM.js";import"./SwitchBase-Bs2jeD_h.js";import"./useFormControl-BEzaUW9U.js";import"./useControlled-DiwPEJyR.js";import"./TextField-cyeEFY3i.js";import"./OutlinedInput-D3YoqtXT.js";import"./InputBase-7pV38TnQ.js";import"./Popover-COOgvQR_.js";import"./ListContext-BQPXTeBj.js";import"./isMuiElement-CENM59Ut.js";import"./isObject-MojUmidT.js";import"./Popper-Da_o3GuI.js";import"./usePreviousProps-BiTDTLPM.js";import"./Chip-CoRnaPyB.js";import"./InputAdornment-DiI_gVyu.js";import"./Header-C-6_pkkN.js";import"./ArrowLeft-lA8HnlgG.js";g("div")(()=>({display:"flex",flexDirection:"column",flex:1,flexGrow:1,background:"#fff",height:"100vh"}));g(f)(()=>({position:"relative"}));g(f)(()=>({position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",paddingTop:52,paddingBottom:24,zIndex:100,top:0}));function Be({mode:S}){var j,y,N;const u=F(),m=k(),{state:p}=C(),v=G().shape({firstName:s().required("First Name is required"),lastName:s().required("Last Name is required"),dob:s().required("Birthday is required"),gender:s(),country:s().required("Please select your location")});let i=P(r=>r.Onboarding);const b=H({initialValues:{firstName:(y=(j=i.name)==null?void 0:j.split(" "))==null?void 0:y[0],lastName:(N=i.name.split(" "))==null?void 0:N[1],dob:new Date,gender:i.gender,DOB:i.dob,country:i.country,email:i.email},validationSchema:v,onSubmit:async(r,{setErrors:B,setSubmitting:Y})=>{m(l({loading:!0})),l({name:r.firstName+" "+r.lastName,DOB:r.dob,email:r.email,gender:r.gender,country:r.country}),R({email:r.email}).then(()=>(m(l({loading:!1})),B({email:"This email is already registered with us"}))).catch(J=>{m(l({loading:!1})),m(l({name:r.firstName+" "+r.lastName,DOB:r.dob,email:r.email,gender:r.gender,country:r.country})),u(`/onboarding/${S=="client"?"client/client-info":"profile-pic"}`,{state:p})})}});console.log(p);const{errors:t,touched:a,handleSubmit:D,isSubmitting:U,getFieldProps:d,setFieldValue:h,values:o}=b;return console.log(t,"all errors",o),e.jsx(w,{title:" Simplified Online Fitness Training ",children:e.jsx(V,{value:b,children:e.jsx(z,{autoComplete:"off",noValidate:!0,onSubmit:D,children:e.jsxs(T,{children:[e.jsx(M,{title:"Create profile",onClose:()=>u("/",{state:p})}),e.jsxs(q,{display:"flex",height:"100%",flexDirection:"column",alignItems:"center",flexGrow:"1",px:2,children:[e.jsx(n,{variant:"h2",align:"left",sx:{my:4},children:"Personal information"}),e.jsxs(L,{spacing:2,sx:{width:"100%"},children:[e.jsx(c,{fullWidth:!0,clabel:e.jsx(n,{variant:"subtitle1",children:"First name"}),...d("firstName"),placeholder:"Write your first name",error:!!(a.firstName&&t.firstName),helperText:a.firstName&&t.firstName}),e.jsx(c,{fullWidth:!0,placeholder:"Write your last name",clabel:e.jsx(n,{variant:"subtitle1",children:"Last name"}),...d("lastName"),error:!!(a.lastName&&t.lastName),helperText:a.lastName&&t.lastName||"Make sure your name matches government ID for verifications and credibility"}),e.jsxs(x,{container:!0,children:[e.jsx(x,{item:!0,xs:12,sx:{mb:1},children:e.jsx(n,{variant:"subtitle1",children:"Your Birthday"})}),e.jsx(x,{item:!0,xs:4,sx:{pr:1},children:e.jsx(O,{dateAdapter:W,children:e.jsx(A,{label:"Date of Birth",value:o.dob,onChange:r=>{h("dob",r)},renderInput:r=>e.jsx(c,{...r,fullWidth:!0})})})})]}),e.jsxs(f,{children:[e.jsx(n,{variant:"subtitle1",color:"text.primary",children:"Gender"}),e.jsxs(c,{select:!0,fullWidth:!0,...d("gender"),value:o==null?void 0:o.gender,onChange:r=>h("gender",r.target.value),SelectProps:{native:!0},error:!!(a.gender&&t.gender),helperText:a.gender&&t.gender,children:[e.jsx("option",{value:"",disabled:!0,children:"Select your gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"})]})]}),e.jsx(E,{fullWidth:!0,clabel:e.jsx(n,{variant:"subtitle1",children:"Location"}),...d("country"),value:o.country,setFieldValue:r=>h("country",r),error:!!t.country,helperText:t.country}),e.jsx("br",{})]})]}),e.jsx($,{children:e.jsx(I,{next:!0,back:!0,backClick:()=>u(-1)})})]})})})})}export{Be as default};
