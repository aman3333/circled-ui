import{a as X,d as Y,r as s,e as G,u as M,j as e,s as m,S as K,B as o,I as z,T as j,i as f,f as H}from"./index-tWVfh1a_.js";import{P as Q}from"./Page-D7TsOLpr.js";import{M as Z}from"./bottomDrawer-DMtCRIBf.js";import{M as B}from"./Model-Bs8FCq2d.js";import{a as _,c as $,b as ee}from"./convertToLink-D3DGDIAW.js";import{R as te}from"./ReactPlayerWithFallback-Zm03AunA.js";import{S as D}from"./index-Cp5sxvbr.js";import{I as F}from"./ImageWithFallback-C5zvNA0Z.js";import{A as ie}from"./ArrowLeft-lA8HnlgG.js";import{g as T}from"./getFileFormat-Bssviiun.js";import{I as ne}from"./InputBase-7pV38TnQ.js";import{S as oe}from"./Slider-DuuEQ67Z.js";import"./Close-0gM9I1tD.js";import"./TabContext-CXvaiNSx.js";import"./TabPanel-D7TYthF4.js";import"./Tabs-Cs2QRRdO.js";import"./index-DmwG6s5l.js";import"./ReactPlayer-B1HYrz8S.js";import"./memoize-one.esm-Cbrq43TT.js";import"./warning-C20GYw-A.js";import"./Image-B5TKYvdb.js";import"./useFormControl-BEzaUW9U.js";import"./useControlled-DiwPEJyR.js";const se=m("div")(({theme:i})=>({backgroundColor:"#3b579d"})),re=m("div")(({theme:i})=>({background:"linear-gradient(180deg, rgba(43, 64, 87, 0) 10%, #2B4057 100.00%)",position:"absolute",bottom:0,left:0,zIndex:1e3,padding:"12px 24px 24px",width:"100%"})),le=m("div")(({theme:i})=>({background:"linear-gradient(180deg, #2B4057 0%, rgba(43, 64, 87, 0) 100%)",position:"absolute",dispatch:"flex",flexDirection:"column",top:0,left:0,paddingLeft:12,paddingRight:12,width:"100%",display:"flex",alignItems:"center"}));m(H)(({theme:i})=>({background:"#53647A",borderRadius:"8px",width:"100%",paddingTop:6,paddingBottom:6,paddingLeft:16,paddingRight:16,display:"flex",justifyContent:"space-between"}));m(H)(({theme:i})=>({background:i.palette.primary.main,borderRadius:"8px",width:"100%",paddingTop:6,paddingBottom:6,paddingLeft:16,paddingRight:16,display:"flex",justifyContent:"center"}));function De(i){X();const{state:l,pathname:c}=Y(),[h,y]=s.useState(0),[g,p]=s.useState(0),[w,L]=s.useState(!0),V=G(),W=M(t=>t.AtheletePlan.Exercises);M(t=>t.AtheletePlan);const v=s.useRef(null),[A,u]=s.useState(!0),[U,O]=s.useState(0),[q,I]=s.useState(0),[k,J]=s.useState(!0);let C=W.ExercisePlan.weeks[l.week].days[l.day].Exercise;const x={slideContainer:{height:window.innerHeight,textShadow:"0px 2px 2px rgba(43, 64, 87, 0.25)"},slide:{minHeight:window.innerHeight,color:"#fff"},slide3:{background:"#000"}};s.useEffect(()=>{setTimeout(()=>{y((l==null?void 0:l.index)||0)},500)},[]);const N=(t,b,d)=>{p(t)};return e.jsx(Q,{title:" Simplified Online Fitness Training ",children:e.jsx(se,{children:e.jsxs(K,{children:[e.jsx(o,{sx:{position:"absolute",top:0,zIndex:1e3,width:"100%",px:2},children:e.jsx(le,{display:"flex",flexDirection:"column",children:e.jsxs(o,{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(o,{width:"100%",display:"flex",alignItems:"center",pt:1,children:[e.jsx(z,{onClick:()=>V(-1),sx:{color:"common.white"},children:e.jsx(ie,{})})," ",e.jsxs(j,{variant:"subtitle1",color:"common.white",children:[C[h].title," / exercise ",1+h]})]}),e.jsx(z,{onClick:()=>L(!w),size:"large",sx:{mt:1},children:w?e.jsx(f,{icon:"lucide:volume-x",color:"#fff",sx:{fontSize:32}}):e.jsx(f,{icon:"lucide:volume-2",color:"#fff",sx:{fontSize:32}})})]})})}),e.jsx(D,{axis:"y",index:h,containerStyle:x.slideContainer,enableMouseEvents:!0,onChangeIndex:t=>{p(0),y(t)},children:C.map((t,b)=>(t.media.length||(t.media=["https://media.publit.io/file/MPsWb1VJ.mp4"]),e.jsx(D,{axis:"x",index:g,containerStyle:x.slideContainer,enableMouseEvents:!0,disabled:!0,draggable:!1,onChangeIndex:N,children:t.media.map((d,a)=>{var S,P,E,R;return e.jsx("div",{style:Object.assign({},x.slide,x.slide3),children:e.jsxs(o,{position:"relative",children:[" ",e.jsx(o,{style:{width:"100vw",height:window.innerHeight,position:"relative",display:"flex",justifyContent:"center",alignItems:"center",filter:d=="https://media.publit.io/file/MPsWb1VJ.mp4"&&"opacity(15%)"},children:T(d)=="video"&&h==b&&g==a?e.jsx(te,{url:_(d),raw:d,ref:v,onPlay:()=>u(!0),onProgress:n=>{I(n.playedSeconds)},loop:!0,muted:w,progressInterval:100,controls:!1,autoPlay:!0,responsive:!0,playsinline:!0,onDuration:n=>{O(n)},playing:h==b&&g==a&&A,width:"100vw",height:window.innerHeight,style:{zIndex:0,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:window.innerHeight,"& video":{width:"100vw",height:window.innerHeight}}}):e.jsx("img",{src:d,style:{zIndex:0,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:window.innerHeight,objectFit:"contain"}})}),e.jsx(o,{position:"absolute",zIndex:2e3,width:"100vw",height:window.innerHeight,top:0,onClick:()=>J(!k),children:k&&e.jsxs(re,{onClick:n=>n.stopPropagation(),children:[e.jsx(Z,{setMData:()=>{},data:[{muscles:((S=t.media)==null?void 0:S[a].triggerMuscle)||[]}],viewMode:!0,children:e.jsxs(o,{display:"flex",alignItems:"center",children:[e.jsx(B,{data:[{name:(t==null?void 0:t.title)||"",muscles:((P=t.media)==null?void 0:P[a].triggerMuscle)||[],frequency:1}],style:{width:"68px",padding:"5px"},highlightedColors:["#EE3737"]}),e.jsx(B,{type:"posterior",data:[{name:t.title,muscles:((E=t.media)==null?void 0:E[a].triggerMuscle)||[],frequency:1}],style:{width:"68px",padding:"5px"},highlightedColors:["#EE3737"]})]})}),e.jsx(o,{width:"100%",marginLeft:"5px",children:e.jsx(ne,{placeholder:"Title here",fullWidth:!0,readOnly:!0,defaultValue:t.title,sx:{py:.25,mb:2,fontWeight:"bold",fontSize:24,color:"common.white"}})}),e.jsx(o,{sx:{display:"flex",alignItems:"center",mb:2,overflowX:"auto"},children:(R=t==null?void 0:t.media)==null?void 0:R.map((n,r)=>e.jsx(o,{onClick:()=>p(r),children:T(n)=="video"?e.jsx(ae,{link:n,currentIndex:r,videoIndex:g}):e.jsx(de,{link:n,currentIndex:r,videoIndex:g})}))}),e.jsx(o,{children:e.jsx(oe,{size:"large",min:0,max:U,value:q,onDragStart:n=>{u(!1)},onDragEnd:n=>{u(!0)},onChangeCommitted:(n,r)=>{u(!0)},onChange:(n,r)=>{n.preventDefault(),n.stopPropagation(),u(!1),v.current.seekTo(r,"seconds"),I(r)}})})]})}),e.jsx(o,{onClick:n=>{var r;n.stopPropagation(),(r=t.media)!=null&&r[a-1]&&p(a-1)},zIndex:1e5,position:"absolute",top:0,left:0,height:"80vh",width:"15vw"})]})})})})))})]})})})}const ae=i=>{const[l,c]=s.useState("");return s.useEffect(()=>{i.link.type=="youtube"?c($(i.link.file)):c(ee(i.link))},[i.link]),e.jsxs(o,{position:"relative",mr:1.5,onClick:i.onClick,width:100,height:66,borderRadius:1,bgcolor:"#fff",overflow:"hidden",sx:{borderColor:i.currentIndex==i.videoIndex?"#fff":"transparent",border:i.currentIndex==i.videoIndex?2:0},children:[e.jsx(F,{src:l,style:{width:"100px",height:"66px",objectFit:"cover",borderRadius:8}}),e.jsx("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0,height:"100%",width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:8},children:e.jsx(f,{icon:"majesticons:video",color:"common.white",width:18,height:18})}),e.jsx("div",{style:{position:"absolute",bottom:0,width:"100%",borderRadius:8,padding:4,background:"rgba(0,0,0,0.20)"},children:e.jsx(j,{variant:"subtitle2",align:"center",sx:{fontWeight:"bold",fontSize:10,textTransform:"capitalize"},color:"common.white",children:i.link.title||"Untitled"})})]})},de=i=>{const[l,c]=s.useState("");return s.useEffect(()=>{c(i.link.file)},[i.link]),e.jsxs(o,{position:"relative",mr:1.5,onClick:i.onClick,width:100,height:66,borderRadius:8,children:[e.jsx(F,{src:l,style:{width:"100px",overflow:"hidden",height:"66px",objectFit:"cover",borderRadius:8}}),e.jsx("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0,height:"100%",width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:8},children:e.jsx(f,{icon:"bi:image-fill",color:"common.white",width:18,height:18})}),e.jsx("div",{style:{position:"absolute",bottom:0,width:"100%",borderRadius:8,padding:4,background:"rgba(0,0,0,0.20)"},children:e.jsx(j,{variant:"subtitle2",align:"center",sx:{fontWeight:"bold",fontSize:10},color:"common.white",children:i.link.title||"Untitled"})})]})};export{De as default};
