import{r as N,bn as q,e as Q,j as a,s as D,B as f,h as F,T as W,p as X}from"./index-tWVfh1a_.js";import{L as $}from"./LightBoxContainer-BsEAh_HD.js";import{A as Y}from"./Avatar-DYK8RM-C.js";import{D as Z}from"./Divider-0_Mpg1Be.js";var B={},S={};Object.defineProperty(S,"__esModule",{value:!0});S.default=void 0;var y=U(N),L=U(q);function U(t){return t&&t.__esModule?t:{default:t}}function z(){return z=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&(t[e]=s[e])}return t},z.apply(this,arguments)}function p(t,r,s){return r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}class I extends y.default.Component{constructor(){for(var r=arguments.length,s=new Array(r),e=0;e<r;e++)s[e]=arguments[e];super(...s),p(this,"state",{}),p(this,"extractReplaceLinksKeys",i=>{var n=this,l=0;return this.replacedLinks=[],i.replace(/(<a[\s]+([^>]+)>((?:.(?!\<\/a\>))*.)<\/a>)/g,function(){const o=Array.prototype.slice.call(arguments,1,4);o.key="["+"@".repeat(o[2].length-1)+"="+l+++"]",n.replacedLinks.push(o),i=i.replace(o[0],o.key)}),i}),p(this,"restoreReplacedLinks",i=>(this.replacedLinks.forEach(n=>{i=i.replace(n.key,n[0])}),this.createMarkup(i))),p(this,"innerText",i=>{const n=document.createElement("div"),l="innerText"in window.HTMLElement.prototype?"innerText":"textContent",o=i.innerHTML.replace(/\r\n|\r|\n/g," ");n.innerHTML=this.extractReplaceLinksKeys(o);let c=n[l];const u=document.createElement("div");return u.innerHTML="foo<br/>bar",u[l].replace(/\r\n|\r/g,`
`)!==`foo
bar`&&(n.innerHTML=n.innerHTML.replace(/<br.*?[\/]?>/gi,`
`),c=n[l]),c}),p(this,"onResize",()=>{this.calcTargetWidth()}),p(this,"onTruncate",i=>{const{onTruncate:n}=this.props;typeof n=="function"&&(this.timeout=window.requestAnimationFrame(()=>{n(i)}))}),p(this,"calcTargetWidth",i=>{const{elements:{target:n},calcTargetWidth:l,canvasContext:o,props:{width:c}}=this;if(!n)return;const u=c||Math.floor(n.parentNode.getBoundingClientRect().width);if(!u)return window.requestAnimationFrame(()=>l(i));const x=window.getComputedStyle(n),m=[x["font-weight"],x["font-style"],x["font-size"],x["font-family"]].join(" ");o.font=m,this.setState({targetWidth:u},i)}),p(this,"measureWidth",i=>this.canvasContext.measureText(i).width),p(this,"ellipsisWidth",i=>i.offsetWidth),p(this,"trimRight",i=>i.replace(/\s+$/,"")),p(this,"createMarkup",i=>y.default.createElement("span",{dangerouslySetInnerHTML:{__html:i}})),p(this,"getLines",()=>{const{elements:i,props:{lines:n,ellipsis:l,trimWhitespace:o},state:{targetWidth:c},innerText:u,measureWidth:x,onTruncate:m,trimRight:P,renderLine:b,restoreReplacedLinks:E}=this,v=[],O=u(i.text).split(`
`).map(M=>M.split(" "));let A=!0;const G=this.ellipsisWidth(this.elements.ellipsis);for(let M=1;M<=n;M++){const j=O[0];if(j.length===0){v.push(),O.shift(),M--;continue}let w=j.join(" ");if(x(w)<=c&&O.length===1){A=!1,w=E(w),v.push(w);break}if(M===n){const g=j.join(" ");let C=0,_=g.length-1;for(;C<=_;){const k=Math.floor((C+_)/2),J=g.slice(0,k+1);x(J)+G<=c?C=k+1:_=k-1}let d=g.slice(0,C);if(o)for(d=P(d);!d.length&&v.length;){const k=v.pop();d=P(k)}d.substr(d.length-2)==="]["&&(d=d.substring(0,d.length-1)),d=d.replace(/\[@+$/,""),d=E(d),w=y.default.createElement("span",null,d,l)}else{let g=0,C=j.length-1;for(;g<=C;){const _=Math.floor((g+C)/2),d=j.slice(0,_+1).join(" ");x(d)<=c?g=_+1:C=_-1}if(g===0){M=n-1;continue}w=j.slice(0,g).join(" "),w=E(w),O[0].splice(0,g)}v.push(w)}return m(A),v.map(b)}),p(this,"renderLine",(i,n,l)=>{if(n===l.length-1)return y.default.createElement("span",{key:n},i);{const o=y.default.createElement("br",{key:n+"br"});return i?[y.default.createElement("span",{key:n},i),o]:o}}),p(this,"styles",{ellipsis:{position:"fixed",visibility:"hidden",top:0,left:0}}),this.elements={},this.replacedLinks=[]}componentDidMount(){const{elements:{text:r},calcTargetWidth:s,onResize:e}=this,i=document.createElement("canvas");this.canvasContext=i.getContext("2d"),s(()=>{r&&r.parentNode&&r.parentNode.removeChild(r)}),window.addEventListener("resize",e)}componentDidUpdate(r){this.props.children!==r.children&&this.forceUpdate(),this.props.width!==r.width&&this.calcTargetWidth()}componentWillUnmount(){const{elements:{ellipsis:r},onResize:s,timeout:e}=this;r.parentNode&&r.parentNode.removeChild(r),window.removeEventListener("resize",s),window.cancelAnimationFrame(e)}render(){const{elements:{target:r},props:{children:s,ellipsis:e,lines:i,...n},state:{targetWidth:l},getLines:o,onTruncate:c}=this;let u;return typeof window<"u"&&!!(r&&l)&&(i>0?u=o():(u=s,c(!1))),delete n.onTruncate,delete n.trimWhitespace,y.default.createElement("span",z({},n,{ref:m=>{this.elements.target=m}}),y.default.createElement("span",{style:{display:"block",maxWidth:n.width>0?"".concat(n.width,"px"):"unset"}},u),y.default.createElement("span",{ref:m=>{this.elements.text=m}},s),y.default.createElement("span",{ref:m=>{this.elements.ellipsis=m},style:this.styles.ellipsis},e))}}S.default=I;p(I,"propTypes",{children:L.default.node,ellipsis:L.default.node,lines:L.default.oneOfType([L.default.oneOf([!1]),L.default.number]),trimWhitespace:L.default.bool,width:L.default.number,onTruncate:L.default.func});p(I,"defaultProps",{children:"",ellipsis:"â€¦",lines:1,trimWhitespace:!1,width:0});Object.defineProperty(B,"__esModule",{value:!0});var K=B.default=void 0,T=ne(N),h=q,ee=te(S);function te(t){return t&&t.__esModule?t:{default:t}}function V(t){if(typeof WeakMap!="function")return null;var r=new WeakMap,s=new WeakMap;return(V=function(e){return e?s:r})(t)}function ne(t,r){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var s=V(r);if(s&&s.has(t))return s.get(t);var e={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)){var l=i?Object.getOwnPropertyDescriptor(t,n):null;l&&(l.get||l.set)?Object.defineProperty(e,n,l):e[n]=t[n]}return e.default=t,s&&s.set(t,e),e}function R(t,r,s){return r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}class H extends T.Component{constructor(r){super(r),R(this,"_isMounted",!1),R(this,"handleTruncate",s=>{this._isMounted&&s!==this.state.truncated&&(this.setState({truncated:s}),s&&this.truncateRef.onResize(),this.props.onTruncate&&this.props.onTruncate())}),R(this,"toggleLines",s=>{s.preventDefault();var e=this;if(!e.props.expandByClick){e.props.onClick&&e.props.onClick(e.state.expanded,s);return}this._isMounted&&this.setState({expanded:!this.state.expanded},()=>{e.props.onClick&&e.props.onClick(e.state.expanded,s)})}),this.state={expanded:!1,truncated:!1}}componentDidMount(){this._isMounted=!0;var r=this;this._isMounted&&this.setState({expanded:r.props.expanded})}componentWillUnmount(){this._isMounted=!1}render(){const{children:r,more:s,less:e,lines:i,anchorClass:n,className:l,width:o,keepNewLines:c,truncatedEndingComponent:u,onTruncate:x}=this.props,{expanded:m,truncated:P}=this.state;return T.default.createElement("div",{className:l},T.default.createElement(ee.default,{width:o,lines:!m&&i,ellipsis:T.default.createElement("span",null,u,T.default.createElement("span",{className:n,onClick:this.toggleLines},s)),onTruncate:this.handleTruncate,ref:b=>this.truncateRef=b},c?r.split(`
`).map((b,E,v)=>(b=T.default.createElement("span",{key:E},b),E===v.length-1?b:[b,T.default.createElement("br",{key:E+"br"})])):r),!P&&m&&T.default.createElement("span",null," ",T.default.createElement("span",{className:n,onClick:this.toggleLines},e)))}}R(H,"defaultProps",{lines:3,more:"Show more",less:"Show less",anchorClass:"show-more-less-clickable",onClick:void 0,expanded:!1,width:0,keepNewLines:!1,truncatedEndingComponent:"... ",expandByClick:!0,onTruncate:void 0});R(H,"propTypes",{children:h.PropTypes.node,lines:h.PropTypes.number,more:h.PropTypes.node,less:h.PropTypes.node,anchorClass:h.PropTypes.string,className:h.PropTypes.string,onClick:h.PropTypes.func,expanded:h.PropTypes.bool,width:h.PropTypes.number,keepNewLines:h.PropTypes.bool,truncatedEndingComponent:h.PropTypes.node,expandByClick:h.PropTypes.bool,onTruncate:h.PropTypes.func});var re=H;K=B.default=re;D(f)(()=>({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 10px",maxWidth:"xs",zIndex:100,borderRadius:"0px 0px 8px 8px"}));const se=D(f)(()=>({width:"100%",backgroundColor:"#fff"}));D(f)(()=>({position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",paddingTop:52,paddingBottom:24,zIndex:100,top:0}));function pe({setHeaderDependency:t,myInstructor:r,clientMyprofile:s,Profile:e}){const[i,n]=N.useState(!1),[l,o]=N.useState(!1),c=Q();return a.jsx(se,{children:a.jsxs(f,{position:"relative",children:[e.banner?a.jsx(f,{position:"relative",width:"100%",height:e.banner?"118px":90,bgcolor:e.banner?"#fafafa":"#fff",borderRadius:"0px 0px 8px 8px",children:e.banner?a.jsx($,{image:e.banner,children:a.jsx("img",{style:{width:"100%",height:"118px",objectFit:"cover",backgroundColor:"#fff",borderRadius:"0px 0px 8px 8px"},src:e.banner||"/images/profile-banner.png"})}):""}):"",a.jsx(f,{width:"100%",margin:e.banner?"-8px":"32px 0px 0px",paddingLeft:3,paddingRight:3,children:a.jsxs(f,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[a.jsx(f,{children:a.jsx(f,{sx:{mr:2,bottom:-38,left:16,zIndex:101,width:"88px",height:"88px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",border:"4px solid #fff"},children:a.jsx($,{image:e.profilePic||"/images/dummyUser.png",children:a.jsx(Y,{sx:{width:"100%",height:"100%",width:"90px",height:"90px",borderRadius:"50%",border:"3px solid #fff"},src:e.profilePic||"/images/dummyUser.png"})})})}),a.jsxs(F,{width:"100%",children:[a.jsx(F,{direction:"row",alignItems:"flex-end",flexGrow:1,width:"100%",justifyContent:"space-between",children:a.jsx(W,{variant:"h5",color:"text.primary",sx:{textTransform:"capitalize"},children:e.profileName||e.name})}),a.jsx(W,{variant:"body",color:"text.secondary",children:e.expertise})]})]})}),a.jsx(f,{width:"100%",display:"flex",sx:{px:4,paddingBottom:3},justifyContent:"flex-end",children:r?a.jsx(a.Fragment,{}):a.jsx(X,{variant:"outlined",size:"small",fullWidth:!0,sx:{px:4,height:36,fontSize:16,mt:3},color:s?"secondary":"primary",onClick:()=>c("/instructor/editProfile"),children:"Edit profile"})}),e.bio?a.jsxs(a.Fragment,{children:[a.jsx(Z,{sx:{borderTopWidth:8,borderColor:"#F5F7FA",mb:2}}),a.jsxs(f,{width:"100%",sx:{px:3,mb:2},children:[a.jsx(W,{variant:"h5",color:"text.primary",children:"About"}),a.jsx(K,{more:a.jsx(f,{mt:2,children:a.jsx(W,{variant:"subtitle1",color:"primary.main",children:"View more"})}),less:a.jsx(f,{mt:2,children:a.jsx(W,{variant:"subtitle1",color:"primary.main",children:"View less"})}),children:a.jsx(W,{color:"text.primary",children:e.bio||"No bio found"})})]})]}):""]})})}export{pe as P};
