import{r as g,e as B,j as e,s as p,B as i,Z as x,i as c,h as d,T as s,a4 as k,p as T,bi as r,ad as l}from"./index-tWVfh1a_.js";import{L as u}from"./LightBoxContainer-BsEAh_HD.js";import{h as b}from"./uploader-C1vfyOx8.js";import{I as j}from"./index-CzZqv2Gi.js";import{b as z}from"./formik.esm-jmAInz8L.js";import{A as f}from"./Avatar-DYK8RM-C.js";import{B as D}from"./Badge-ekxejyFm.js";p(i)(()=>({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 10px",maxWidth:"xs",zIndex:100,borderRadius:"0px 0px 8px 8px"}));const y=p(i)(()=>({width:"100%",backgroundColor:"#fff",borderRadius:"0px 0px 4px 4px"}));p(i)(()=>({position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",paddingTop:52,paddingBottom:24,zIndex:100,top:0}));p(D)(({theme:w})=>({"& .MuiBadge-badge":{right:8,top:16}}));function O({setHeaderDependency:w,Profile:t,editmode:I,view:R,setView:A}){const[F,S]=g.useState(!1),[o,h]=g.useState(!1),C=B(),E=a=>{r({type:"UPDATE_FEED",payload:{loading:!0}}),b(a,`/users/${t.email.replace("@","-AT-").split(".").join("-DOT-")}/profilepic`).then(n=>{r({type:"UPDATE_FEED",payload:{loading:!1}}),r(l({profilePic:n.data.Location}))})},m=a=>{r({type:"UPDATE_FEED",payload:{loading:!0}}),b(a,`/users/${t.email.replace("@","-AT-").split(".").join("-DOT-")}/profilebanner`).then(n=>{r({type:"UPDATE_FEED",payload:{loading:!1}}),r(l({banner:n.data.Location}))})},v=()=>{r(l({banner:""}))};return z(),I?e.jsx(y,{children:e.jsxs(i,{children:[e.jsxs(i,{position:"relative",width:"100%",height:"172px",bgcolor:"#f5f5f5",children:[t.banner&&e.jsx("img",{style:{width:"100%",height:"172px",objectFit:"cover",backgroundColor:"#fff",borderRadius:"0px 0px 8px 8px"},onClick:a=>{var n;(n=document==null?void 0:document.getElementById("bannerImage"))==null||n.click()},src:t.banner}),e.jsxs(i,{sx:{position:"absolute",top:"0px",right:"0px",width:"100%",height:"100%",pl:2,zIndex:10,display:"flex",justifyContent:"center",alignItems:"center"},children:[e.jsxs(x,{onClick:a=>{var n;a.stopPropagation(),(n=document==null?void 0:document.getElementById("bannerImage"))==null||n.click()},children:[e.jsx(j,{hidden:!0,accept:"image/*",type:"file",id:"bannerImage",onChange:m,cropShape:"rect",aspect:2.4,sx:{color:"primary.main"}}),e.jsx(c,{icon:"weui:camera-outlined",width:32,height:32,color:"common.white"})]}),t.banner&&e.jsx(x,{onClick:a=>{v()},onChange:m,children:e.jsx(c,{icon:"iconoir:cancel",width:24,height:24,color:"common.white"})})]}),e.jsxs(i,{sx:{position:"absolute",bottom:-40,left:16,zIndex:101,width:"80px",height:"80px"},children:[e.jsx(i,{width:"84px",height:"84px",bgcolor:"rgba(0,0,0,0.2)",position:"absolute",zIndex:100,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",children:e.jsxs(x,{component:"label",size:"small",children:[e.jsx(j,{hidden:!0,accept:"image/*",id:"avatarImage",type:"file",aspect:1,onChange:E,cropShape:"round"}),e.jsx(c,{icon:"weui:camera-outlined",width:24,height:24,color:"common.white"})]})}),e.jsx(f,{style:{width:"84px",height:"84px",borderRadius:"50%",border:"4px solid #fff"},src:t.profilePic})]})]}),e.jsx(i,{width:"auto",margin:"45px 20px 20px",children:e.jsx(i,{display:"flex",justifyContent:"space-between",alignItems:"center",children:e.jsx(d,{width:"100%",children:e.jsx(d,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"100%",children:e.jsxs(s,{variant:"h5",color:"text.primary",sx:{textTransform:"capitalize"},children:[(t==null?void 0:t.profileName)||(t==null?void 0:t.name),e.jsxs(s,{children:["#",t.figgsId]})]})})})})})]})}):e.jsx(y,{children:e.jsxs(i,{position:"relative",children:[t.banner?e.jsx(i,{position:"relative",width:"100%",height:t.banner?"172px":90,bgcolor:t.banner?"#fafafa":"#fff",borderRadius:"0px 0px 8px 8px",children:t.banner?e.jsx(u,{image:t.banner,children:e.jsx("img",{style:{width:"100%",height:"172px",objectFit:"cover",backgroundColor:"#fff",borderRadius:"0px 0px 8px 8px"},src:t.banner||"/images/profile-banner.png"})}):""}):"",e.jsx(i,{margin:t.banner?"-8px 20px 16px":"32px 20px 16px",children:e.jsxs(i,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[e.jsx(i,{children:e.jsx(i,{sx:{mr:2,bottom:-38,left:16,zIndex:101,width:"88px",height:"88px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",border:"4px solid #fff"},children:e.jsx(u,{image:t.profilePic||"/images/dummyUser.png",children:e.jsx(f,{sx:{width:"100%",height:"100%",width:"90px",height:"90px",borderRadius:"50%",border:"3px solid #fff"},src:t.profilePic||"/images/dummyUser.png"})})})}),e.jsxs(d,{width:"100%",children:[e.jsx(d,{direction:"row",alignItems:"flex-end",flexGrow:1,width:"100%",justifyContent:"space-between",children:e.jsx(s,{variant:"h5",color:"text.primary",sx:{textTransform:"capitalize"},children:t.profileName||t.name})}),e.jsx(s,{variant:"body",color:"text.secondary",children:t.expertise}),!o&&e.jsx(s,{variant:"body",color:"primary.main",onClick:()=>h(!o),children:e.jsx("b",{children:" View more"})})]})]})}),e.jsx(i,{px:3,pb:1,children:e.jsxs(k,{in:o,collapsedSize:0,children:[t.bio||"No bio found",e.jsx("br",{}),e.jsx(s,{gutterBottom:!0,children:t.location}),e.jsx(s,{gutterBottom:!0,variant:"body",color:"primary.main",onClick:()=>h(!o),children:e.jsx("b",{children:"View less"})})]})}),e.jsx(i,{width:"100%",display:"flex",sx:{px:4,paddingBottom:3},justifyContent:"flex-end",children:e.jsx(T,{variant:"outlined",size:"small",fullWidth:!0,sx:{px:4,height:36,fontSize:16},color:"primary",onClick:()=>C("/editProfile"),children:"Edit profile"})})]})})}export{O as M};
