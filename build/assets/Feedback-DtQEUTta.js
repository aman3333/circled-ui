import{r as h,j as e,T as i,i as y,e as T,u as R,a as B,S as D,s as C,B as c,I as E,C as A,h as v,c as k,p as q,n as W,o as b}from"./index-tWVfh1a_.js";import{P as L}from"./Page-D7TsOLpr.js";import{S as O}from"./Header-C-6_pkkN.js";import{L as S}from"./LabeledInput-B3Qf7l4R.js";import{W as z}from"./ProgramDescriptionModal-Dkibb7pp.js";import{c as V,b as u}from"./array-DbNmRnh0.js";import{u as $,F as G,a as N}from"./formik.esm-jmAInz8L.js";import{L as x}from"./ListItemButton-CBlngsNS.js";import{P as w}from"./Popover-COOgvQR_.js";import{R as P}from"./Radio-C4DJCFiF.js";import{h as U}from"./uploader-C1vfyOx8.js";import{A as H}from"./ArrowLeft-lA8HnlgG.js";import{I as j}from"./InputAdornment-DiI_gVyu.js";import"./TextField-cyeEFY3i.js";import"./OutlinedInput-D3YoqtXT.js";import"./useFormControl-BEzaUW9U.js";import"./InputBase-7pV38TnQ.js";import"./ListContext-BQPXTeBj.js";import"./useControlled-DiwPEJyR.js";import"./isMuiElement-CENM59Ut.js";import"./isObject-MojUmidT.js";import"./SwitchBase-Bs2jeD_h.js";function Y(n){const[d,r]=h.useState(!1),p=["Give feedback","Request a feature"],{selected:o,setSelected:a}=n,s=h.useRef(null);return e.jsxs("div",{children:[" ",e.jsx("span",{ref:s,onClick:()=>r(!0),children:e.jsxs(x,{fullWidth:!0,sx:{backgroundColor:"#F5F7FA",border:"1px solid #C3CBD9",borderRadius:"9px",py:"12px",alignItems:"center",display:"flex",justifyContent:"space-between"},children:[e.jsx(i,{variant:"subtitle2",children:o}),e.jsx(y,{icon:"entypo:select-arrows",color:"common.black"})]})}),e.jsx(w,{id:"mouse-click-popover",open:d,onClose:()=>r(!1),anchorReference:"anchorEl",anchorEl:s.current,PaperProps:{sx:{width:220,borderRadius:.8,boxShadow:t=>t.customShadows.z20,border:t=>`solid 1px ${t.palette.grey[50012]}`}},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:p.map(t=>e.jsxs(x,{onClick:()=>{a(t),r(!1)},children:[e.jsx(P,{checked:t==o}),e.jsx(i,{variant:"subtitle2",children:t})]}))})]})}function _(n){const[d,r]=h.useState(!1),p=["Not satisfied","Satisfied","Very satisfied"],{selected:o,setSelected:a}=n,s=h.useRef(null);return e.jsxs("div",{children:[" ",e.jsx("span",{ref:s,onClick:()=>r(!0),children:e.jsxs(x,{fullWidth:!0,sx:{backgroundColor:"#F5F7FA",border:"1px solid #C3CBD9",borderRadius:"9px",py:"12px",alignItems:"center",display:"flex",justifyContent:"space-between"},children:[e.jsx(i,{variant:"subtitle2",children:o}),e.jsx(y,{icon:"entypo:select-arrows",color:"common.black"})]})}),e.jsx(w,{id:"mouse-click-popover",open:d,onClose:()=>r(!1),anchorReference:"anchorEl",anchorEl:s.current,PaperProps:{sx:{width:220,borderRadius:.8,boxShadow:t=>t.customShadows.z20,border:t=>`solid 1px ${t.palette.grey[50012]}`}},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:p.map(t=>e.jsxs(x,{onClick:()=>{a(t),r(!1)},children:[e.jsx(P,{checked:t==o}),e.jsx(i,{variant:"subtitle2",children:t})]}))})]})}C("div")(({theme:n})=>({paddingTop:n.spacing(8),[n.breakpoints.up("md")]:{paddingTop:n.spacing(11)}}));const J=C(c)(()=>({width:"100%",zIndex:100,backgroundColor:"#fff"}));function ke(){const n=T(),d=R(l=>l.Profile),r=B(),p=V().shape({title:u().required("Title is required").max(50,"Title too long"),type:u().required("Type is required"),satisfaction:u().required("Satisfaction is required"),attachment:u().required("Attachment is required"),description:u().required("Description is required").max(1e3,"Description too long")}),o=$({initialValues:{title:"",description:"",type:"Give feedback",satisfaction:"Very satisfied",attachment:""},validationSchema:p,onSubmit:async(l,{setErrors:g,setSubmitting:I})=>{r({type:"UPDATE_FEED",payload:{loading:!0}}),W.post(b.protocol+b.baseUrl+b.addFeedback,{...l,email:d==null?void 0:d.email}).then(Z=>{r({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"Feedback submitted successfully",severity:"success"}}),I(!1),F()})}}),{errors:a,touched:s,handleSubmit:t,resetForm:F,isSubmitting:K,isValid:M,validateForm:Q,getFieldProps:m,setFieldValue:f,values:X}=o;return e.jsx(L,{title:"Contact us",children:e.jsxs(D,{children:[e.jsx(O,{style:{borderRadius:"0px 0px 8px 8px",boxShadow:"0px 4px 54px rgba(225, 231, 240, 0.5)",overflow:"hidden"},children:e.jsxs(J,{px:2,py:2,children:[e.jsxs(c,{display:"flex",alignItems:"center",children:[" ",e.jsx(E,{onClick:()=>n(-1),sx:{color:"text.primary"},children:e.jsx(H,{})}),e.jsx(i,{variant:"h6",color:"text.primary",children:"Feedback"})," "]})," "]})}),e.jsx(A,{withoutPadding:!0,style:{paddingBottom:24,background:"#fff"},children:e.jsx(G,{value:o,children:e.jsx(N,{autoComplete:"off",noValidate:!0,onSubmit:t,children:e.jsxs(v,{spacing:3,sx:{width:"100%",px:2,py:3},children:[e.jsxs(i,{color:"text.secondary",component:"span",children:["Share Your Feedback & Ideas! ",e.jsx("br",{}),"We value your input! Let us know your thoughts and ideas to help us improve. Your feedback is important to us. Go to"," ",e.jsx(i,{component:"span",color:"primary.main",onClick:()=>n("/help"),children:"Help & support"})," ","with any suggestions or questions."]}),e.jsxs(v,{direction:"row",spacing:2,children:[e.jsxs(c,{width:"50%",children:[e.jsx(i,{variant:"subtitle1",mb:1,children:"I would like to"})," ",e.jsx(Y,{selected:o.values.type,setSelected:l=>f("type",l)})]}),o.values.type=="Give feedback"?e.jsxs(c,{width:"50%",children:[e.jsx(i,{variant:"subtitle1",mb:1,children:"Satisfaction"})," ",e.jsx(_,{selected:o.values.satisfaction,setSelected:l=>f("satisfaction",l)})]}):null]}),e.jsx(S,{fullWidth:!0,placeholder:"Write title here",maxLength:50,clabel:"Title",...m("title"),error:!!(s.title&&a.title),helperText:s.title&&a.title,inputProps:{maxLength:50},InputProps:{endAdornment:e.jsx(j,{position:"end",children:e.jsx(i,{variant:"body2",color:"text.secondary"})})}}),e.jsx(z,{headerTitle:"Create program",headerSubTitle:"Tell us",fullWidth:!0,placeholder:"Write here the details.",clabel:"Tell us",...m("description"),error:!!(s.description&&a.description),helperText:s.description&&a.description,multiline:!0,minRows:6,inputProps:{maxLength:1e3},endAdornment:e.jsx(j,{position:"end",sx:{height:"100%",pt:4},children:e.jsx(c,{position:"absolute",bottom:12,right:16,height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",children:e.jsx(i,{variant:"body2",color:"text.secondary",children:(o.values.description+"").length+"/1000"})})}),children:e.jsx(S,{fullWidth:!0,placeholder:"Write here the details.",clabel:"Tell us",...m("description"),error:!!(s.description&&a.description),helperText:s.description&&a.description,multiline:!0,minRows:6,inputProps:{maxLength:1e3},InputProps:{readOnly:!0,endAdornment:e.jsx(j,{position:"end",sx:{height:"100%",pt:2},children:e.jsx(c,{position:"absolute",bottom:12,right:16,height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",children:e.jsx(i,{variant:"body2",color:"text.secondary",children:(o.values.description+"").length+"/1000"})})})}})}),e.jsxs(c,{children:[e.jsx(i,{variant:"subtitle1",mb:1,children:"Attach file"})," ",e.jsx(c,{display:"flex",justifyContent:"center",alignItems:"center",onClick:()=>document.getElementById("attachment").click(),sx:{width:90,height:90,border:"1.5px dashed #2F86EB",borderColor:"primary.main",borderRadius:"8px"},children:o.values.attachment?e.jsx(i,{variant:"caption",align:"center",children:"1 file attached"}):e.jsx(y,{icon:"teenyicons:attach-outline",color:"primary.main",sx:{fontSize:32}})}),e.jsx("input",{type:"file",id:"attachment",style:{display:"none"},onChange:l=>{r(k({loading:!0})),U(l,"feedback","").then(g=>{f("attachment",g.data.Location),r(k({loading:!1}))})},cropShape:"rect",aspect:2.4})]}),e.jsxs(q,{fullWidth:!0,variant:"contained",type:"submit",children:[" ","Submit"]})]})})})})]})})}export{ke as default};
