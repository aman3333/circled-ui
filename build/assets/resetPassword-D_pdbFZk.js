import{e as j,a as y,r as d,j as e,h as I,p as B,c as i,n as F,o as m,s as r,B as s,d as b,u as T,S as $,I as R,T as z,C as A}from"./index-tWVfh1a_.js";import{P as L}from"./Page-D7TsOLpr.js";import{S as V}from"./Header-C-6_pkkN.js";import{c as q,b as x,f as N}from"./array-DbNmRnh0.js";import{u as W,F as D,a as E}from"./formik.esm-jmAInz8L.js";import{L as f}from"./PasswordInput-D_vhx4J8.js";/* empty css                 */import{A as U}from"./ArrowLeft-lA8HnlgG.js";import"./isObject-MojUmidT.js";import"./createSvgIcon-UmMwsC2Z.js";import"./isMuiElement-CENM59Ut.js";import"./useControlled-DiwPEJyR.js";import"./TextField-cyeEFY3i.js";import"./OutlinedInput-D3YoqtXT.js";import"./useFormControl-BEzaUW9U.js";import"./InputBase-7pV38TnQ.js";import"./Popover-COOgvQR_.js";import"./ListContext-BQPXTeBj.js";import"./InputAdornment-DiI_gVyu.js";r("div")(()=>({height:"100%"}));r(s)(()=>({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 10px",zIndex:100}));r(s)(()=>({position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",paddingTop:52,paddingBottom:24,zIndex:100,top:0}));function O(t){const h=j(),n=y(),c=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?])[A-Za-z\d!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]{8,}$/,w=q().shape({currentPassword:x().required("Password is required"),password:x().required("Password is required").matches(c,"Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character"),confirmPassword:x().oneOf([N("password"),null],"Passwords must match")}),[S,v]=d.useState(null),l=W({initialValues:{},validationSchema:w,onSubmit:async(g,{setErrors:C,setSubmitting:k})=>{k(!0),n(i({loading:!0})),F.post(`${m.protocol}${m.baseUrl}${m.resetPass}`,{Password:g.password,currentPassword:g.currentPassword}).then(P=>{h(-1),n(i({loading:!1,snackbar:!0,message:"Password reset successfully",severity:"success"}))}).catch(P=>(n(i({loading:!1})),P.response.status===409?C({currentPassword:"Current password is incorrect"}):n(i({loading:!1,snackbar:!1,message:"Error updating the password!",severity:"error"}))))}}),{errors:o,touched:a,handleSubmit:p,isSubmitting:H,getFieldProps:u,setFieldValue:M,values:Y}=l;return e.jsx(D,{value:l,children:e.jsxs(E,{autoComplete:"off",noValidate:!0,onSubmit:p,children:[e.jsxs(I,{spacing:2,sx:{width:"100%"},children:[e.jsx(f,{clabel:"Current Password",fullWidth:!0,placeholder:"",...u("currentPassword"),error:!!(a.currentPassword&&o.currentPassword),helperText:a.currentPassword&&o.currentPassword}),e.jsx(f,{clabel:"New Password",fullWidth:!0,placeholder:"",...u("password"),error:!!(a.password&&o.password),helperText:a.password&&o.password}),e.jsx(f,{clabel:"Confirm Password",fullWidth:!0,placeholder:"",...u("confirmPassword"),error:!!(a.confirmPassword&&o.confirmPassword),helperText:a.confirmPassword&&o.confirmPassword})]})," ",e.jsx(B,{variant:"contained",fullWidth:!0,sx:{mt:4},type:"submit",children:"Reset Password"})]})})}const Z=r("div")(({theme:t})=>({backgroundColor:t.palette.background.paper}));r(s)(({theme:t})=>({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px"}));r(s)(()=>({position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",paddingTop:52,paddingBottom:24,zIndex:100,top:0}));r(s)(({theme:t})=>({display:"flex",width:"100%",padding:"0 20px",justifyContent:"center"}));const _=r(s)(()=>({width:"100%",zIndex:100,backgroundColor:"#fff",boxShadow:"0px 4px 54px rgba(225, 231, 240, 0.5)",borderRadius:"0px 0px 8px 8px"}));function xe(){y();const{search:t}=b(),{state:h}=b();console.log(t),new URLSearchParams(t);const n=j(),c=T(p=>p.Profile),[w,S]=d.useState("home"),[v,l]=d.useState([{},{},{},{}]),[o,a]=d.useState("Active");return e.jsx(L,{title:" Simplified Online Fitness Training ",children:e.jsx(Z,{children:e.jsxs($,{children:[e.jsx(V,{children:e.jsxs(_,{px:2,py:2,children:[e.jsxs(s,{display:"flex",alignItems:"center",children:[" ",e.jsx(R,{onClick:()=>n(-1),sx:{color:"text.primary"},children:e.jsx(U,{})}),e.jsx(z,{variant:"h6",color:"text.primary",children:"Reset Password"})," "]})," "]})}),e.jsxs(A,{flex:!0,style:{overflowY:"auto",paddingBottom:"24px"},children:[e.jsx("br",{}),e.jsx(s,{position:"relative",children:e.jsx(O,{Profile:c})})]})]})})})}export{xe as default};
