import{t as Kr,j as f,e as It,a as Ur,g as Qr,s as jt,B as C,h as P,T as S,I as Mr,i as pt,r as X,Y as er,b as Lr,f as Qt,p as Rr,a5 as te,U as re,d as ee,u as at,ae as lr,af as ne,S as ie,C as oe,a4 as pr,ag as gr}from"./index-tWVfh1a_.js";import{P as se}from"./Page-D7TsOLpr.js";import{S as ae}from"./Header-C-6_pkkN.js";import{T as ue}from"./TextMaxLine-BUlHRtTt.js";import{h as fe}from"./moment-G82_0lEo.js";import{d as he}from"./RadioButtonUnchecked-CFncb411.js";import{r as ce}from"./createSvgIcon-UmMwsC2Z.js";import{A as kr}from"./Avatar-DYK8RM-C.js";import{C as le}from"./Checkbox-5Xdp7ogM.js";import{D as nr}from"./Divider-0_Mpg1Be.js";import{L as dr}from"./LightBoxContainer-BsEAh_HD.js";import{T as pe,a as yr}from"./Tabs-Cs2QRRdO.js";import{E as ge}from"./edit-DiWhq57E.js";import{D as de}from"./Delete-fvKHvwYo.js";import{P as ye}from"./Popover-COOgvQR_.js";import{L as mr}from"./ListItemButton-CBlngsNS.js";import{T as me}from"./TextField-cyeEFY3i.js";import{A as xe}from"./ArrowLeft-lA8HnlgG.js";import{g as we,d as be}from"./common-C0dnEDq7.js";import{U as ve}from"./UploadphotoWidget-DKarQPZH.js";import{I as Ce}from"./Image-B5TKYvdb.js";import{g as Ee,a as je}from"./calendar-DVHPmGUO.js";import{u as Se}from"./useSocket-DMLHsbDK.js";import{L as Ne}from"./LinearProgress-C4AIhOO1.js";import{B as _e}from"./Badge-ekxejyFm.js";import"./Link-D6ktmyc-.js";import"./isMuiElement-CENM59Ut.js";import"./useControlled-DiwPEJyR.js";import"./SwitchBase-Bs2jeD_h.js";import"./useFormControl-BEzaUW9U.js";import"./dividerClasses-ClaZwgHh.js";import"./index.es-C24u0DtE.js";import"./warning-C20GYw-A.js";import"./ListContext-BQPXTeBj.js";import"./OutlinedInput-D3YoqtXT.js";import"./InputBase-7pV38TnQ.js";import"./uploader-C1vfyOx8.js";import"./LightboxModal-BNiDpzss.js";import"./Grid-C2UtAwNz.js";import"./usePreviousProps-BiTDTLPM.js";var ir={},Be=Kr;Object.defineProperty(ir,"__esModule",{value:!0});var Dr=ir.default=void 0,Ie=Be(ce()),Oe=f;Dr=ir.default=(0,Ie.default)((0,Oe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");const Ae=jt(C)(()=>({display:"flex",justifyContent:"space-between",margin:"24px 0 24px 0",borderRadius:4,cursor:"pointer"})),Te=jt(C)(()=>({width:"100%",backgroundColor:"#fff",borderRadius:"0px 0px 8px 8px"}));function $r({programs:r,unarchiveProgram:t,onClick:i,status:a,reload:l,onDelete:h,withtotalClients:u,withCheckbox:p,selected:d}){It(),Ur();const{showConfirmationModal:v}=Qr(),x=y=>{v("Are you sure?","You are going to delete this workout program. This process is irreversible","Delete").then(b=>{b&&h(y)})};return f.jsx(Te,{children:r.map((y,b)=>f.jsxs(f.Fragment,{children:[f.jsxs(Ae,{sx:{justifyContent:"flex-start"},onClick:()=>i?i(y):null,children:[f.jsx(C,{display:"flex",flexDirection:"column",alignItems:"center",children:f.jsx(kr,{variant:"rounded",style:{width:"132px",height:"88px",backgroundColor:"#F3F5F8",objectFit:"cover"},src:y.BannerImage||"/images/DefaultThumbnail.png"})}),f.jsxs(C,{marginLeft:2,width:"100%",display:"flex",flexDirection:"column",children:[f.jsxs(C,{display:"flex",justifyContent:"space-between",alignItems:"flex-end",position:"relative",children:[f.jsx(ue,{variant:"h6",line:1,sx:{textTransform:"capitalize",color:"text.primary",maxWidth:y.IsDraft?"100%":"85%"},children:y.Title})," "]}),a?f.jsxs(P,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[f.jsx(S,{color:"text.secondary",component:"span",children:"(Program sent)"}),f.jsx(Mr,{onClick:I=>{I.stopPropagation(),x(y._id)},children:f.jsx(pt,{icon:"ic:round-close",sx:{fontSize:24,color:"error.main"}})})]}):f.jsxs(P,{spacing:.1,children:[f.jsx(P,{direction:"row",spacing:2,alignItems:"center",children:f.jsxs(S,{variant:"body2",color:y.IsDraft?"grey.400":"text.primary",flexWrap:"wrap",children:["Price : ",y.IsDraft?"N/A":"$"+y.Price]})}),f.jsxs(S,{variant:"body2",color:y.IsDraft?"grey.400":"text.primary",flexWrap:"wrap",children:["Created : ",fe(y.createdAt).format("DD-MM-YYYY")]}),u&&f.jsxs(S,{variant:"body2",color:y.IsDraft?"grey.400":"text.primary",flexWrap:"wrap",children:["Total client : ",y.IsDraft?"N/A":y.clients]})]})]}),p&&f.jsx(le,{checked:(d==null?void 0:d._id)==(y==null?void 0:y._id),color:"primary",checkedIcon:f.jsx(Dr,{}),icon:f.jsx(he,{}),size:"large",sx:{width:36,height:36,borderRadius:"50%"}})]}),b!==r.length-1&&f.jsx(nr,{sx:{borderBottomColor:"#E1E7F0"}})]}))})}const Ue=jt(C)(()=>({width:"100%",backgroundColor:"#fff",borderRadius:"0px 0px 0px 0px"}));function Me({setHeaderDependency:r,Profile:t,Program:i,view:a,setView:l}){const[h,u]=X.useState(!0);return It(),f.jsx(Ue,{children:f.jsxs(C,{children:[f.jsxs(C,{children:[t.banner?f.jsx(C,{position:"relative",width:"100%",height:t.banner?"172px":90,bgcolor:t.banner?"#fafafa":"#fff",borderRadius:"0px 0px 8px 8px",children:t.banner?f.jsx(dr,{image:t.banner,children:f.jsx("img",{style:{width:"100%",height:"172px",objectFit:"cover",backgroundColor:"#fff",borderRadius:"0px 0px 8px 8px"},src:t.banner||"/images/profile-banner.png"})}):""}):"",f.jsx(C,{width:"100%",padding:t.banner?"-8px 20px 16px":"32px 20px 0px",children:f.jsxs(C,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[f.jsx(C,{children:f.jsx(C,{sx:{mr:2,bottom:-38,left:16,zIndex:101,width:"88px",height:"88px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",border:"4px solid #fff"},children:f.jsx(dr,{image:t.profilePic||"/images/dummyUser.png",children:f.jsx(kr,{sx:{width:"100%",height:"100%",width:"90px",height:"90px",borderRadius:"50%",border:"3px solid #fff"},src:t.profilePic||"/images/dummyUser.png"})})})}),f.jsxs(P,{width:"100%",children:[f.jsx(P,{direction:"row",alignItems:"flex-end",flexGrow:1,width:"100%",justifyContent:"space-between",children:f.jsx(S,{variant:"h5",color:"text.primary",sx:{textTransform:"capitalize"},children:t.profileName||t.name})}),f.jsxs(S,{variant:"body",color:"text.secondary",children:["#",t.figgsId]})]})]})})]}),f.jsx(C,{width:"auto",margin:"45px 24px 0px",children:f.jsx(C,{mt:2,children:f.jsxs(pe,{value:a,variant:"fullWidth",centered:!0,onChange:(p,d)=>l(d),children:[f.jsx(yr,{value:"program",label:f.jsx(S,{sx:{fontSize:18,fontWeight:a=="program"?"bold":300},children:"Program"})}),f.jsx(yr,{value:"about",label:f.jsx(S,{sx:{fontSize:18,fontWeight:a=="about"?"bold":300},children:"About"})})]})})})]})})}function Le(r){return f.jsxs(er,{width:"55",height:"54",viewBox:"0 0 55 54",xmlns:"http://www.w3.org/2000/svg",...r,children:[f.jsx("path",{d:"M42.5 10.0698H12.5C10.9087 10.0698 9.38258 10.702 8.25736 11.8272C7.13214 12.9524 6.5 14.4785 6.5 16.0698V22.0698H48.5V16.0698C48.5 14.4785 47.8679 12.9524 46.7426 11.8272C45.6174 10.702 44.0913 10.0698 42.5 10.0698ZM15.5 19.5698C14.8078 19.5698 14.1311 19.3646 13.5555 18.98C12.9799 18.5954 12.5313 18.0488 12.2664 17.4092C12.0015 16.7697 11.9322 16.0659 12.0673 15.387C12.2023 14.7081 12.5356 14.0844 13.0251 13.595C13.5146 13.1055 14.1382 12.7721 14.8172 12.6371C15.4961 12.502 16.1999 12.5713 16.8394 12.8362C17.4789 13.1012 18.0256 13.5498 18.4101 14.1253C18.7947 14.7009 19 15.3776 19 16.0698C19 16.9981 18.6313 17.8883 17.9749 18.5447C17.3185 19.2011 16.4283 19.5698 15.5 19.5698V19.5698ZM27.5 19.5698C26.8078 19.5698 26.1311 19.3646 25.5555 18.98C24.9799 18.5954 24.5313 18.0488 24.2664 17.4092C24.0015 16.7697 23.9322 16.0659 24.0673 15.387C24.2023 14.7081 24.5356 14.0844 25.0251 13.595C25.5146 13.1055 26.1383 12.7721 26.8172 12.6371C27.4961 12.502 28.1999 12.5713 28.8394 12.8362C29.4789 13.1012 30.0256 13.5498 30.4101 14.1253C30.7947 14.7009 31 15.3776 31 16.0698C31 16.9981 30.6313 17.8883 29.9749 18.5447C29.3185 19.2011 28.4283 19.5698 27.5 19.5698V19.5698ZM39.5 19.5698C38.8078 19.5698 38.1311 19.3646 37.5555 18.98C36.9799 18.5954 36.5313 18.0488 36.2664 17.4092C36.0015 16.7697 35.9322 16.0659 36.0673 15.387C36.2023 14.7081 36.5356 14.0844 37.0251 13.595C37.5146 13.1055 38.1383 12.7721 38.8172 12.6371C39.4961 12.502 40.1999 12.5713 40.8394 12.8362C41.4789 13.1012 42.0256 13.5498 42.4101 14.1253C42.7947 14.7009 43 15.3776 43 16.0698C43 16.9981 42.6312 17.8883 41.9749 18.5447C41.3185 19.2011 40.4283 19.5698 39.5 19.5698V19.5698Z",fill:"#2F86EB"}),f.jsx("path",{d:"M6.5 22.0698H48.5V36.1598C48.5 37.7511 47.8679 39.2772 46.7426 40.4025C45.6174 41.5277 44.0913 42.1598 42.5 42.1598H12.5C10.9087 42.1598 9.38258 41.5277 8.25736 40.4025C7.13214 39.2772 6.5 37.7511 6.5 36.1598V22.0698Z",fill:"#D0E4FA"}),f.jsx("path",{d:"M36.5 40.5H18.5V43.5H36.5V40.5Z",fill:"#95A3B8"}),f.jsx("path",{d:"M36.5 40.5H18.5V42.4H36.5V40.5Z",fill:"#C3CBD9"}),f.jsx("path",{d:"M20 28.0698H14C13.6022 28.0698 13.2206 27.9118 12.9393 27.6305C12.658 27.3492 12.5 26.9676 12.5 26.5698V26.5698C12.5 26.172 12.658 25.7905 12.9393 25.5092C13.2206 25.2279 13.6022 25.0698 14 25.0698H20C20.3978 25.0698 20.7794 25.2279 21.0607 25.5092C21.342 25.7905 21.5 26.172 21.5 26.5698V26.5698C21.5 26.9676 21.342 27.3492 21.0607 27.6305C20.7794 27.9118 20.3978 28.0698 20 28.0698V28.0698ZM32 26.5698C32 26.172 31.842 25.7905 31.5607 25.5092C31.2794 25.2279 30.8978 25.0698 30.5 25.0698H24.5C24.1022 25.0698 23.7206 25.2279 23.4393 25.5092C23.158 25.7905 23 26.172 23 26.5698V26.5698C23 26.9676 23.158 27.3492 23.4393 27.6305C23.7206 27.9118 24.1022 28.0698 24.5 28.0698H30.5C30.8978 28.0698 31.2794 27.9118 31.5607 27.6305C31.842 27.3492 32 26.9676 32 26.5698V26.5698ZM42.5 26.5698C42.5 26.172 42.342 25.7905 42.0607 25.5092C41.7794 25.2279 41.3978 25.0698 41 25.0698H35C34.6022 25.0698 34.2206 25.2279 33.9393 25.5092C33.658 25.7905 33.5 26.172 33.5 26.5698V26.5698C33.5 26.9676 33.658 27.3492 33.9393 27.6305C34.2206 27.9118 34.6022 28.0698 35 28.0698H41C41.3978 28.0698 41.7794 27.9118 42.0607 27.6305C42.342 27.3492 42.5 26.9676 42.5 26.5698V26.5698ZM21.5 31.5698C21.5 31.172 21.342 30.7905 21.0607 30.5092C20.7794 30.2279 20.3978 30.0698 20 30.0698H14C13.6022 30.0698 13.2206 30.2279 12.9393 30.5092C12.658 30.7905 12.5 31.172 12.5 31.5698V31.5698C12.5 31.9676 12.658 32.3492 12.9393 32.6305C13.2206 32.9118 13.6022 33.0698 14 33.0698H20C20.3978 33.0698 20.7794 32.9118 21.0607 32.6305C21.342 32.3492 21.5 31.9676 21.5 31.5698V31.5698ZM32 31.5698C32 31.172 31.842 30.7905 31.5607 30.5092C31.2794 30.2279 30.8978 30.0698 30.5 30.0698H24.5C24.1022 30.0698 23.7206 30.2279 23.4393 30.5092C23.158 30.7905 23 31.172 23 31.5698C23 31.9676 23.158 32.3492 23.4393 32.6305C23.7206 32.9118 24.1022 33.0698 24.5 33.0698H30.5C30.8978 33.0698 31.2794 32.9118 31.5607 32.6305C31.842 32.3492 32 31.9676 32 31.5698V31.5698Z",fill:"#73AEF2"}),f.jsx("path",{d:"M15.5 18.0698C14.9696 18.0698 14.4609 17.8591 14.0858 17.484C13.7107 17.109 13.5 16.6003 13.5 16.0698V8.06982C13.5 7.53939 13.7107 7.03068 14.0858 6.65561C14.4609 6.28054 14.9696 6.06982 15.5 6.06982C16.0304 6.06982 16.5391 6.28054 16.9142 6.65561C17.2893 7.03068 17.5 7.53939 17.5 8.06982V16.0698C17.5 16.6003 17.2893 17.109 16.9142 17.484C16.5391 17.8591 16.0304 18.0698 15.5 18.0698ZM29.5 16.0698V8.06982C29.5 7.53939 29.2893 7.03068 28.9142 6.65561C28.5391 6.28054 28.0304 6.06982 27.5 6.06982V6.06982C26.9696 6.06982 26.4609 6.28054 26.0858 6.65561C25.7107 7.03068 25.5 7.53939 25.5 8.06982V16.0698C25.5 16.6003 25.7107 17.109 26.0858 17.484C26.4609 17.8591 26.9696 18.0698 27.5 18.0698C28.0304 18.0698 28.5391 17.8591 28.9142 17.484C29.2893 17.109 29.5 16.6003 29.5 16.0698ZM41.5 16.0698V8.06982C41.5 7.53939 41.2893 7.03068 40.9142 6.65561C40.5391 6.28054 40.0304 6.06982 39.5 6.06982V6.06982C38.9696 6.06982 38.4609 6.28054 38.0858 6.65561C37.7107 7.03068 37.5 7.53939 37.5 8.06982V16.0698C37.5 16.6003 37.7107 17.109 38.0858 17.484C38.4609 17.8591 38.9696 18.0698 39.5 18.0698C40.0304 18.0698 40.5391 17.8591 40.9142 17.484C41.2893 17.109 41.5 16.6003 41.5 16.0698Z",fill:"#95A3B8"}),f.jsx("path",{d:"M15.5 16.0698C14.9696 16.0698 14.4609 15.8591 14.0858 15.484C13.7107 15.109 13.5 14.6003 13.5 14.0698V8.06982C13.5 7.53939 13.7107 7.03068 14.0858 6.65561C14.4609 6.28054 14.9696 6.06982 15.5 6.06982C16.0304 6.06982 16.5391 6.28054 16.9142 6.65561C17.2893 7.03068 17.5 7.53939 17.5 8.06982V14.0698C17.5 14.6003 17.2893 15.109 16.9142 15.484C16.5391 15.8591 16.0304 16.0698 15.5 16.0698ZM29.5 14.0698V8.06982C29.5 7.53939 29.2893 7.03068 28.9142 6.65561C28.5391 6.28054 28.0304 6.06982 27.5 6.06982V6.06982C26.9696 6.06982 26.4609 6.28054 26.0858 6.65561C25.7107 7.03068 25.5 7.53939 25.5 8.06982V14.0698C25.5 14.6003 25.7107 15.109 26.0858 15.484C26.4609 15.8591 26.9696 16.0698 27.5 16.0698C28.0304 16.0698 28.5391 15.8591 28.9142 15.484C29.2893 15.109 29.5 14.6003 29.5 14.0698ZM41.5 14.0698V8.06982C41.5 7.53939 41.2893 7.03068 40.9142 6.65561C40.5391 6.28054 40.0304 6.06982 39.5 6.06982V6.06982C38.9696 6.06982 38.4609 6.28054 38.0858 6.65561C37.7107 7.03068 37.5 7.53939 37.5 8.06982V14.0698C37.5 14.6003 37.7107 15.109 38.0858 15.484C38.4609 15.8591 38.9696 16.0698 39.5 16.0698C40.0304 16.0698 40.5391 15.8591 40.9142 15.484C41.2893 15.109 41.5 14.6003 41.5 14.0698Z",fill:"#C3CBD9"}),f.jsx("path",{d:"M18.5 37.5V46.5C18.5 46.8978 18.342 47.2794 18.0607 47.5607C17.7794 47.842 17.3978 48 17 48H14C13.6022 48 13.2206 47.842 12.9393 47.5607C12.658 47.2794 12.5 46.8978 12.5 46.5V45H11.5C11.2348 45 10.9804 44.8946 10.7929 44.7071C10.6054 44.5196 10.5 44.2652 10.5 44V40C10.5 39.7348 10.6054 39.4804 10.7929 39.2929C10.9804 39.1054 11.2348 39 11.5 39H12.5V37.5C12.5 37.1022 12.658 36.7206 12.9393 36.4393C13.2206 36.158 13.6022 36 14 36H17C17.3978 36 17.7794 36.158 18.0607 36.4393C18.342 36.7206 18.5 37.1022 18.5 37.5Z",fill:"#146CD1"}),f.jsx("path",{d:"M44.5 40V44C44.5 44.2652 44.3946 44.5196 44.2071 44.7071C44.0196 44.8946 43.7652 45 43.5 45H42.5V46.5C42.5 46.8978 42.342 47.2794 42.0607 47.5607C41.7794 47.842 41.3978 48 41 48H38C37.6022 48 37.2206 47.842 36.9393 47.5607C36.658 47.2794 36.5 46.8978 36.5 46.5V37.5C36.5 37.1022 36.658 36.7206 36.9393 36.4393C37.2206 36.158 37.6022 36 38 36H41C41.3978 36 41.7794 36.158 42.0607 36.4393C42.342 36.7206 42.5 37.1022 42.5 37.5V39H43.5C43.7652 39 44.0196 39.1054 44.2071 39.2929C44.3946 39.4804 44.5 39.7348 44.5 40Z",fill:"#146CD1"}),f.jsx("path",{d:"M44.5 40V42.5C44.5 42.7652 44.3946 43.0196 44.2071 43.2071C44.0196 43.3946 43.7652 43.5 43.5 43.5H42.5V44C42.5 44.3978 42.342 44.7794 42.0607 45.0607C41.7794 45.342 41.3978 45.5 41 45.5H38C37.6022 45.5 37.2206 45.342 36.9393 45.0607C36.658 44.7794 36.5 44.3978 36.5 44V37.5C36.5 37.1022 36.658 36.7206 36.9393 36.4393C37.2206 36.158 37.6022 36 38 36H41C41.3978 36 41.7794 36.158 42.0607 36.4393C42.342 36.7206 42.5 37.1022 42.5 37.5V39H43.5C43.7652 39 44.0196 39.1054 44.2071 39.2929C44.3946 39.4804 44.5 39.7348 44.5 40Z",fill:"#2F86EB"}),f.jsx("path",{d:"M18.5 37.5V44C18.5 44.3978 18.342 44.7794 18.0607 45.0607C17.7794 45.342 17.3978 45.5 17 45.5H14C13.6022 45.5 13.2206 45.342 12.9393 45.0607C12.658 44.7794 12.5 44.3978 12.5 44V43.5H11.5C11.2348 43.5 10.9804 43.3946 10.7929 43.2071C10.6054 43.0196 10.5 42.7652 10.5 42.5V40C10.5 39.7348 10.6054 39.4804 10.7929 39.2929C10.9804 39.1054 11.2348 39 11.5 39H12.5V37.5C12.5 37.1022 12.658 36.7206 12.9393 36.4393C13.2206 36.158 13.6022 36 14 36H17C17.3978 36 17.7794 36.158 18.0607 36.4393C18.342 36.7206 18.5 37.1022 18.5 37.5Z",fill:"#2F86EB"})]})}function Re(r){return f.jsxs(er,{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:[f.jsx("circle",{cx:"9.45833",cy:"9.45833",r:"8.45833",fill:"none",stroke:"#14B842","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),f.jsx("path",{d:"M8.33333 11.9998L6 9.6665",stroke:"#14B842","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),f.jsx("path",{d:"M13 7.33325L8.33337 11.9999",stroke:"#14B842","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})}function ke(r){const[t,i]=X.useState(!1);It();const{id:a}=Lr(),l=X.useRef(null);return f.jsxs("div",{children:[" ",f.jsx("span",{ref:l,onClick:()=>i(!0),children:r.children}),f.jsxs(ye,{id:"mouse-click-popover",open:t,onClose:()=>i(!1),anchorReference:"anchorEl",anchorEl:l.current,PaperProps:{sx:{width:175,borderRadius:.8,py:1.5,boxShadow:h=>h.customShadows.z20,border:h=>`solid 1px ${h.palette.grey[50012]}`}},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[f.jsxs(mr,{onClick:()=>{i(!1),r.onEdit()},sx:{py:1.5},children:[f.jsx(ge,{}),"   ",f.jsx(S,{variant:"subtitle1",children:"Edit"})]}),f.jsxs(mr,{onClick:()=>{r.onDelete(),i(!1)},sx:{py:1.5},children:[f.jsx(de,{sx:{color:"error.main"}}),"  ",f.jsx(S,{variant:"subtitle1",sx:{color:"error.main"},children:"Clear"})]})]})]})}function De(r){let{todo:t,handleChange:i,deleteTodo:a,pushTodo:l,handleSave:h,toggleedit:u}=r;return f.jsx(P,{spacing:3,sx:{width:"100%",pb:4},children:f.jsxs(P,{children:[t.map((p,d)=>f.jsx(C,{display:"flex",alignItems:"start",children:f.jsx(C,{flex:1,children:p.edit==!0?f.jsx(me,{variant:"outlined",placeholder:"Write a task",value:p.value,onChange:v=>i(v.target.value,d),sx:{mb:1},fullWidth:!0,InputProps:{multiline:!0,endAdornment:f.jsx(Qt,{sx:{color:"primary.main",fontWeight:600},onClick:()=>{h(d)},children:"Done"})}}):f.jsxs(C,{sx:{py:2,display:"flex",alignItems:"flex-start",mb:0,justifyContent:"space-between",borderBottom:"1px solid #E1E7F0"},children:[f.jsxs(C,{display:"flex",alignItems:"center",children:[p.isDone?f.jsx(Re,{}):null," ","  ",f.jsx(S,{color:"text.secondary",children:p.value})]}),f.jsx(C,{sx:{display:"flex",pl:1},children:f.jsx(ke,{onDelete:()=>a(d),onEdit:()=>u(d),children:f.jsx(pt,{icon:"mdi-light:dots-vertical",width:24,height:24,color:"text.primary",sx:{fontSize:24,ml:1}})})})]})})},`${d}`)),f.jsx(C,{width:"100%",children:f.jsxs(Rr,{variant:"text",size:"small",color:"primary",sx:{mt:0,px:0,fontSize:18,pl:0,fontWeight:400},onClick:()=>{l("")},children:[f.jsx(pt,{icon:"mingcute:add-fill",width:20,height:20})," Add task"]})})]})})}function xr(r){return f.jsxs(er,{width:"30",height:"42",viewBox:"0 0 30 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:[f.jsx("path",{d:"M24 3.5H6C2.68629 3.5 0 6.18629 0 9.5V36C0 39.3137 2.68629 42 6 42H24C27.3137 42 30 39.3137 30 36V9.5C30 6.18629 27.3137 3.5 24 3.5Z",fill:"#2F86EB"}),f.jsx("path",{d:"M23.8702 6.95996H6.13019C4.23586 6.95996 2.7002 8.49562 2.7002 10.39V35.1C2.7002 36.9943 4.23586 38.53 6.13019 38.53H23.8702C25.7645 38.53 27.3002 36.9943 27.3002 35.1V10.39C27.3002 8.49562 25.7645 6.95996 23.8702 6.95996Z",fill:"#146CD1"}),f.jsx("path",{d:"M23.8702 6.95996H6.13019C4.23586 6.95996 2.7002 8.49562 2.7002 10.39V33.96C2.7002 35.8543 4.23586 37.39 6.13019 37.39H23.8702C25.7645 37.39 27.3002 35.8543 27.3002 33.96V10.39C27.3002 8.49562 25.7645 6.95996 23.8702 6.95996Z",fill:"#73AEF2"}),f.jsx("path",{d:"M23.8702 6.95996H6.13019C4.23586 6.95996 2.7002 8.49562 2.7002 10.39V32.93C2.7002 34.8243 4.23586 36.36 6.13019 36.36H23.8702C25.7645 36.36 27.3002 34.8243 27.3002 32.93V10.39C27.3002 8.49562 25.7645 6.95996 23.8702 6.95996Z",fill:"white"}),f.jsx("path",{d:"M19 0H11C9.89543 0 9 0.89543 9 2V4C9 5.10457 9.89543 6 11 6H19C20.1046 6 21 5.10457 21 4V2C21 0.89543 20.1046 0 19 0Z",fill:"#D0E4FA"}),f.jsx("path",{d:"M19.2998 13.37H10.2998C9.47138 13.37 8.7998 14.0416 8.7998 14.87C8.7998 15.6984 9.47138 16.37 10.2998 16.37H19.2998C20.1282 16.37 20.7998 15.6984 20.7998 14.87C20.7998 14.0416 20.1282 13.37 19.2998 13.37Z",fill:"#73AEF2"}),f.jsx("path",{d:"M12.4901 19.91H6.92005C6.67778 19.91 6.44528 19.8144 6.27303 19.644C6.10078 19.4737 6.00269 19.2422 6.00005 19C6.00005 18.756 6.09698 18.522 6.26952 18.3494C6.44205 18.1769 6.67606 18.08 6.92005 18.08H12.4901C12.7323 18.0826 12.9638 18.1807 13.1341 18.3529C13.3045 18.5252 13.4001 18.7577 13.4001 19C13.4001 19.1195 13.3765 19.2378 13.3308 19.3482C13.2851 19.4586 13.218 19.5589 13.1335 19.6434C13.049 19.7279 12.9487 19.795 12.8383 19.8407C12.7279 19.8864 12.6096 19.91 12.4901 19.91ZM13.4001 21.66C13.4001 21.4186 13.3042 21.1871 13.1335 21.0165C12.9629 20.8458 12.7314 20.75 12.4901 20.75H6.92005C6.67778 20.7499 6.44528 20.8455 6.27303 21.0159C6.10078 21.1862 6.00269 21.4177 6.00005 21.66C6.00005 21.904 6.09698 22.138 6.26952 22.3105C6.44205 22.483 6.67606 22.58 6.92005 22.58H12.4901C12.7323 22.5773 12.9638 22.4792 13.1341 22.307C13.3045 22.1347 13.4001 21.9022 13.4001 21.66ZM13.4001 24.33C13.4001 24.0877 13.3045 23.8552 13.1341 23.6829C12.9638 23.5107 12.7323 23.4126 12.4901 23.41H6.92005C6.67606 23.41 6.44205 23.5069 6.26952 23.6794C6.09698 23.852 6.00005 24.086 6.00005 24.33C6.00269 24.5722 6.10078 24.8037 6.27303 24.974C6.44528 25.1444 6.67778 25.24 6.92005 25.24H12.4901C12.7314 25.24 12.9629 25.1441 13.1335 24.9734C13.3042 24.8028 13.4001 24.5713 13.4001 24.33ZM13.4001 26.99C13.4001 26.7477 13.3045 26.5152 13.1341 26.3429C12.9638 26.1707 12.7323 26.0726 12.4901 26.07H6.92005C6.79839 26.0699 6.67794 26.0941 6.56566 26.1409C6.45338 26.1878 6.35152 26.2565 6.26595 26.3429C6.18039 26.4294 6.11284 26.532 6.06719 26.6448C6.02155 26.7576 5.99873 26.8783 6.00005 27C6.00005 27.244 6.09698 27.478 6.26952 27.6505C6.44205 27.823 6.67606 27.92 6.92005 27.92H12.4901C12.7323 27.9173 12.9638 27.8192 13.1341 27.647C13.3045 27.4747 13.4001 27.2422 13.4001 27V26.99ZM13.4001 29.66C13.4001 29.4177 13.3045 29.1852 13.1341 29.0129C12.9638 28.8407 12.7323 28.7426 12.4901 28.74H6.92005C6.67606 28.74 6.44205 28.8369 6.26952 29.0094C6.09698 29.1819 6.00005 29.416 6.00005 29.66C6.00269 29.9022 6.10078 30.1337 6.27303 30.304C6.44528 30.4744 6.67778 30.57 6.92005 30.57H12.4901C12.7314 30.57 12.9629 30.4741 13.1335 30.3034C13.3042 30.1328 13.4001 29.9013 13.4001 29.66ZM23.8101 19C23.8101 18.756 23.7131 18.522 23.5406 18.3494C23.3681 18.1769 23.1341 18.08 22.8901 18.08H17.3201C17.0761 18.08 16.842 18.1769 16.6695 18.3494C16.497 18.522 16.4001 18.756 16.4001 19C16.4027 19.2422 16.5008 19.4737 16.673 19.644C16.8453 19.8144 17.0778 19.91 17.3201 19.91H22.8901C23.1323 19.91 23.3648 19.8144 23.5371 19.644C23.7093 19.4737 23.8074 19.2422 23.8101 19ZM23.8101 21.66C23.8074 21.4177 23.7093 21.1862 23.5371 21.0159C23.3648 20.8455 23.1323 20.7499 22.8901 20.75H17.3201C17.0778 20.7499 16.8453 20.8455 16.673 21.0159C16.5008 21.1862 16.4027 21.4177 16.4001 21.66C16.4001 21.904 16.497 22.138 16.6695 22.3105C16.842 22.483 17.0761 22.58 17.3201 22.58H22.8901C23.1341 22.58 23.3681 22.483 23.5406 22.3105C23.7131 22.138 23.8101 21.904 23.8101 21.66ZM23.8101 24.33C23.8101 24.086 23.7131 23.852 23.5406 23.6794C23.3681 23.5069 23.1341 23.41 22.8901 23.41H17.3201C17.0761 23.41 16.842 23.5069 16.6695 23.6794C16.497 23.852 16.4001 24.086 16.4001 24.33C16.4027 24.5722 16.5008 24.8037 16.673 24.974C16.8453 25.1444 17.0778 25.24 17.3201 25.24H22.8901C23.1323 25.24 23.3648 25.1444 23.5371 24.974C23.7093 24.8037 23.8074 24.5722 23.8101 24.33ZM23.8101 26.99C23.8101 26.746 23.7131 26.512 23.5406 26.3394C23.3681 26.1669 23.1341 26.07 22.8901 26.07H17.3201C17.0761 26.07 16.842 26.1669 16.6695 26.3394C16.497 26.512 16.4001 26.746 16.4001 26.99C16.4001 27.234 16.497 27.468 16.6695 27.6405C16.842 27.813 17.0761 27.91 17.3201 27.91H22.8901C23.1323 27.91 23.3648 27.8144 23.5371 27.644C23.7093 27.4737 23.8074 27.2422 23.8101 27V26.99Z",fill:"#D0E4FA"})]})}function $e(r){const[t,i]=X.useState(!1),[a,l]=X.useState(null),h=It(),u=p=>d=>{d&&d.type==="keydown"&&(d.key==="Tab"||d.key==="Shift")||(i(p),l(null))};return f.jsxs("div",{children:[f.jsx(te,{anchor:"bottom",PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none",borderTopLeftRadius:"16px",borderTopRightRadius:"16px"}},disableBackdropTransition:!0,open:t,onClose:u(!1),onOpen:u(!0),children:f.jsx(C,{padding:"24px 24px 0px",style:{borderTopLeftRadius:"16px",borderTopRightRadius:"16px",backgroundColor:"#fff",maxHeight:"70vh",overflowY:"auto"},children:f.jsxs(C,{display:"flex",flexDirection:"column",component:"form",children:[f.jsx(C,{display:"flex",justifyContent:"space-between",alignItems:"center",sx:{textTransform:"capitalize"},children:f.jsx(S,{variant:"h3"})}),(r==null?void 0:r.title)&&f.jsx(nr,{sx:{my:1,mb:2}}),f.jsx($r,{withtotalClients:!0,onClick:p=>{h(`/sendProgram/${p._id}`,{state:{email:r.email}})},selected:a,programs:r.programs})]})})}),f.jsx("div",{onClick:p=>{p.stopPropagation(),i(!0)},children:r.children})]})}function He(r,t){return t={exports:{}},r(t,t.exports),t.exports}var Ve=Je,Pe=Ye,Fe=Ge,st=[],tt=[],Ze=typeof Uint8Array<"u"?Uint8Array:Array,zt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var bt=0,We=zt.length;bt<We;++bt)st[bt]=zt[bt],tt[zt.charCodeAt(bt)]=bt;tt[45]=62;tt[95]=63;function Hr(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=r.indexOf("=");i===-1&&(i=t);var a=i===t?0:4-i%4;return[i,a]}function Je(r){var t=Hr(r),i=t[0],a=t[1];return(i+a)*3/4-a}function ze(r,t,i){return(t+i)*3/4-i}function Ye(r){var t,i=Hr(r),a=i[0],l=i[1],h=new Ze(ze(r,a,l)),u=0,p=l>0?a-4:a,d;for(d=0;d<p;d+=4)t=tt[r.charCodeAt(d)]<<18|tt[r.charCodeAt(d+1)]<<12|tt[r.charCodeAt(d+2)]<<6|tt[r.charCodeAt(d+3)],h[u++]=t>>16&255,h[u++]=t>>8&255,h[u++]=t&255;return l===2&&(t=tt[r.charCodeAt(d)]<<2|tt[r.charCodeAt(d+1)]>>4,h[u++]=t&255),l===1&&(t=tt[r.charCodeAt(d)]<<10|tt[r.charCodeAt(d+1)]<<4|tt[r.charCodeAt(d+2)]>>2,h[u++]=t>>8&255,h[u++]=t&255),h}function qe(r){return st[r>>18&63]+st[r>>12&63]+st[r>>6&63]+st[r&63]}function Xe(r,t,i){for(var a,l=[],h=t;h<i;h+=3)a=(r[h]<<16&16711680)+(r[h+1]<<8&65280)+(r[h+2]&255),l.push(qe(a));return l.join("")}function Ge(r){for(var t,i=r.length,a=i%3,l=[],h=16383,u=0,p=i-a;u<p;u+=h)l.push(Xe(r,u,u+h>p?p:u+h));return a===1?(t=r[i-1],l.push(st[t>>2]+st[t<<4&63]+"==")):a===2&&(t=(r[i-2]<<8)+r[i-1],l.push(st[t>>10]+st[t>>4&63]+st[t<<2&63]+"=")),l.join("")}var Yt={byteLength:Ve,toByteArray:Pe,fromByteArray:Fe};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Ke=function(t,i,a,l,h){var u,p,d=h*8-l-1,v=(1<<d)-1,x=v>>1,y=-7,b=a?h-1:0,I=a?-1:1,w=t[i+b];for(b+=I,u=w&(1<<-y)-1,w>>=-y,y+=d;y>0;u=u*256+t[i+b],b+=I,y-=8);for(p=u&(1<<-y)-1,u>>=-y,y+=l;y>0;p=p*256+t[i+b],b+=I,y-=8);if(u===0)u=1-x;else{if(u===v)return p?NaN:(w?-1:1)*(1/0);p=p+Math.pow(2,l),u=u-x}return(w?-1:1)*p*Math.pow(2,u-l)},Qe=function(t,i,a,l,h,u){var p,d,v,x=u*8-h-1,y=(1<<x)-1,b=y>>1,I=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=l?0:u-1,A=l?1:-1,B=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(d=isNaN(i)?1:0,p=y):(p=Math.floor(Math.log(i)/Math.LN2),i*(v=Math.pow(2,-p))<1&&(p--,v*=2),p+b>=1?i+=I/v:i+=I*Math.pow(2,1-b),i*v>=2&&(p++,v/=2),p+b>=y?(d=0,p=y):p+b>=1?(d=(i*v-1)*Math.pow(2,h),p=p+b):(d=i*Math.pow(2,b-1)*Math.pow(2,h),p=0));h>=8;t[a+w]=d&255,w+=A,d/=256,h-=8);for(p=p<<h|d,x+=h;x>0;t[a+w]=p&255,w+=A,p/=256,x-=8);t[a+w-A]|=B*128},vt={read:Ke,write:Qe},$t=He(function(r,t){var i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=L,t.INSPECT_MAX_BYTES=50;var a=2147483647;t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=l(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{var o=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(o,e),o.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function h(o){if(o>a)throw new RangeError('The value "'+o+'" is invalid for option "size"');var e=new Uint8Array(o);return Object.setPrototypeOf(e,u.prototype),e}function u(o,e,n){if(typeof o=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(o)}return p(o,e,n)}u.poolSize=8192;function p(o,e,n){if(typeof o=="string")return y(o,e);if(ArrayBuffer.isView(o))return I(o);if(o==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(o));if(N(o,ArrayBuffer)||o&&N(o.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(N(o,SharedArrayBuffer)||o&&N(o.buffer,SharedArrayBuffer)))return w(o,e,n);if(typeof o=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var s=o.valueOf&&o.valueOf();if(s!=null&&s!==o)return u.from(s,e,n);var c=A(o);if(c)return c;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof o[Symbol.toPrimitive]=="function")return u.from(o[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(o))}u.from=function(o,e,n){return p(o,e,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function d(o){if(typeof o!="number")throw new TypeError('"size" argument must be of type number');if(o<0)throw new RangeError('The value "'+o+'" is invalid for option "size"')}function v(o,e,n){return d(o),o<=0?h(o):e!==void 0?typeof n=="string"?h(o).fill(e,n):h(o).fill(e):h(o)}u.alloc=function(o,e,n){return v(o,e,n)};function x(o){return d(o),h(o<0?0:B(o)|0)}u.allocUnsafe=function(o){return x(o)},u.allocUnsafeSlow=function(o){return x(o)};function y(o,e){if((typeof e!="string"||e==="")&&(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=$(o,e)|0,s=h(n),c=s.write(o,e);return c!==n&&(s=s.slice(0,c)),s}function b(o){for(var e=o.length<0?0:B(o.length)|0,n=h(e),s=0;s<e;s+=1)n[s]=o[s]&255;return n}function I(o){if(N(o,Uint8Array)){var e=new Uint8Array(o);return w(e.buffer,e.byteOffset,e.byteLength)}return b(o)}function w(o,e,n){if(e<0||o.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var s;return e===void 0&&n===void 0?s=new Uint8Array(o):n===void 0?s=new Uint8Array(o,e):s=new Uint8Array(o,e,n),Object.setPrototypeOf(s,u.prototype),s}function A(o){if(u.isBuffer(o)){var e=B(o.length)|0,n=h(e);return n.length===0||o.copy(n,0,0,e),n}if(o.length!==void 0)return typeof o.length!="number"||Y(o.length)?h(0):b(o);if(o.type==="Buffer"&&Array.isArray(o.data))return b(o.data)}function B(o){if(o>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return o|0}function L(o){return+o!=o&&(o=0),u.alloc(+o)}u.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==u.prototype},u.compare=function(e,n){if(N(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),N(n,Uint8Array)&&(n=u.from(n,n.offset,n.byteLength)),!u.isBuffer(e)||!u.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;for(var s=e.length,c=n.length,g=0,m=Math.min(s,c);g<m;++g)if(e[g]!==n[g]){s=e[g],c=n[g];break}return s<c?-1:c<s?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return u.alloc(0);var s;if(n===void 0)for(n=0,s=0;s<e.length;++s)n+=e[s].length;var c=u.allocUnsafe(n),g=0;for(s=0;s<e.length;++s){var m=e[s];if(N(m,Uint8Array))g+m.length>c.length?u.from(m).copy(c,g):Uint8Array.prototype.set.call(c,m,g);else if(u.isBuffer(m))m.copy(c,g);else throw new TypeError('"list" argument must be an Array of Buffers');g+=m.length}return c};function $(o,e){if(u.isBuffer(o))return o.length;if(ArrayBuffer.isView(o)||N(o,ArrayBuffer))return o.byteLength;if(typeof o!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(o));var n=o.length,s=arguments.length>2&&arguments[2]===!0;if(!s&&n===0)return 0;for(var c=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return wt(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return St(o).length;default:if(c)return s?-1:wt(o).length;e=(""+e).toLowerCase(),c=!0}}u.byteLength=$;function Z(o,e,n){var s=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,e>>>=0,n<=e))return"";for(o||(o="utf8");;)switch(o){case"hex":return G(this,e,n);case"utf8":case"utf-8":return ut(this,e,n);case"ascii":return ft(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return rt(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,n);default:if(s)throw new TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),s=!0}}u.prototype._isBuffer=!0;function E(o,e,n){var s=o[e];o[e]=o[n],o[n]=s}u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<e;n+=2)E(this,n,n+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<e;n+=4)E(this,n,n+3),E(this,n+1,n+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<e;n+=8)E(this,n,n+7),E(this,n+1,n+6),E(this,n+2,n+5),E(this,n+3,n+4);return this},u.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?ut(this,0,e):Z.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:u.compare(this,e)===0},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(e,n,s,c,g){if(N(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(e));if(n===void 0&&(n=0),s===void 0&&(s=e?e.length:0),c===void 0&&(c=0),g===void 0&&(g=this.length),n<0||s>e.length||c<0||g>this.length)throw new RangeError("out of range index");if(c>=g&&n>=s)return 0;if(c>=g)return-1;if(n>=s)return 1;if(n>>>=0,s>>>=0,c>>>=0,g>>>=0,this===e)return 0;for(var m=g-c,U=s-n,R=Math.min(m,U),D=this.slice(c,g),q=e.slice(n,s),H=0;H<R;++H)if(D[H]!==q[H]){m=D[H],U=q[H];break}return m<U?-1:U<m?1:0};function W(o,e,n,s,c){if(o.length===0)return-1;if(typeof n=="string"?(s=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,Y(n)&&(n=c?0:o.length-1),n<0&&(n=o.length+n),n>=o.length){if(c)return-1;n=o.length-1}else if(n<0)if(c)n=0;else return-1;if(typeof e=="string"&&(e=u.from(e,s)),u.isBuffer(e))return e.length===0?-1:F(o,e,n,s,c);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?c?Uint8Array.prototype.indexOf.call(o,e,n):Uint8Array.prototype.lastIndexOf.call(o,e,n):F(o,[e],n,s,c);throw new TypeError("val must be string, number or Buffer")}function F(o,e,n,s,c){var g=1,m=o.length,U=e.length;if(s!==void 0&&(s=String(s).toLowerCase(),s==="ucs2"||s==="ucs-2"||s==="utf16le"||s==="utf-16le")){if(o.length<2||e.length<2)return-1;g=2,m/=2,U/=2,n/=2}function R(hr,cr){return g===1?hr[cr]:hr.readUInt16BE(cr*g)}var D;if(c){var q=-1;for(D=n;D<m;D++)if(R(o,D)===R(e,q===-1?0:D-q)){if(q===-1&&(q=D),D-q+1===U)return q*g}else q!==-1&&(D-=D-q),q=-1}else for(n+U>m&&(n=m-U),D=n;D>=0;D--){for(var H=!0,Rt=0;Rt<U;Rt++)if(R(o,D+Rt)!==R(e,Rt)){H=!1;break}if(H)return D}return-1}u.prototype.includes=function(e,n,s){return this.indexOf(e,n,s)!==-1},u.prototype.indexOf=function(e,n,s){return W(this,e,n,s,!0)},u.prototype.lastIndexOf=function(e,n,s){return W(this,e,n,s,!1)};function J(o,e,n,s){n=Number(n)||0;var c=o.length-n;s?(s=Number(s),s>c&&(s=c)):s=c;var g=e.length;s>g/2&&(s=g/2);for(var m=0;m<s;++m){var U=parseInt(e.substr(m*2,2),16);if(Y(U))return m;o[n+m]=U}return m}function nt(o,e,n,s){return _(wt(e,o.length-n),o,n,s)}function ct(o,e,n,s){return _(Mt(e),o,n,s)}function it(o,e,n,s){return _(St(e),o,n,s)}function yt(o,e,n,s){return _(Lt(e,o.length-n),o,n,s)}u.prototype.write=function(e,n,s,c){if(n===void 0)c="utf8",s=this.length,n=0;else if(s===void 0&&typeof n=="string")c=n,s=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(s)?(s=s>>>0,c===void 0&&(c="utf8")):(c=s,s=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var g=this.length-n;if((s===void 0||s>g)&&(s=g),e.length>0&&(s<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");c||(c="utf8");for(var m=!1;;)switch(c){case"hex":return J(this,e,n,s);case"utf8":case"utf-8":return nt(this,e,n,s);case"ascii":case"latin1":case"binary":return ct(this,e,n,s);case"base64":return it(this,e,n,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yt(this,e,n,s);default:if(m)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase(),m=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function rt(o,e,n){return e===0&&n===o.length?Yt.fromByteArray(o):Yt.fromByteArray(o.slice(e,n))}function ut(o,e,n){n=Math.min(o.length,n);for(var s=[],c=e;c<n;){var g=o[c],m=null,U=g>239?4:g>223?3:g>191?2:1;if(c+U<=n){var R,D,q,H;switch(U){case 1:g<128&&(m=g);break;case 2:R=o[c+1],(R&192)===128&&(H=(g&31)<<6|R&63,H>127&&(m=H));break;case 3:R=o[c+1],D=o[c+2],(R&192)===128&&(D&192)===128&&(H=(g&15)<<12|(R&63)<<6|D&63,H>2047&&(H<55296||H>57343)&&(m=H));break;case 4:R=o[c+1],D=o[c+2],q=o[c+3],(R&192)===128&&(D&192)===128&&(q&192)===128&&(H=(g&15)<<18|(R&63)<<12|(D&63)<<6|q&63,H>65535&&H<1114112&&(m=H))}}m===null?(m=65533,U=1):m>65535&&(m-=65536,s.push(m>>>10&1023|55296),m=56320|m&1023),s.push(m),c+=U}return mt(s)}var et=4096;function mt(o){var e=o.length;if(e<=et)return String.fromCharCode.apply(String,o);for(var n="",s=0;s<e;)n+=String.fromCharCode.apply(String,o.slice(s,s+=et));return n}function ft(o,e,n){var s="";n=Math.min(o.length,n);for(var c=e;c<n;++c)s+=String.fromCharCode(o[c]&127);return s}function k(o,e,n){var s="";n=Math.min(o.length,n);for(var c=e;c<n;++c)s+=String.fromCharCode(o[c]);return s}function G(o,e,n){var s=o.length;(!e||e<0)&&(e=0),(!n||n<0||n>s)&&(n=s);for(var c="",g=e;g<n;++g)c+=Jt[o[g]];return c}function T(o,e,n){for(var s=o.slice(e,n),c="",g=0;g<s.length-1;g+=2)c+=String.fromCharCode(s[g]+s[g+1]*256);return c}u.prototype.slice=function(e,n){var s=this.length;e=~~e,n=n===void 0?s:~~n,e<0?(e+=s,e<0&&(e=0)):e>s&&(e=s),n<0?(n+=s,n<0&&(n=0)):n>s&&(n=s),n<e&&(n=e);var c=this.subarray(e,n);return Object.setPrototypeOf(c,u.prototype),c};function O(o,e,n){if(o%1!==0||o<0)throw new RangeError("offset is not uint");if(o+e>n)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(e,n,s){e=e>>>0,n=n>>>0,s||O(e,n,this.length);for(var c=this[e],g=1,m=0;++m<n&&(g*=256);)c+=this[e+m]*g;return c},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,n,s){e=e>>>0,n=n>>>0,s||O(e,n,this.length);for(var c=this[e+--n],g=1;n>0&&(g*=256);)c+=this[e+--n]*g;return c},u.prototype.readUint8=u.prototype.readUInt8=function(e,n){return e=e>>>0,n||O(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,n){return e=e>>>0,n||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,n){return e=e>>>0,n||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,n){return e=e>>>0,n||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,n){return e=e>>>0,n||O(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,n,s){e=e>>>0,n=n>>>0,s||O(e,n,this.length);for(var c=this[e],g=1,m=0;++m<n&&(g*=256);)c+=this[e+m]*g;return g*=128,c>=g&&(c-=Math.pow(2,8*n)),c},u.prototype.readIntBE=function(e,n,s){e=e>>>0,n=n>>>0,s||O(e,n,this.length);for(var c=n,g=1,m=this[e+--c];c>0&&(g*=256);)m+=this[e+--c]*g;return g*=128,m>=g&&(m-=Math.pow(2,8*n)),m},u.prototype.readInt8=function(e,n){return e=e>>>0,n||O(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},u.prototype.readInt16LE=function(e,n){e=e>>>0,n||O(e,2,this.length);var s=this[e]|this[e+1]<<8;return s&32768?s|4294901760:s},u.prototype.readInt16BE=function(e,n){e=e>>>0,n||O(e,2,this.length);var s=this[e+1]|this[e]<<8;return s&32768?s|4294901760:s},u.prototype.readInt32LE=function(e,n){return e=e>>>0,n||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,n){return e=e>>>0,n||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,n){return e=e>>>0,n||O(e,4,this.length),vt.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,n){return e=e>>>0,n||O(e,4,this.length),vt.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,n){return e=e>>>0,n||O(e,8,this.length),vt.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,n){return e=e>>>0,n||O(e,8,this.length),vt.read(this,e,!1,52,8)};function z(o,e,n,s,c,g){if(!u.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>c||e<g)throw new RangeError('"value" argument is out of bounds');if(n+s>o.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,n,s,c){if(e=+e,n=n>>>0,s=s>>>0,!c){var g=Math.pow(2,8*s)-1;z(this,e,n,s,g,0)}var m=1,U=0;for(this[n]=e&255;++U<s&&(m*=256);)this[n+U]=e/m&255;return n+s},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,n,s,c){if(e=+e,n=n>>>0,s=s>>>0,!c){var g=Math.pow(2,8*s)-1;z(this,e,n,s,g,0)}var m=s-1,U=1;for(this[n+m]=e&255;--m>=0&&(U*=256);)this[n+m]=e/U&255;return n+s},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,n,s){return e=+e,n=n>>>0,s||z(this,e,n,1,255,0),this[n]=e&255,n+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,n,s){return e=+e,n=n>>>0,s||z(this,e,n,2,65535,0),this[n]=e&255,this[n+1]=e>>>8,n+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,n,s){return e=+e,n=n>>>0,s||z(this,e,n,2,65535,0),this[n]=e>>>8,this[n+1]=e&255,n+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,n,s){return e=+e,n=n>>>0,s||z(this,e,n,4,4294967295,0),this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=e&255,n+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,n,s){return e=+e,n=n>>>0,s||z(this,e,n,4,4294967295,0),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255,n+4},u.prototype.writeIntLE=function(e,n,s,c){if(e=+e,n=n>>>0,!c){var g=Math.pow(2,8*s-1);z(this,e,n,s,g-1,-g)}var m=0,U=1,R=0;for(this[n]=e&255;++m<s&&(U*=256);)e<0&&R===0&&this[n+m-1]!==0&&(R=1),this[n+m]=(e/U>>0)-R&255;return n+s},u.prototype.writeIntBE=function(e,n,s,c){if(e=+e,n=n>>>0,!c){var g=Math.pow(2,8*s-1);z(this,e,n,s,g-1,-g)}var m=s-1,U=1,R=0;for(this[n+m]=e&255;--m>=0&&(U*=256);)e<0&&R===0&&this[n+m+1]!==0&&(R=1),this[n+m]=(e/U>>0)-R&255;return n+s},u.prototype.writeInt8=function(e,n,s){return e=+e,n=n>>>0,s||z(this,e,n,1,127,-128),e<0&&(e=255+e+1),this[n]=e&255,n+1},u.prototype.writeInt16LE=function(e,n,s){return e=+e,n=n>>>0,s||z(this,e,n,2,32767,-32768),this[n]=e&255,this[n+1]=e>>>8,n+2},u.prototype.writeInt16BE=function(e,n,s){return e=+e,n=n>>>0,s||z(this,e,n,2,32767,-32768),this[n]=e>>>8,this[n+1]=e&255,n+2},u.prototype.writeInt32LE=function(e,n,s){return e=+e,n=n>>>0,s||z(this,e,n,4,2147483647,-2147483648),this[n]=e&255,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24,n+4},u.prototype.writeInt32BE=function(e,n,s){return e=+e,n=n>>>0,s||z(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255,n+4};function At(o,e,n,s,c,g){if(n+s>o.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function xt(o,e,n,s,c){return e=+e,n=n>>>0,c||At(o,e,n,4),vt.write(o,e,n,s,23,4),n+4}u.prototype.writeFloatLE=function(e,n,s){return xt(this,e,n,!0,s)},u.prototype.writeFloatBE=function(e,n,s){return xt(this,e,n,!1,s)};function Tt(o,e,n,s,c){return e=+e,n=n>>>0,c||At(o,e,n,8),vt.write(o,e,n,s,52,8),n+8}u.prototype.writeDoubleLE=function(e,n,s){return Tt(this,e,n,!0,s)},u.prototype.writeDoubleBE=function(e,n,s){return Tt(this,e,n,!1,s)},u.prototype.copy=function(e,n,s,c){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(s||(s=0),!c&&c!==0&&(c=this.length),n>=e.length&&(n=e.length),n||(n=0),c>0&&c<s&&(c=s),c===s||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(s<0||s>=this.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("sourceEnd out of bounds");c>this.length&&(c=this.length),e.length-n<c-s&&(c=e.length-n+s);var g=c-s;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,s,c):Uint8Array.prototype.set.call(e,this.subarray(s,c),n),g},u.prototype.fill=function(e,n,s,c){if(typeof e=="string"){if(typeof n=="string"?(c=n,n=0,s=this.length):typeof s=="string"&&(c=s,s=this.length),c!==void 0&&typeof c!="string")throw new TypeError("encoding must be a string");if(typeof c=="string"&&!u.isEncoding(c))throw new TypeError("Unknown encoding: "+c);if(e.length===1){var g=e.charCodeAt(0);(c==="utf8"&&g<128||c==="latin1")&&(e=g)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(n<0||this.length<n||this.length<s)throw new RangeError("Out of range index");if(s<=n)return this;n=n>>>0,s=s===void 0?this.length:s>>>0,e||(e=0);var m;if(typeof e=="number")for(m=n;m<s;++m)this[m]=e;else{var U=u.isBuffer(e)?e:u.from(e,c),R=U.length;if(R===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(m=0;m<s-n;++m)this[m+n]=U[m%R]}return this};var Wt=/[^+/0-9A-Za-z-_]/g;function Ut(o){if(o=o.split("=")[0],o=o.trim().replace(Wt,""),o.length<2)return"";for(;o.length%4!==0;)o=o+"=";return o}function wt(o,e){e=e||1/0;for(var n,s=o.length,c=null,g=[],m=0;m<s;++m){if(n=o.charCodeAt(m),n>55295&&n<57344){if(!c){if(n>56319){(e-=3)>-1&&g.push(239,191,189);continue}else if(m+1===s){(e-=3)>-1&&g.push(239,191,189);continue}c=n;continue}if(n<56320){(e-=3)>-1&&g.push(239,191,189),c=n;continue}n=(c-55296<<10|n-56320)+65536}else c&&(e-=3)>-1&&g.push(239,191,189);if(c=null,n<128){if((e-=1)<0)break;g.push(n)}else if(n<2048){if((e-=2)<0)break;g.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;g.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;g.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return g}function Mt(o){for(var e=[],n=0;n<o.length;++n)e.push(o.charCodeAt(n)&255);return e}function Lt(o,e){for(var n,s,c,g=[],m=0;m<o.length&&!((e-=2)<0);++m)n=o.charCodeAt(m),s=n>>8,c=n%256,g.push(c),g.push(s);return g}function St(o){return Yt.toByteArray(Ut(o))}function _(o,e,n,s){for(var c=0;c<s&&!(c+n>=e.length||c>=o.length);++c)e[c+n]=o[c];return c}function N(o,e){return o instanceof e||o!=null&&o.constructor!=null&&o.constructor.name!=null&&o.constructor.name===e.name}function Y(o){return o!==o}var Jt=function(){for(var o="0123456789abcdef",e=new Array(256),n=0;n<16;++n)for(var s=n*16,c=0;c<16;++c)e[s+c]=o[n]+o[c];return e}()}),M=$t.Buffer;$t.SlowBuffer;$t.INSPECT_MAX_BYTES;$t.kMaxLength;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tr=function(t,i){return tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var h in l)l.hasOwnProperty(h)&&(a[h]=l[h])},tr(t,i)};function Ht(r,t){tr(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var gt=function(r){Ht(t,r);function t(i){var a=r.call(this,i)||this;return Object.setPrototypeOf(a,t.prototype),a}return Object.defineProperty(t.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),t}(Error),V=function(r){Ht(t,r);function t(i){var a=r.call(this,i)||this;return Object.setPrototypeOf(a,t.prototype),a}return Object.defineProperty(t.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),t}(TypeError);function kt(r){return r&&r.Math==Math&&r}function Vr(){return kt(typeof globalThis=="object"&&globalThis)||kt(typeof window=="object"&&window)||kt(typeof self=="object"&&self)||kt(typeof globalThis=="object"&&globalThis)||Function("return this")()}function tn(){var r=Vr();return typeof r.navigator=="object"&&r.navigator.product==="ReactNative"}var rn=function(t){var i=tn()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(i);for(var a=M.alloc(t),l=0;l<t;++l)a[l]=Math.floor(Math.random()*256);return a},en=function(){{if(typeof window<"u"){var r=window.crypto||window.msCrypto;if(r&&r.getRandomValues)return function(t){return r.getRandomValues(M.alloc(t))}}return typeof globalThis<"u"&&globalThis.crypto&&globalThis.crypto.getRandomValues?function(t){return globalThis.crypto.getRandomValues(M.alloc(t))}:rn}},Pr=en();function nn(r){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(r))}function or(r){return Object.prototype.toString.call(r)==="[object Uint8Array]"}function on(r){return Object.prototype.toString.call(r)==="[object RegExp]"}function sn(r){return Ot(r)&&Object.prototype.toString.call(r)==="[object Date]"}function Ot(r){return typeof r=="object"&&r!==null}function Vt(r,t){var i=!1;function a(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];return i||(console.warn(t),i=!0),r.apply(this,l)}return a}function Dt(r){if(ArrayBuffer.isView(r))return M.from(r.buffer,r.byteOffset,r.byteLength);if(nn(r))return M.from(r);throw new V("Must use either Buffer or TypedArray")}var an=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,Fr=function(r){return typeof r=="string"&&an.test(r)},rr=function(r){if(!Fr(r))throw new V('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var t=r.replace(/-/g,"");return M.from(t,"hex")},wr=function(r,t){return t===void 0&&(t=!0),t?r.toString("hex",0,4)+"-"+r.toString("hex",4,6)+"-"+r.toString("hex",6,8)+"-"+r.toString("hex",8,10)+"-"+r.toString("hex",10,16):r.toString("hex")},un=Math.pow(2,53),fn=-Math.pow(2,53),Zr=4,dt=function(){function r(t,i){if(!(this instanceof r))return new r(t,i);if(t!=null&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!(t instanceof ArrayBuffer)&&!Array.isArray(t))throw new V("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=i??r.BSON_BINARY_SUBTYPE_DEFAULT,t==null?(this.buffer=M.alloc(r.BUFFER_SIZE),this.position=0):(typeof t=="string"?this.buffer=M.from(t,"binary"):Array.isArray(t)?this.buffer=M.from(t):this.buffer=Dt(t),this.position=this.buffer.byteLength)}return r.prototype.put=function(t){if(typeof t=="string"&&t.length!==1)throw new V("only accepts single character String");if(typeof t!="number"&&t.length!==1)throw new V("only accepts single character Uint8Array or Array");var i;if(typeof t=="string"?i=t.charCodeAt(0):typeof t=="number"?i=t:i=t[0],i<0||i>255)throw new V("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=i;else{var a=M.alloc(r.BUFFER_SIZE+this.buffer.length);this.buffer.copy(a,0,0,this.buffer.length),this.buffer=a,this.buffer[this.position++]=i}},r.prototype.write=function(t,i){if(i=typeof i=="number"?i:this.position,this.buffer.length<i+t.length){var a=M.alloc(this.buffer.length+t.length);this.buffer.copy(a,0,0,this.buffer.length),this.buffer=a}ArrayBuffer.isView(t)?(this.buffer.set(Dt(t),i),this.position=i+t.byteLength>this.position?i+t.length:this.position):typeof t=="string"&&(this.buffer.write(t,i,t.length,"binary"),this.position=i+t.length>this.position?i+t.length:this.position)},r.prototype.read=function(t,i){return i=i&&i>0?i:this.position,this.buffer.slice(t,t+i)},r.prototype.value=function(t){return t=!!t,t&&this.buffer.length===this.position?this.buffer:t?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},r.prototype.length=function(){return this.position},r.prototype.toJSON=function(){return this.buffer.toString("base64")},r.prototype.toString=function(t){return this.buffer.toString(t)},r.prototype.toExtendedJSON=function(t){t=t||{};var i=this.buffer.toString("base64"),a=Number(this.sub_type).toString(16);return t.legacy?{$binary:i,$type:a.length===1?"0"+a:a}:{$binary:{base64:i,subType:a.length===1?"0"+a:a}}},r.prototype.toUUID=function(){if(this.sub_type===r.SUBTYPE_UUID)return new br(this.buffer.slice(0,this.position));throw new gt('Binary sub_type "'.concat(this.sub_type,'" is not supported for converting to UUID. Only "').concat(r.SUBTYPE_UUID,'" is currently supported.'))},r.fromExtendedJSON=function(t,i){i=i||{};var a,l;if("$binary"in t?i.legacy&&typeof t.$binary=="string"&&"$type"in t?(l=t.$type?parseInt(t.$type,16):0,a=M.from(t.$binary,"base64")):typeof t.$binary!="string"&&(l=t.$binary.subType?parseInt(t.$binary.subType,16):0,a=M.from(t.$binary.base64,"base64")):"$uuid"in t&&(l=4,a=rr(t.$uuid)),!a)throw new V("Unexpected Binary Extended JSON format ".concat(JSON.stringify(t)));return l===Zr?new br(a):new r(a,l)},r.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},r.prototype.inspect=function(){var t=this.value(!0);return'new Binary(Buffer.from("'.concat(t.toString("hex"),'", "hex"), ').concat(this.sub_type,")")},r.BSON_BINARY_SUBTYPE_DEFAULT=0,r.BUFFER_SIZE=256,r.SUBTYPE_DEFAULT=0,r.SUBTYPE_FUNCTION=1,r.SUBTYPE_BYTE_ARRAY=2,r.SUBTYPE_UUID_OLD=3,r.SUBTYPE_UUID=4,r.SUBTYPE_MD5=5,r.SUBTYPE_ENCRYPTED=6,r.SUBTYPE_COLUMN=7,r.SUBTYPE_USER_DEFINED=128,r}();Object.defineProperty(dt.prototype,"_bsontype",{value:"Binary"});var qt=16,br=function(r){Ht(t,r);function t(i){var a=this,l,h;if(i==null)l=t.generate();else if(i instanceof t)l=M.from(i.buffer),h=i.__id;else if(ArrayBuffer.isView(i)&&i.byteLength===qt)l=Dt(i);else if(typeof i=="string")l=rr(i);else throw new V("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");return a=r.call(this,l,Zr)||this,a.__id=h,a}return Object.defineProperty(t.prototype,"id",{get:function(){return this.buffer},set:function(i){this.buffer=i,t.cacheHexString&&(this.__id=wr(i))},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(i){if(i===void 0&&(i=!0),t.cacheHexString&&this.__id)return this.__id;var a=wr(this.id,i);return t.cacheHexString&&(this.__id=a),a},t.prototype.toString=function(i){return i?this.id.toString(i):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(i){if(!i)return!1;if(i instanceof t)return i.id.equals(this.id);try{return new t(i).id.equals(this.id)}catch{return!1}},t.prototype.toBinary=function(){return new dt(this.id,dt.SUBTYPE_UUID)},t.generate=function(){var i=Pr(qt);return i[6]=i[6]&15|64,i[8]=i[8]&63|128,M.from(i)},t.isValid=function(i){return i?i instanceof t?!0:typeof i=="string"?Fr(i):or(i)?i.length!==qt?!1:(i[6]&240)===64&&(i[8]&128)===128:!1:!1},t.createFromHexString=function(i){var a=rr(i);return new t(a)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new UUID("'.concat(this.toHexString(),'")')},t}(dt),Pt=function(){function r(t,i){if(!(this instanceof r))return new r(t,i);this.code=t,this.scope=i}return r.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},r.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},r.fromExtendedJSON=function(t){return new r(t.$code,t.$scope)},r.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},r.prototype.inspect=function(){var t=this.toJSON();return'new Code("'.concat(String(t.code),'"').concat(t.scope?", ".concat(JSON.stringify(t.scope)):"",")")},r}();Object.defineProperty(Pt.prototype,"_bsontype",{value:"Code"});function hn(r){return Ot(r)&&r.$id!=null&&typeof r.$ref=="string"&&(r.$db==null||typeof r.$db=="string")}var _t=function(){function r(t,i,a,l){if(!(this instanceof r))return new r(t,i,a,l);var h=t.split(".");h.length===2&&(a=h.shift(),t=h.shift()),this.collection=t,this.oid=i,this.db=a,this.fields=l||{}}return Object.defineProperty(r.prototype,"namespace",{get:function(){return this.collection},set:function(t){this.collection=t},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){var t=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(t.$db=this.db),t},r.prototype.toExtendedJSON=function(t){t=t||{};var i={$ref:this.collection,$id:this.oid};return t.legacy||(this.db&&(i.$db=this.db),i=Object.assign(i,this.fields)),i},r.fromExtendedJSON=function(t){var i=Object.assign({},t);return delete i.$ref,delete i.$id,delete i.$db,new r(t.$ref,t.$id,t.$db,i)},r.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},r.prototype.inspect=function(){var t=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return'new DBRef("'.concat(this.namespace,'", new ObjectId("').concat(String(t),'")').concat(this.db?', "'.concat(this.db,'"'):"",")")},r}();Object.defineProperty(_t.prototype,"_bsontype",{value:"DBRef"});var Q=void 0;try{Q=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var vr=65536,cn=1<<24,Et=vr*vr,Wr=Et*Et,Cr=Wr/2,Er={},jr={},j=function(){function r(t,i,a){if(t===void 0&&(t=0),!(this instanceof r))return new r(t,i,a);typeof t=="bigint"?Object.assign(this,r.fromBigInt(t,!!i)):typeof t=="string"?Object.assign(this,r.fromString(t,!!i)):(this.low=t|0,this.high=i|0,this.unsigned=!!a),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return r.fromBits=function(t,i,a){return new r(t,i,a)},r.fromInt=function(t,i){var a,l,h;return i?(t>>>=0,(h=0<=t&&t<256)&&(l=jr[t],l)?l:(a=r.fromBits(t,(t|0)<0?-1:0,!0),h&&(jr[t]=a),a)):(t|=0,(h=-128<=t&&t<128)&&(l=Er[t],l)?l:(a=r.fromBits(t,t<0?-1:0,!1),h&&(Er[t]=a),a))},r.fromNumber=function(t,i){if(isNaN(t))return i?r.UZERO:r.ZERO;if(i){if(t<0)return r.UZERO;if(t>=Wr)return r.MAX_UNSIGNED_VALUE}else{if(t<=-Cr)return r.MIN_VALUE;if(t+1>=Cr)return r.MAX_VALUE}return t<0?r.fromNumber(-t,i).neg():r.fromBits(t%Et|0,t/Et|0,i)},r.fromBigInt=function(t,i){return r.fromString(t.toString(),i)},r.fromString=function(t,i,a){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return r.ZERO;if(typeof i=="number"?(a=i,i=!1):i=!!i,a=a||10,a<2||36<a)throw RangeError("radix");var l;if((l=t.indexOf("-"))>0)throw Error("interior hyphen");if(l===0)return r.fromString(t.substring(1),i,a).neg();for(var h=r.fromNumber(Math.pow(a,8)),u=r.ZERO,p=0;p<t.length;p+=8){var d=Math.min(8,t.length-p),v=parseInt(t.substring(p,p+d),a);if(d<8){var x=r.fromNumber(Math.pow(a,d));u=u.mul(x).add(r.fromNumber(v))}else u=u.mul(h),u=u.add(r.fromNumber(v))}return u.unsigned=i,u},r.fromBytes=function(t,i,a){return a?r.fromBytesLE(t,i):r.fromBytesBE(t,i)},r.fromBytesLE=function(t,i){return new r(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,i)},r.fromBytesBE=function(t,i){return new r(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],i)},r.isLong=function(t){return Ot(t)&&t.__isLong__===!0},r.fromValue=function(t,i){return typeof t=="number"?r.fromNumber(t,i):typeof t=="string"?r.fromString(t,i):r.fromBits(t.low,t.high,typeof i=="boolean"?i:t.unsigned)},r.prototype.add=function(t){r.isLong(t)||(t=r.fromValue(t));var i=this.high>>>16,a=this.high&65535,l=this.low>>>16,h=this.low&65535,u=t.high>>>16,p=t.high&65535,d=t.low>>>16,v=t.low&65535,x=0,y=0,b=0,I=0;return I+=h+v,b+=I>>>16,I&=65535,b+=l+d,y+=b>>>16,b&=65535,y+=a+p,x+=y>>>16,y&=65535,x+=i+u,x&=65535,r.fromBits(b<<16|I,x<<16|y,this.unsigned)},r.prototype.and=function(t){return r.isLong(t)||(t=r.fromValue(t)),r.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},r.prototype.compare=function(t){if(r.isLong(t)||(t=r.fromValue(t)),this.eq(t))return 0;var i=this.isNegative(),a=t.isNegative();return i&&!a?-1:!i&&a?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},r.prototype.comp=function(t){return this.compare(t)},r.prototype.divide=function(t){if(r.isLong(t)||(t=r.fromValue(t)),t.isZero())throw Error("division by zero");if(Q){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var i=(this.unsigned?Q.div_u:Q.div_s)(this.low,this.high,t.low,t.high);return r.fromBits(i,Q.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?r.UZERO:r.ZERO;var a,l,h;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return r.UZERO;if(t.gt(this.shru(1)))return r.UONE;h=r.UZERO}else{if(this.eq(r.MIN_VALUE)){if(t.eq(r.ONE)||t.eq(r.NEG_ONE))return r.MIN_VALUE;if(t.eq(r.MIN_VALUE))return r.ONE;var u=this.shr(1);return a=u.div(t).shl(1),a.eq(r.ZERO)?t.isNegative()?r.ONE:r.NEG_ONE:(l=this.sub(t.mul(a)),h=a.add(l.div(t)),h)}else if(t.eq(r.MIN_VALUE))return this.unsigned?r.UZERO:r.ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();h=r.ZERO}for(l=this;l.gte(t);){a=Math.max(1,Math.floor(l.toNumber()/t.toNumber()));for(var p=Math.ceil(Math.log(a)/Math.LN2),d=p<=48?1:Math.pow(2,p-48),v=r.fromNumber(a),x=v.mul(t);x.isNegative()||x.gt(l);)a-=d,v=r.fromNumber(a,this.unsigned),x=v.mul(t);v.isZero()&&(v=r.ONE),h=h.add(v),l=l.sub(x)}return h},r.prototype.div=function(t){return this.divide(t)},r.prototype.equals=function(t){return r.isLong(t)||(t=r.fromValue(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low},r.prototype.eq=function(t){return this.equals(t)},r.prototype.getHighBits=function(){return this.high},r.prototype.getHighBitsUnsigned=function(){return this.high>>>0},r.prototype.getLowBits=function(){return this.low},r.prototype.getLowBitsUnsigned=function(){return this.low>>>0},r.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(r.MIN_VALUE)?64:this.neg().getNumBitsAbs();var t=this.high!==0?this.high:this.low,i;for(i=31;i>0&&!(t&1<<i);i--);return this.high!==0?i+33:i+1},r.prototype.greaterThan=function(t){return this.comp(t)>0},r.prototype.gt=function(t){return this.greaterThan(t)},r.prototype.greaterThanOrEqual=function(t){return this.comp(t)>=0},r.prototype.gte=function(t){return this.greaterThanOrEqual(t)},r.prototype.ge=function(t){return this.greaterThanOrEqual(t)},r.prototype.isEven=function(){return(this.low&1)===0},r.prototype.isNegative=function(){return!this.unsigned&&this.high<0},r.prototype.isOdd=function(){return(this.low&1)===1},r.prototype.isPositive=function(){return this.unsigned||this.high>=0},r.prototype.isZero=function(){return this.high===0&&this.low===0},r.prototype.lessThan=function(t){return this.comp(t)<0},r.prototype.lt=function(t){return this.lessThan(t)},r.prototype.lessThanOrEqual=function(t){return this.comp(t)<=0},r.prototype.lte=function(t){return this.lessThanOrEqual(t)},r.prototype.modulo=function(t){if(r.isLong(t)||(t=r.fromValue(t)),Q){var i=(this.unsigned?Q.rem_u:Q.rem_s)(this.low,this.high,t.low,t.high);return r.fromBits(i,Q.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},r.prototype.mod=function(t){return this.modulo(t)},r.prototype.rem=function(t){return this.modulo(t)},r.prototype.multiply=function(t){if(this.isZero())return r.ZERO;if(r.isLong(t)||(t=r.fromValue(t)),Q){var i=Q.mul(this.low,this.high,t.low,t.high);return r.fromBits(i,Q.get_high(),this.unsigned)}if(t.isZero())return r.ZERO;if(this.eq(r.MIN_VALUE))return t.isOdd()?r.MIN_VALUE:r.ZERO;if(t.eq(r.MIN_VALUE))return this.isOdd()?r.MIN_VALUE:r.ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(r.TWO_PWR_24)&&t.lt(r.TWO_PWR_24))return r.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var a=this.high>>>16,l=this.high&65535,h=this.low>>>16,u=this.low&65535,p=t.high>>>16,d=t.high&65535,v=t.low>>>16,x=t.low&65535,y=0,b=0,I=0,w=0;return w+=u*x,I+=w>>>16,w&=65535,I+=h*x,b+=I>>>16,I&=65535,I+=u*v,b+=I>>>16,I&=65535,b+=l*x,y+=b>>>16,b&=65535,b+=h*v,y+=b>>>16,b&=65535,b+=u*d,y+=b>>>16,b&=65535,y+=a*x+l*v+h*d+u*p,y&=65535,r.fromBits(I<<16|w,y<<16|b,this.unsigned)},r.prototype.mul=function(t){return this.multiply(t)},r.prototype.negate=function(){return!this.unsigned&&this.eq(r.MIN_VALUE)?r.MIN_VALUE:this.not().add(r.ONE)},r.prototype.neg=function(){return this.negate()},r.prototype.not=function(){return r.fromBits(~this.low,~this.high,this.unsigned)},r.prototype.notEquals=function(t){return!this.equals(t)},r.prototype.neq=function(t){return this.notEquals(t)},r.prototype.ne=function(t){return this.notEquals(t)},r.prototype.or=function(t){return r.isLong(t)||(t=r.fromValue(t)),r.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},r.prototype.shiftLeft=function(t){return r.isLong(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?r.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):r.fromBits(0,this.low<<t-32,this.unsigned)},r.prototype.shl=function(t){return this.shiftLeft(t)},r.prototype.shiftRight=function(t){return r.isLong(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?r.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):r.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},r.prototype.shr=function(t){return this.shiftRight(t)},r.prototype.shiftRightUnsigned=function(t){if(r.isLong(t)&&(t=t.toInt()),t&=63,t===0)return this;var i=this.high;if(t<32){var a=this.low;return r.fromBits(a>>>t|i<<32-t,i>>>t,this.unsigned)}else return t===32?r.fromBits(i,0,this.unsigned):r.fromBits(i>>>t-32,0,this.unsigned)},r.prototype.shr_u=function(t){return this.shiftRightUnsigned(t)},r.prototype.shru=function(t){return this.shiftRightUnsigned(t)},r.prototype.subtract=function(t){return r.isLong(t)||(t=r.fromValue(t)),this.add(t.neg())},r.prototype.sub=function(t){return this.subtract(t)},r.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},r.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*Et+(this.low>>>0):this.high*Et+(this.low>>>0)},r.prototype.toBigInt=function(){return BigInt(this.toString())},r.prototype.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},r.prototype.toBytesLE=function(){var t=this.high,i=this.low;return[i&255,i>>>8&255,i>>>16&255,i>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]},r.prototype.toBytesBE=function(){var t=this.high,i=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,i>>>24,i>>>16&255,i>>>8&255,i&255]},r.prototype.toSigned=function(){return this.unsigned?r.fromBits(this.low,this.high,!1):this},r.prototype.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(r.MIN_VALUE)){var i=r.fromNumber(t),a=this.div(i),l=a.mul(i).sub(this);return a.toString(t)+l.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var h=r.fromNumber(Math.pow(t,6),this.unsigned),u=this,p="";;){var d=u.div(h),v=u.sub(d.mul(h)).toInt()>>>0,x=v.toString(t);if(u=d,u.isZero())return x+p;for(;x.length<6;)x="0"+x;p=""+x+p}},r.prototype.toUnsigned=function(){return this.unsigned?this:r.fromBits(this.low,this.high,!0)},r.prototype.xor=function(t){return r.isLong(t)||(t=r.fromValue(t)),r.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},r.prototype.eqz=function(){return this.isZero()},r.prototype.le=function(t){return this.lessThanOrEqual(t)},r.prototype.toExtendedJSON=function(t){return t&&t.relaxed?this.toNumber():{$numberLong:this.toString()}},r.fromExtendedJSON=function(t,i){var a=r.fromString(t.$numberLong);return i&&i.relaxed?a.toNumber():a},r.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},r.prototype.inspect=function(){return'new Long("'.concat(this.toString(),'"').concat(this.unsigned?", true":"",")")},r.TWO_PWR_24=r.fromInt(cn),r.MAX_UNSIGNED_VALUE=r.fromBits(-1,-1,!0),r.ZERO=r.fromInt(0),r.UZERO=r.fromInt(0,!0),r.ONE=r.fromInt(1),r.UONE=r.fromInt(1,!0),r.NEG_ONE=r.fromInt(-1),r.MAX_VALUE=r.fromBits(-1,2147483647,!1),r.MIN_VALUE=r.fromBits(0,-2147483648,!1),r}();Object.defineProperty(j.prototype,"__isLong__",{value:!0});Object.defineProperty(j.prototype,"_bsontype",{value:"Long"});var ln=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,pn=/^(\+|-)?(Infinity|inf)$/i,gn=/^(\+|-)?NaN$/i,Nt=6111,Xt=-6176,Sr=6176,dn=34,Gt=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),Nr=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),_r=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),yn=/^([-+])?(\d+)?$/,mn=31,Br=16383,xn=30,wn=31;function Ir(r){return!isNaN(parseInt(r,10))}function bn(r){var t=j.fromNumber(1e9),i=j.fromNumber(0);if(!r.parts[0]&&!r.parts[1]&&!r.parts[2]&&!r.parts[3])return{quotient:r,rem:i};for(var a=0;a<=3;a++)i=i.shiftLeft(32),i=i.add(new j(r.parts[a],0)),r.parts[a]=i.div(t).low,i=i.modulo(t);return{quotient:r,rem:i}}function vn(r,t){if(!r&&!t)return{high:j.fromNumber(0),low:j.fromNumber(0)};var i=r.shiftRightUnsigned(32),a=new j(r.getLowBits(),0),l=t.shiftRightUnsigned(32),h=new j(t.getLowBits(),0),u=i.multiply(l),p=i.multiply(h),d=a.multiply(l),v=a.multiply(h);return u=u.add(p.shiftRightUnsigned(32)),p=new j(p.getLowBits(),0).add(d).add(v.shiftRightUnsigned(32)),u=u.add(p.shiftRightUnsigned(32)),v=p.shiftLeft(32).add(new j(v.getLowBits(),0)),{high:u,low:v}}function Cn(r,t){var i=r.high>>>0,a=t.high>>>0;if(i<a)return!0;if(i===a){var l=r.low>>>0,h=t.low>>>0;if(l<h)return!0}return!1}function Ct(r,t){throw new V('"'.concat(r,'" is not a valid Decimal128 string - ').concat(t))}var sr=function(){function r(t){if(!(this instanceof r))return new r(t);if(typeof t=="string")this.bytes=r.fromString(t).bytes;else if(or(t)){if(t.byteLength!==16)throw new V("Decimal128 must take a Buffer of 16 bytes");this.bytes=t}else throw new V("Decimal128 must take a Buffer or string")}return r.fromString=function(t){var i=!1,a=!1,l=!1,h=0,u=0,p=0,d=0,v=0,x=[0],y=0,b=0,I=0,w=0,A=0,B=0,L=new j(0,0),$=new j(0,0),Z=0,E=0;if(t.length>=7e3)throw new V(""+t+" not a valid Decimal128 string");var W=t.match(ln),F=t.match(pn),J=t.match(gn);if(!W&&!F&&!J||t.length===0)throw new V(""+t+" not a valid Decimal128 string");if(W){var nt=W[2],ct=W[4],it=W[5],yt=W[6];ct&&yt===void 0&&Ct(t,"missing exponent power"),ct&&nt===void 0&&Ct(t,"missing exponent base"),ct===void 0&&(it||yt)&&Ct(t,"missing e before exponent")}if((t[E]==="+"||t[E]==="-")&&(i=t[E++]==="-"),!Ir(t[E])&&t[E]!=="."){if(t[E]==="i"||t[E]==="I")return new r(M.from(i?Nr:_r));if(t[E]==="N")return new r(M.from(Gt))}for(;Ir(t[E])||t[E]===".";){if(t[E]==="."){a&&Ct(t,"contains multiple periods"),a=!0,E=E+1;continue}y<34&&(t[E]!=="0"||l)&&(l||(v=u),l=!0,x[b++]=parseInt(t[E],10),y=y+1),l&&(p=p+1),a&&(d=d+1),u=u+1,E=E+1}if(a&&!u)throw new V(""+t+" not a valid Decimal128 string");if(t[E]==="e"||t[E]==="E"){var rt=t.substr(++E).match(yn);if(!rt||!rt[2])return new r(M.from(Gt));A=parseInt(rt[0],10),E=E+rt[0].length}if(t[E])return new r(M.from(Gt));if(I=0,!y)I=0,w=0,x[0]=0,p=1,y=1,h=0;else if(w=y-1,h=p,h!==1)for(;x[v+h-1]===0;)h=h-1;for(A<=d&&d-A>16384?A=Xt:A=A-d;A>Nt;){if(w=w+1,w-I>dn){var ut=x.join("");if(ut.match(/^0+$/)){A=Nt;break}Ct(t,"overflow")}A=A-1}for(;A<Xt||y<p;){if(w===0&&h<y){A=Xt,h=0;break}if(y<p?p=p-1:w=w-1,A<Nt)A=A+1;else{var ut=x.join("");if(ut.match(/^0+$/)){A=Nt;break}Ct(t,"overflow")}}if(w-I+1<h){var et=u;a&&(v=v+1,et=et+1),i&&(v=v+1,et=et+1);var mt=parseInt(t[v+w+1],10),ft=0;if(mt>=5&&(ft=1,mt===5)){for(ft=x[w]%2===1?1:0,B=v+w+2;B<et;B++)if(parseInt(t[B],10)){ft=1;break}}if(ft){for(var k=w;k>=0;k--)if(++x[k]>9&&(x[k]=0,k===0))if(A<Nt)A=A+1,x[k]=1;else return new r(M.from(i?Nr:_r))}}if(L=j.fromNumber(0),$=j.fromNumber(0),h===0)L=j.fromNumber(0),$=j.fromNumber(0);else if(w-I<17){var k=I;for($=j.fromNumber(x[k++]),L=new j(0,0);k<=w;k++)$=$.multiply(j.fromNumber(10)),$=$.add(j.fromNumber(x[k]))}else{var k=I;for(L=j.fromNumber(x[k++]);k<=w-17;k++)L=L.multiply(j.fromNumber(10)),L=L.add(j.fromNumber(x[k]));for($=j.fromNumber(x[k++]);k<=w;k++)$=$.multiply(j.fromNumber(10)),$=$.add(j.fromNumber(x[k]))}var G=vn(L,j.fromString("100000000000000000"));G.low=G.low.add($),Cn(G.low,$)&&(G.high=G.high.add(j.fromNumber(1))),Z=A+Sr;var T={low:j.fromNumber(0),high:j.fromNumber(0)};G.high.shiftRightUnsigned(49).and(j.fromNumber(1)).equals(j.fromNumber(1))?(T.high=T.high.or(j.fromNumber(3).shiftLeft(61)),T.high=T.high.or(j.fromNumber(Z).and(j.fromNumber(16383).shiftLeft(47))),T.high=T.high.or(G.high.and(j.fromNumber(0x7fffffffffff)))):(T.high=T.high.or(j.fromNumber(Z&16383).shiftLeft(49)),T.high=T.high.or(G.high.and(j.fromNumber(562949953421311)))),T.low=G.low,i&&(T.high=T.high.or(j.fromString("9223372036854775808")));var O=M.alloc(16);return E=0,O[E++]=T.low.low&255,O[E++]=T.low.low>>8&255,O[E++]=T.low.low>>16&255,O[E++]=T.low.low>>24&255,O[E++]=T.low.high&255,O[E++]=T.low.high>>8&255,O[E++]=T.low.high>>16&255,O[E++]=T.low.high>>24&255,O[E++]=T.high.low&255,O[E++]=T.high.low>>8&255,O[E++]=T.high.low>>16&255,O[E++]=T.high.low>>24&255,O[E++]=T.high.high&255,O[E++]=T.high.high>>8&255,O[E++]=T.high.high>>16&255,O[E++]=T.high.high>>24&255,new r(O)},r.prototype.toString=function(){for(var t,i=0,a=new Array(36),l=0;l<a.length;l++)a[l]=0;var h=0,u=!1,p,d={parts:[0,0,0,0]},v,x,y=[];h=0;var b=this.bytes,I=b[h++]|b[h++]<<8|b[h++]<<16|b[h++]<<24,w=b[h++]|b[h++]<<8|b[h++]<<16|b[h++]<<24,A=b[h++]|b[h++]<<8|b[h++]<<16|b[h++]<<24,B=b[h++]|b[h++]<<8|b[h++]<<16|b[h++]<<24;h=0;var L={low:new j(I,w),high:new j(A,B)};L.high.lessThan(j.ZERO)&&y.push("-");var $=B>>26&mn;if($>>3===3){if($===xn)return y.join("")+"Infinity";if($===wn)return"NaN";t=B>>15&Br,p=8+(B>>14&1)}else p=B>>14&7,t=B>>17&Br;var Z=t-Sr;if(d.parts[0]=(B&16383)+((p&15)<<14),d.parts[1]=A,d.parts[2]=w,d.parts[3]=I,d.parts[0]===0&&d.parts[1]===0&&d.parts[2]===0&&d.parts[3]===0)u=!0;else for(x=3;x>=0;x--){var E=0,W=bn(d);if(d=W.quotient,E=W.rem.low,!!E)for(v=8;v>=0;v--)a[x*9+v]=E%10,E=Math.floor(E/10)}if(u)i=1,a[h]=0;else for(i=36;!a[h];)i=i-1,h=h+1;var F=i-1+Z;if(F>=34||F<=-7||Z>0){if(i>34)return y.push("".concat(0)),Z>0?y.push("E+".concat(Z)):Z<0&&y.push("E".concat(Z)),y.join("");y.push("".concat(a[h++])),i=i-1,i&&y.push(".");for(var l=0;l<i;l++)y.push("".concat(a[h++]));y.push("E"),F>0?y.push("+".concat(F)):y.push("".concat(F))}else if(Z>=0)for(var l=0;l<i;l++)y.push("".concat(a[h++]));else{var J=i+Z;if(J>0)for(var l=0;l<J;l++)y.push("".concat(a[h++]));else y.push("0");for(y.push(".");J++<0;)y.push("0");for(var l=0;l<i-Math.max(J-1,0);l++)y.push("".concat(a[h++]))}return y.join("")},r.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},r.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},r.fromExtendedJSON=function(t){return r.fromString(t.$numberDecimal)},r.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},r.prototype.inspect=function(){return'new Decimal128("'.concat(this.toString(),'")')},r}();Object.defineProperty(sr.prototype,"_bsontype",{value:"Decimal128"});var Ft=function(){function r(t){if(!(this instanceof r))return new r(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return r.prototype.valueOf=function(){return this.value},r.prototype.toJSON=function(){return this.value},r.prototype.toString=function(t){return this.value.toString(t)},r.prototype.toExtendedJSON=function(t){return t&&(t.legacy||t.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-".concat(this.value.toFixed(1))}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}},r.fromExtendedJSON=function(t,i){var a=parseFloat(t.$numberDouble);return i&&i.relaxed?a:new r(a)},r.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},r.prototype.inspect=function(){var t=this.toExtendedJSON();return"new Double(".concat(t.$numberDouble,")")},r}();Object.defineProperty(Ft.prototype,"_bsontype",{value:"Double"});var Zt=function(){function r(t){if(!(this instanceof r))return new r(t);t instanceof Number&&(t=t.valueOf()),this.value=+t|0}return r.prototype.valueOf=function(){return this.value},r.prototype.toString=function(t){return this.value.toString(t)},r.prototype.toJSON=function(){return this.value},r.prototype.toExtendedJSON=function(t){return t&&(t.relaxed||t.legacy)?this.value:{$numberInt:this.value.toString()}},r.fromExtendedJSON=function(t,i){return i&&i.relaxed?parseInt(t.$numberInt,10):new r(t.$numberInt)},r.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},r.prototype.inspect=function(){return"new Int32(".concat(this.valueOf(),")")},r}();Object.defineProperty(Zt.prototype,"_bsontype",{value:"Int32"});var ar=function(){function r(){if(!(this instanceof r))return new r}return r.prototype.toExtendedJSON=function(){return{$maxKey:1}},r.fromExtendedJSON=function(){return new r},r.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},r.prototype.inspect=function(){return"new MaxKey()"},r}();Object.defineProperty(ar.prototype,"_bsontype",{value:"MaxKey"});var ur=function(){function r(){if(!(this instanceof r))return new r}return r.prototype.toExtendedJSON=function(){return{$minKey:1}},r.fromExtendedJSON=function(){return new r},r.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},r.prototype.inspect=function(){return"new MinKey()"},r}();Object.defineProperty(ur.prototype,"_bsontype",{value:"MinKey"});var En=new RegExp("^[0-9a-fA-F]{24}$"),lt=null,ot=Symbol("id"),K=function(){function r(t){if(!(this instanceof r))return new r(t);var i;if(typeof t=="object"&&t&&"id"in t){if(typeof t.id!="string"&&!ArrayBuffer.isView(t.id))throw new V("Argument passed in must have an id that is of type string or Buffer");"toHexString"in t&&typeof t.toHexString=="function"?i=M.from(t.toHexString(),"hex"):i=t.id}else i=t;if(i==null||typeof i=="number")this[ot]=r.generate(typeof i=="number"?i:void 0);else if(ArrayBuffer.isView(i)&&i.byteLength===12)this[ot]=i instanceof M?i:Dt(i);else if(typeof i=="string")if(i.length===12){var a=M.from(i);if(a.byteLength===12)this[ot]=a;else throw new V("Argument passed in must be a string of 12 bytes")}else if(i.length===24&&En.test(i))this[ot]=M.from(i,"hex");else throw new V("Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer");else throw new V("Argument passed in does not match the accepted types");r.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(r.prototype,"id",{get:function(){return this[ot]},set:function(t){this[ot]=t,r.cacheHexString&&(this.__id=t.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(t){this.id.writeUInt32BE(t,0)},enumerable:!1,configurable:!0}),r.prototype.toHexString=function(){if(r.cacheHexString&&this.__id)return this.__id;var t=this.id.toString("hex");return r.cacheHexString&&!this.__id&&(this.__id=t),t},r.getInc=function(){return r.index=(r.index+1)%16777215},r.generate=function(t){typeof t!="number"&&(t=Math.floor(Date.now()/1e3));var i=r.getInc(),a=M.alloc(12);return a.writeUInt32BE(t,0),lt===null&&(lt=Pr(5)),a[4]=lt[0],a[5]=lt[1],a[6]=lt[2],a[7]=lt[3],a[8]=lt[4],a[11]=i&255,a[10]=i>>8&255,a[9]=i>>16&255,a},r.prototype.toString=function(t){return t?this.id.toString(t):this.toHexString()},r.prototype.toJSON=function(){return this.toHexString()},r.prototype.equals=function(t){if(t==null)return!1;if(t instanceof r)return this[ot][11]===t[ot][11]&&this[ot].equals(t[ot]);if(typeof t=="string"&&r.isValid(t)&&t.length===12&&or(this.id))return t===M.prototype.toString.call(this.id,"latin1");if(typeof t=="string"&&r.isValid(t)&&t.length===24)return t.toLowerCase()===this.toHexString();if(typeof t=="string"&&r.isValid(t)&&t.length===12)return M.from(t).equals(this.id);if(typeof t=="object"&&"toHexString"in t&&typeof t.toHexString=="function"){var i=t.toHexString(),a=this.toHexString().toLowerCase();return typeof i=="string"&&i.toLowerCase()===a}return!1},r.prototype.getTimestamp=function(){var t=new Date,i=this.id.readUInt32BE(0);return t.setTime(Math.floor(i)*1e3),t},r.createPk=function(){return new r},r.createFromTime=function(t){var i=M.from([0,0,0,0,0,0,0,0,0,0,0,0]);return i.writeUInt32BE(t,0),new r(i)},r.createFromHexString=function(t){if(typeof t>"u"||t!=null&&t.length!==24)throw new V("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new r(M.from(t,"hex"))},r.isValid=function(t){if(t==null)return!1;try{return new r(t),!0}catch{return!1}},r.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},r.fromExtendedJSON=function(t){return new r(t.$oid)},r.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},r.prototype.inspect=function(){return'new ObjectId("'.concat(this.toHexString(),'")')},r.index=Math.floor(Math.random()*16777215),r}();Object.defineProperty(K.prototype,"generate",{value:Vt(function(r){return K.generate(r)},"Please use the static `ObjectId.generate(time)` instead")});Object.defineProperty(K.prototype,"getInc",{value:Vt(function(){return K.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(K.prototype,"get_inc",{value:Vt(function(){return K.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(K,"get_inc",{value:Vt(function(){return K.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(K.prototype,"_bsontype",{value:"ObjectID"});function jn(r){return r.split("").sort().join("")}var Bt=function(){function r(t,i){if(!(this instanceof r))return new r(t,i);if(this.pattern=t,this.options=jn(i??""),this.pattern.indexOf("\0")!==-1)throw new gt("BSON Regex patterns cannot contain null bytes, found: ".concat(JSON.stringify(this.pattern)));if(this.options.indexOf("\0")!==-1)throw new gt("BSON Regex options cannot contain null bytes, found: ".concat(JSON.stringify(this.options)));for(var a=0;a<this.options.length;a++)if(!(this.options[a]==="i"||this.options[a]==="m"||this.options[a]==="x"||this.options[a]==="l"||this.options[a]==="s"||this.options[a]==="u"))throw new gt("The regular expression option [".concat(this.options[a],"] is not supported"))}return r.parseOptions=function(t){return t?t.split("").sort().join(""):""},r.prototype.toExtendedJSON=function(t){return t=t||{},t.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},r.fromExtendedJSON=function(t){if("$regex"in t)if(typeof t.$regex!="string"){if(t.$regex._bsontype==="BSONRegExp")return t}else return new r(t.$regex,r.parseOptions(t.$options));if("$regularExpression"in t)return new r(t.$regularExpression.pattern,r.parseOptions(t.$regularExpression.options));throw new V("Unexpected BSONRegExp EJSON object form: ".concat(JSON.stringify(t)))},r}();Object.defineProperty(Bt.prototype,"_bsontype",{value:"BSONRegExp"});var fr=function(){function r(t){if(!(this instanceof r))return new r(t);this.value=t}return r.prototype.valueOf=function(){return this.value},r.prototype.toString=function(){return this.value},r.prototype.inspect=function(){return'new BSONSymbol("'.concat(this.value,'")')},r.prototype.toJSON=function(){return this.value},r.prototype.toExtendedJSON=function(){return{$symbol:this.value}},r.fromExtendedJSON=function(t){return new r(t.$symbol)},r.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},r}();Object.defineProperty(fr.prototype,"_bsontype",{value:"Symbol"});var Sn=j,Jr=function(r){Ht(t,r);function t(i,a){var l=this;return l instanceof t?(j.isLong(i)?l=r.call(this,i.low,i.high,!0)||this:Ot(i)&&typeof i.t<"u"&&typeof i.i<"u"?l=r.call(this,i.i,i.t,!0)||this:l=r.call(this,i,a,!0)||this,Object.defineProperty(l,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),l):new t(i,a)}return t.prototype.toJSON=function(){return{$timestamp:this.toString()}},t.fromInt=function(i){return new t(j.fromInt(i,!0))},t.fromNumber=function(i){return new t(j.fromNumber(i,!0))},t.fromBits=function(i,a){return new t(i,a)},t.fromString=function(i,a){return new t(j.fromString(i,!0,a))},t.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},t.fromExtendedJSON=function(i){return new t(i.$timestamp)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Timestamp({ t: ".concat(this.getHighBits(),", i: ").concat(this.getLowBits()," })")},t.MAX_VALUE=j.MAX_UNSIGNED_VALUE,t}(Sn);function Nn(r){return Ot(r)&&Reflect.has(r,"_bsontype")&&typeof r._bsontype=="string"}var zr=2147483647,Yr=-2147483648,qr=9223372036854776e3,Xr=-9223372036854776e3,_n={$oid:K,$binary:dt,$uuid:dt,$symbol:fr,$numberInt:Zt,$numberDecimal:sr,$numberDouble:Ft,$numberLong:j,$minKey:ur,$maxKey:ar,$regex:Bt,$regularExpression:Bt,$timestamp:Jr};function Gr(r,t){if(t===void 0&&(t={}),typeof r=="number"){if(t.relaxed||t.legacy)return r;if(Math.floor(r)===r){if(r>=Yr&&r<=zr)return new Zt(r);if(r>=Xr&&r<=qr)return j.fromNumber(r)}return new Ft(r)}if(r==null||typeof r!="object")return r;if(r.$undefined)return null;for(var i=Object.keys(r).filter(function(y){return y.startsWith("$")&&r[y]!=null}),a=0;a<i.length;a++){var l=_n[i[a]];if(l)return l.fromExtendedJSON(r,t)}if(r.$date!=null){var h=r.$date,u=new Date;return t.legacy?typeof h=="number"?u.setTime(h):typeof h=="string"&&u.setTime(Date.parse(h)):typeof h=="string"?u.setTime(Date.parse(h)):j.isLong(h)?u.setTime(h.toNumber()):typeof h=="number"&&t.relaxed&&u.setTime(h),u}if(r.$code!=null){var p=Object.assign({},r);return r.$scope&&(p.$scope=Gr(r.$scope)),Pt.fromExtendedJSON(r)}if(hn(r)||r.$dbPointer){var d=r.$ref?r:r.$dbPointer;if(d instanceof _t)return d;var v=Object.keys(d).filter(function(y){return y.startsWith("$")}),x=!0;if(v.forEach(function(y){["$ref","$id","$db"].indexOf(y)===-1&&(x=!1)}),x)return _t.fromExtendedJSON(d)}return r}function Bn(r,t){return r.map(function(i,a){t.seenObjects.push({propertyName:"index ".concat(a),obj:null});try{return ht(i,t)}finally{t.seenObjects.pop()}})}function Or(r){var t=r.toISOString();return r.getUTCMilliseconds()!==0?t:t.slice(0,-5)+"Z"}function ht(r,t){if((typeof r=="object"||typeof r=="function")&&r!==null){var i=t.seenObjects.findIndex(function(L){return L.obj===r});if(i!==-1){var a=t.seenObjects.map(function(L){return L.propertyName}),l=a.slice(0,i).map(function(L){return"".concat(L," -> ")}).join(""),h=a[i],u=" -> "+a.slice(i+1,a.length-1).map(function(L){return"".concat(L," -> ")}).join(""),p=a[a.length-1],d=" ".repeat(l.length+h.length/2),v="-".repeat(u.length+(h.length+p.length)/2-1);throw new V(`Converting circular structure to EJSON:
`+"    ".concat(l).concat(h).concat(u).concat(p,`
`)+"    ".concat(d,"\\").concat(v,"/"))}t.seenObjects[t.seenObjects.length-1].obj=r}if(Array.isArray(r))return Bn(r,t);if(r===void 0)return null;if(r instanceof Date||sn(r)){var x=r.getTime(),y=x>-1&&x<2534023188e5;return t.legacy?t.relaxed&&y?{$date:r.getTime()}:{$date:Or(r)}:t.relaxed&&y?{$date:Or(r)}:{$date:{$numberLong:r.getTime().toString()}}}if(typeof r=="number"&&(!t.relaxed||!isFinite(r))){if(Math.floor(r)===r){var b=r>=Yr&&r<=zr,I=r>=Xr&&r<=qr;if(b)return{$numberInt:r.toString()};if(I)return{$numberLong:r.toString()}}return{$numberDouble:r.toString()}}if(r instanceof RegExp||on(r)){var w=r.flags;if(w===void 0){var A=r.toString().match(/[gimuy]*$/);A&&(w=A[0])}var B=new Bt(r.source,w);return B.toExtendedJSON(t)}return r!=null&&typeof r=="object"?On(r,t):r}var In={Binary:function(r){return new dt(r.value(),r.sub_type)},Code:function(r){return new Pt(r.code,r.scope)},DBRef:function(r){return new _t(r.collection||r.namespace,r.oid,r.db,r.fields)},Decimal128:function(r){return new sr(r.bytes)},Double:function(r){return new Ft(r.value)},Int32:function(r){return new Zt(r.value)},Long:function(r){return j.fromBits(r.low!=null?r.low:r.low_,r.low!=null?r.high:r.high_,r.low!=null?r.unsigned:r.unsigned_)},MaxKey:function(){return new ar},MinKey:function(){return new ur},ObjectID:function(r){return new K(r)},ObjectId:function(r){return new K(r)},BSONRegExp:function(r){return new Bt(r.pattern,r.options)},Symbol:function(r){return new fr(r.value)},Timestamp:function(r){return Jr.fromBits(r.low,r.high)}};function On(r,t){if(r==null||typeof r!="object")throw new gt("not an object instance");var i=r._bsontype;if(typeof i>"u"){var a={};for(var l in r){t.seenObjects.push({propertyName:l,obj:null});try{var h=ht(r[l],t);l==="__proto__"?Object.defineProperty(a,l,{value:h,writable:!0,enumerable:!0,configurable:!0}):a[l]=h}finally{t.seenObjects.pop()}}return a}else if(Nn(r)){var u=r;if(typeof u.toExtendedJSON!="function"){var p=In[r._bsontype];if(!p)throw new V("Unrecognized or invalid _bsontype: "+r._bsontype);u=p(u)}return i==="Code"&&u.scope?u=new Pt(u.code,ht(u.scope,t)):i==="DBRef"&&u.oid&&(u=new _t(ht(u.collection,t),ht(u.oid,t),ht(u.db,t),ht(u.fields,t))),u.toExtendedJSON(t)}else throw new gt("_bsontype must be a string, but was: "+typeof i)}var Ar;(function(r){function t(h,u){var p=Object.assign({},{relaxed:!0,legacy:!1},u);return typeof p.relaxed=="boolean"&&(p.strict=!p.relaxed),typeof p.strict=="boolean"&&(p.relaxed=!p.strict),JSON.parse(h,function(d,v){if(d.indexOf("\0")!==-1)throw new gt("BSON Document field names cannot contain null bytes, found: ".concat(JSON.stringify(d)));return Gr(v,p)})}r.parse=t;function i(h,u,p,d){p!=null&&typeof p=="object"&&(d=p,p=0),u!=null&&typeof u=="object"&&!Array.isArray(u)&&(d=u,u=void 0,p=0);var v=Object.assign({relaxed:!0,legacy:!1},d,{seenObjects:[{propertyName:"(root)",obj:null}]}),x=ht(h,v);return JSON.stringify(x,u,p)}r.stringify=i;function a(h,u){return u=u||{},JSON.parse(i(h,u))}r.serialize=a;function l(h,u){return u=u||{},t(JSON.stringify(h),u)}r.deserialize=l})(Ar||(Ar={}));var Tr=Vr();Tr.Map?Tr.Map:function(){function r(t){t===void 0&&(t=[]),this._keys=[],this._values={};for(var i=0;i<t.length;i++)if(t[i]!=null){var a=t[i],l=a[0],h=a[1];this._keys.push(l),this._values[l]={v:h,i:this._keys.length-1}}}return r.prototype.clear=function(){this._keys=[],this._values={}},r.prototype.delete=function(t){var i=this._values[t];return i==null?!1:(delete this._values[t],this._keys.splice(i.i,1),!0)},r.prototype.entries=function(){var t=this,i=0;return{next:function(){var a=t._keys[i++];return{value:a!==void 0?[a,t._values[a].v]:void 0,done:a===void 0}}}},r.prototype.forEach=function(t,i){i=i||this;for(var a=0;a<this._keys.length;a++){var l=this._keys[a];t.call(i,this._values[l].v,l,i)}},r.prototype.get=function(t){return this._values[t]?this._values[t].v:void 0},r.prototype.has=function(t){return this._values[t]!=null},r.prototype.keys=function(){var t=this,i=0;return{next:function(){var a=t._keys[i++];return{value:a!==void 0?a:void 0,done:a===void 0}}}},r.prototype.set=function(t,i){return this._values[t]?(this._values[t].v=i,this):(this._keys.push(t),this._values[t]={v:i,i:this._keys.length-1},this)},r.prototype.values=function(){var t=this,i=0;return{next:function(){var a=t._keys[i++];return{value:a!==void 0?t._values[a].v:void 0,done:a===void 0}}}},Object.defineProperty(r.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),r}();j.fromNumber(un);j.fromNumber(fn);var Kt=new Uint8Array(8);new DataView(Kt.buffer,Kt.byteOffset,Kt.byteLength);var An=1024*1024*17;M.alloc(An);const Tn=jt("div")(()=>({backgroundColor:"#fff",height:"100%"})),Un=jt(C)(()=>({width:"100%",zIndex:100,backgroundColor:"#fff"})),Mn=jt(_e)(({theme:r})=>({"& .MuiBadge-badge":{right:8,top:8,border:`2px solid ${r.palette.background.paper}`,padding:"0 4px"}}));function vi(){var Ut,wt,Mt,Lt,St;const[r,t]=X.useState(!1),[i,a,l,h,u]=re(),[p,d]=X.useState(0),{search:v,state:x,pathname:y}=ee(),{id:b}=Lr();new URLSearchParams(v);const I=at(_=>_.ProgramList.Programs.filter(N=>N.IsDraft==!1&&N.IsDeleted==!1&&N.IsArchived==!1)),w=at(_=>_.ProgramList.clientDetails),A=at(_=>_.ProgramList.sentProgram),B=at(_=>{var N;return(N=_.ProgramList.clientData)==null?void 0:N.Program}),L=at(_=>{var N;return(N=_.ProgramList.clientData)==null?void 0:N.todo}),$=at(_=>{var N;return(N=_.ProgramList.clientData)==null?void 0:N.createdAt});at(_=>{var N;return(N=_.ProgramList.clientData)==null?void 0:N.currentWeek}),at(_=>{var N;return(N=_.ProgramList.clientData)==null?void 0:N.currentDay});const Z=at(_=>{var N;return(N=_.ProgramList.clientData)==null?void 0:N.stats}),E=It(),W=Ur(),[F,J]=X.useState([]),[nt,ct]=X.useState(!0),[it,yt]=X.useState(!0),[rt,ut]=X.useState("program"),{isConnected:et,socket:mt}=Se();X.useEffect(()=>{we(b).then(_=>{var N;return d((N=_==null?void 0:_.data)==null?void 0:N.count)}),W(lr(b))},[b]),X.useEffect(()=>{et&&mt.on(ne.ACCEPT_PROGRAM,_=>{console.log("accept order"),W(lr(b))})},[et]);const ft=(_,N)=>{let Y=[...F];Y[N].value=_,J(Y)},k=_=>{J(F.filter((N,Y)=>Y!=_)),W(gr({todo:F.filter((N,Y)=>Y!=_)}))},G=()=>{const _=new K;J([...F,{value:"",isDone:!1,edit:!0,_id:_.toString()}])},T=_=>{let N=[...F];N[_].edit=!1,W(gr({todo:N.filter(Y=>Y.value!="")})),J(N.filter(Y=>Y.value!=""))},O=()=>{ct(!nt),setTimeout(()=>{t(nt)},300)},z=()=>{yt(!it)},At=_=>{let N=[...F];N[_].edit=!0,J(N)},xt={Light:"Light: 1-3 times a week",Moderate:"Moderate: 4-5 times a week",Active:"Active: intense 4-5 times a week","Very active":"Very active: intense 6-7 times a week"};X.useEffect(()=>{L!=null&&L.length?J(L):J([])},[L]);const Tt=()=>{var N;let _=0;return B.ExercisePlan.weeks.map((Y,Jt)=>{_=_+je(Y,Z,Jt)}),_/((N=B==null?void 0:B.ExercisePlan.weeks)==null?void 0:N.length)},Wt=_=>{be(_)};return f.jsx(Tn,{children:f.jsxs(se,{title:" Simplified Online Fitness Training ",children:[f.jsxs(ie,{children:[f.jsx(ae,{style:{borderRadius:"0px 0px 8px 8px",boxShadow:"0px 4px 54px rgba(225, 231, 240, 0.5)",overflow:"hidden"},children:f.jsxs(Un,{px:2,py:2,display:"flex",alignItems:"center",justifyContent:"space-between",children:[f.jsxs(C,{display:"flex",alignItems:"center",children:[" ",f.jsx(Mr,{onClick:()=>E(-1),sx:{color:"text.primary"},children:f.jsx(xe,{})}),f.jsx(S,{variant:"h6",color:"text.primary",children:"Client profile"})," "]})," "]})}),f.jsxs(oe,{withoutPadding:!0,style:{backgroundColor:"#F5F7FA"},children:[f.jsx(C,{children:f.jsx(Me,{setHeaderDependency:t,Profile:w,Program:B,CreatedAt:$,view:(x==null?void 0:x.view)||rt,setView:_=>{E(y,{state:{view:_},replace:!0}),ut(_)}})}),((x==null?void 0:x.view)||rt)=="about"?f.jsxs(f.Fragment,{children:[f.jsx(C,{mt:1,children:f.jsxs(C,{px:3,bgcolor:"#fff",py:3,children:[f.jsx(S,{variant:"h5",color:"text.primary",gutterBottom:!0,display:"flex",alignItems:"center",sx:{mb:2},children:"Personal fitness"}),f.jsx(S,{color:"text.primary",sx:{fontWeight:"bold"},children:"Goals"}),f.jsx(S,{variant:"body1",sx:{mb:nt?0:2},color:"text.secondary",flexWrap:"wrap",children:w.goals||"N/A"}),f.jsx(pr,{in:!nt,children:f.jsxs(P,{spacing:2,children:[f.jsxs(C,{children:[f.jsxs(S,{color:"text.primary",mb:.5,sx:{fontWeight:"bold"},children:["Training experience"," "]}),f.jsx(S,{color:"text.secondary",variant:"body1",children:w.trainingExperience||"N/A"})]}),f.jsxs(C,{children:[f.jsxs(S,{color:"text.primary",mb:.5,sx:{fontWeight:"bold"},children:["Years of training"," "]}),f.jsx(S,{color:"text.secondary",variant:"body1",children:w.YearsOfTraining?w.YearsOfTraining+" years":"N/A"})]}),f.jsxs(C,{children:[f.jsxs(S,{color:"text.primary",mb:.5,sx:{fontWeight:"bold"},children:["Activity level"," "]}),f.jsx(S,{color:"text.secondary",variant:"body1",children:(xt==null?void 0:xt[w.activityLevel])||"N/A"})]})]})}),f.jsx(C,{display:"flex",children:f.jsxs(C,{component:Qt,onClick:O,display:"flex",alignItems:"center",mt:1,children:[f.jsx(S,{variant:"h6",color:"text.primary",sx:{mb:-1},children:nt?"Show more":"Show less"}),f.jsx(pt,{sx:{color:"text.primary",mt:1},icon:nt?"ic:round-keyboard-arrow-down":"ic:round-keyboard-arrow-up",width:"34px",height:"34px"})]})})]})}),f.jsxs(C,{mt:1,children:[f.jsxs(C,{px:3,bgcolor:"#fff",py:3,children:[f.jsx(S,{variant:"h5",color:"text.primary",gutterBottom:!0,display:"flex",alignItems:"center",sx:{mb:2},children:"Health profile"}),f.jsxs(P,{spacing:2,direction:"row",children:[f.jsxs(C,{children:[f.jsx(S,{color:"text.primary",sx:{fontWeight:"bold"},children:"Height"}),f.jsxs(S,{variant:"body1",sx:{mb:it?0:2},color:"text.secondary",flexWrap:"wrap",children:[((wt=(Ut=w==null?void 0:w.healthInfo)==null?void 0:Ut.height)==null?void 0:wt.toFixed(2))||"N/A"," cm"]})]}),f.jsxs(C,{children:[f.jsx(S,{color:"text.primary",sx:{fontWeight:"bold"},children:"Weight"}),f.jsxs(S,{variant:"body1",sx:{mb:it?0:2},color:"text.secondary",flexWrap:"wrap",children:[((Lt=(Mt=w==null?void 0:w.healthInfo)==null?void 0:Mt.weight)==null?void 0:Lt.toFixed(2))||"N/A"," kg"]})]})]}),f.jsx(pr,{in:!it,children:f.jsxs(P,{spacing:2,children:[f.jsxs(C,{children:[f.jsx(S,{color:"text.primary",sx:{fontWeight:"bold"},children:"Medical condition"}),f.jsx(S,{variant:"body1",sx:{mb:.5},color:"text.secondary",flexWrap:"wrap",children:((St=w==null?void 0:w.healthInfo)==null?void 0:St.medicalCondition)||"N/A"})]}),f.jsxs(C,{children:[f.jsx(S,{color:"text.primary",mb:.5,sx:{fontWeight:"bold"},children:"Medications"}),f.jsx(S,{color:"text.secondary",variant:"body1",children:w.healthInfo.medications||"N/A"})]}),f.jsxs(C,{children:[f.jsx(S,{color:"text.primary",mb:.5,sx:{fontWeight:"bold"},children:"Injuries"}),f.jsx(S,{color:"text.secondary",variant:"body1",children:w.healthInfo.injuries||"N/A"})]}),f.jsxs(C,{children:[f.jsx(S,{color:"text.primary",mb:.5,sx:{fontWeight:"bold"},children:"Family health history"}),f.jsx(S,{color:"text.secondary",variant:"body1",children:w.healthInfo.history||"N/A"})]}),f.jsxs(C,{children:[f.jsx(S,{color:"text.primary",mb:.5,sx:{fontWeight:"bold"},children:"Allergies and reactions"}),f.jsx(S,{color:"text.secondary",variant:"body1",children:w.healthInfo.allergiesAndReactions||"N/A"})]}),f.jsxs(C,{children:[f.jsx(S,{color:"text.primary",mb:.5,sx:{fontWeight:"bold"},children:"Supplements"}),f.jsx(S,{color:"text.secondary",variant:"body1",children:w.healthInfo.supplements||"N/A"})]}),f.jsxs(C,{children:[f.jsx(S,{color:"text.primary",mb:.5,sx:{fontWeight:"bold"},children:"Other"}),f.jsx(S,{color:"text.secondary",variant:"body1",children:w.healthInfo.medicalNotes||"N/A"})]})]})}),f.jsx(C,{display:"flex",children:f.jsxs(C,{component:Qt,onClick:z,display:"flex",alignItems:"center",mt:1,children:[f.jsx(S,{variant:"h6",color:"text.primary",sx:{mb:-1},children:it?"Show more":"Show less"}),f.jsx(pt,{sx:{color:"text.primary",mt:1},icon:it?"ic:round-keyboard-arrow-down":"ic:round-keyboard-arrow-up",width:"34px",height:"34px"})]})})]}),f.jsx(C,{mt:1,children:f.jsxs(C,{px:3,bgcolor:"#fff",py:3,children:[f.jsx(S,{variant:"h5",color:"text.primary",gutterBottom:!0,display:"flex",alignItems:"center",sx:{mb:2},children:"Body images"}),f.jsx(ve,{data:w.bodyImages})]})})]})]}):null,((x==null?void 0:x.view)||rt)=="program"&&(B!=null&&B._id)?f.jsxs(f.Fragment,{children:[" ",f.jsxs(C,{mt:1,bgcolor:"#fff",children:[f.jsxs(C,{alignItems:"center",px:3,py:2,children:[f.jsxs(C,{sx:{display:"flex",alignItems:"center",backgroundSize:"cover",borderRadius:"4px 4px 4px 4px",backgroundPosition:"center"},children:[B!=null&&B.BannerImage?f.jsx(Ce,{src:(B==null?void 0:B.BannerImage)||"/images/DefaultThumbnail.png",sx:{width:160,height:110,backgroundPosition:"center",borderRadius:1}}):"",f.jsx(S,{sx:{ml:B!=null&&B.BannerImage?2:0,fontWeight:"bold",textTransform:"capitalize"},children:B==null?void 0:B.Title})]}),f.jsxs(C,{children:[f.jsx(P,{direction:"row",justifyContent:"space-between",px:2,py:1}),f.jsxs(C,{children:[f.jsx(C,{display:"flex",children:f.jsx(C,{display:"flex",flex:1,width:"100%",height:18,pr:.5,children:f.jsx(C,{sx:{width:"100%"},children:f.jsx(Ne,{variant:"determinate",value:Tt()*100})})})}),f.jsx(C,{display:"flex",width:"100%",justifyContent:"flex-start",children:f.jsx(P,{direction:"row",justifyContent:"space-between",pb:3,children:f.jsxs(S,{sx:{textTransform:"capitalize",fontWeight:500,display:"flex"},children:[f.jsx(S,{color:"text.secondary",children:"In progress:"})," ",f.jsxs(S,{children:["Week ",Ee(B.ExercisePlan.weeks,Z)+1]})]})})})]})]})]}),f.jsxs(P,{px:2,children:[f.jsxs(P,{justifyContent:"space-between",alignItems:"center",direction:"row",onClick:()=>E("workoutCalendar"),children:[f.jsxs(P,{direction:"row",spacing:1,alignItems:"center",children:[f.jsx(Le,{style:{fontSize:54}}),f.jsx(S,{color:"text.primary",align:"center",flexWrap:"wrap",children:"Workout"})]}),f.jsx(pt,{icon:"ep:arrow-right-bold"})]}),f.jsx(nr,{sx:{my:1.5}})]}),f.jsx(P,{px:2,pb:3,children:f.jsxs(P,{justifyContent:"space-between",alignItems:"center",direction:"row",onClick:()=>E("trainingLog"),children:[f.jsxs(P,{direction:"row",spacing:1,alignItems:"center",children:[p?f.jsx(Mn,{badgeContent:p,color:"primary",children:f.jsx(xr,{sx:{fontSize:54,p:.8}})}):f.jsx(xr,{sx:{fontSize:54,p:.8}}),f.jsx(S,{color:"text.primary",align:"center",flexWrap:"wrap",children:"Training log"})]}),f.jsx(pt,{icon:"ep:arrow-right-bold"})]})})]}),f.jsxs(C,{mt:1.5,px:3,py:3,backgroundColor:"#fff",height:"100%",children:[f.jsx(P,{direction:"row",justifyContent:"space-between",pb:1,children:f.jsx(S,{sx:{fontWeight:"bold",textTransform:"capitalize"},children:"Todos"})}),f.jsx(De,{todo:F,handleSave:T,handleChange:ft,deleteTodo:k,pushTodo:G,toggleedit:At})]})]}):((x==null?void 0:x.view)||rt)=="program"?f.jsx(f.Fragment,{children:f.jsx(C,{mt:1,bgcolor:"#fff",height:"100%",py:3,px:2,children:A?f.jsx($r,{programs:[{...A.Program,_id:A._id}],status:"Sent",onDelete:Wt}):f.jsx(C,{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",children:f.jsxs("center",{children:[f.jsx(S,{color:"text.secondary",children:"This client currently has no active program"}),f.jsx(Rr,{color:"primary",children:f.jsx($e,{programs:I,email:w.email,reload:u,children:"Add program"})})]})})})}):""]})]})," "]})})}export{vi as default};
