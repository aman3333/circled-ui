import{a as U,r as l,d as D,u as V,e as q,b as J,c2 as K,c3 as Q,c as x,j as e,s as d,S as X,B as s,I,T as r,i as Z,C as ee,h as v,p as w,ad as te,as as S,f as re}from"./index-tWVfh1a_.js";import{P as ie}from"./Page-D7TsOLpr.js";import{S as oe}from"./Header-C-6_pkkN.js";import{S as E}from"./Footer-BU_S36Uf.js";import{a as se,c as ne,b as ae,d as ce,f as le,e as de}from"./payments-D1Goe-hw.js";import{h as F}from"./moment-G82_0lEo.js";import{H as pe}from"./LoginDrawer-BTsmFa7J.js";import{A as ue}from"./ArrowLeft-lA8HnlgG.js";import{A as xe}from"./Avatar-DYK8RM-C.js";import{D as he}from"./Divider-0_Mpg1Be.js";import{G as m}from"./Grid-C2UtAwNz.js";import"./google-login-TOBpJPnJ.js";import"./Onboarding-CSV0hQFI.js";import"./dividerClasses-ClaZwgHh.js";const me=d("div")(()=>({backgroundColor:"#fff",height:"100%"}));d(s)(()=>({position:"relative"}));d(s)(()=>({position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",paddingTop:52,paddingBottom:24,zIndex:100,top:0}));d(re)(({theme:i})=>({height:45,borderRadius:16,background:"#F9FCFD",fontFamily:"Proxima Nova",color:"#172A44",fontSize:18,fontWeight:"bold",width:"100%",marginBottom:8,border:"2px solid rgba(23, 42, 68, 0.5)"}));const fe=d(s)(()=>({width:"100%",zIndex:100,backgroundColor:"#fff",boxShadow:"0px 4px 54px rgba(225, 231, 240, 0.5)",borderRadius:"0px 0px 8px 8px"}));d(s)(({theme:i})=>({display:"flex",width:"100%",justifyContent:"center"}));d(s)(({theme:i})=>({width:"100%",borderRadius:24,backgroundColor:"rgba(255,255,255, 0.5)",backdropFilter:"blur(12px)",display:"flex",padding:"12px",justifyContent:"space-between",alignItems:"center"}));const g=d(s)(()=>({width:"100%",zIndex:100,backgroundColor:"#fff",padding:"16px",borderTop:"1px solid rgba(23, 42, 68, 0.1)",borderRadius:"24px 24px 0px 0px"}));function Fe(){var P,A,B,C,T;const i=U(),[ge,ye]=l.useState([]),{search:O}=D(),R=D(),p=V(o=>o.Profile);new URLSearchParams(O);const[z,W]=l.useState(null),[Y,y]=l.useState(!1),[k,_]=l.useState(!1),[N,$]=l.useState(null),[t,L]=l.useState({Title:"Advanced bodybuilding",Description:`Lorem ipsum dolor sit amet, 
    consectetur adipiscing elit. Etiam mi tortor, euismod non  purus non, condimentum malesuada dui kobe lasne imanow w gre`,ProgramType:"Begginer ",PaymentType:"Subscription",Price:295,updatedAt:"22-6-2022"}),n=q(),{id:c}=J();l.useEffect(()=>{i(K(c)).then(o=>{L(o),p.token&&i(Q(c)).then(a=>{var f,b;W(a),t.PaymentType=="Subscription"?(f=window.paypal)==null||f.Buttons({style:{layout:"horizontal",color:"blue",height:55},createSubscription:function(u,j){return ne(a).then(h=>h)},onApprove:function(u,j){se(u.subscriptionID).then(()=>{i(x({loading:!1,sAnimate:!0,message:"Subscription Activated Successfully",severity:"success"})),n("/")}).catch(h=>{i(x({loading:!1,snackbar:!0,message:"Unable to activate subscription please contact support",severity:"info"}))})},onError:function(u){}}).render("#paypal-button-container"):(b=window.paypal)==null||b.Buttons({style:{layout:"horizontal",color:"blue",height:55},createOrder:function(u,j){return ce(a).then(h=>h)},onApprove:function(u,j){ae(u.orderID).then(()=>{i(x({loading:!1,sAnimate:!0,message:"Plan Activated Successfully",severity:"success"})),n("/")}).catch(h=>{i(x({loading:!1,snackbar:!0,message:"Unable to activate plan please contact support",severity:"info"}))})},onError:function(u){}}).render("#paypal-button-container")})})},[c]),l.useEffect(()=>{le(c).then(o=>{_(o.exists),$(o.orderId)})},[c]);const G=o=>{if(!p.token){n("/",{state:{redirect:R.pathname,type:"Athlete"},replace:!0});return}de(z,o).then(a=>{i(te({type:"Athlete"})).then(f=>{i(x({sAnimate:!0,profileType:"Athlete"})),i(S({_id:a,isActive:!0})).then(b=>{n("/"),i(x({loading:!1,sAnimate:!0,profileType:null,message:"Program Added Successfully",severity:"success"}))})}),setTimeout(()=>{},4e3)}).catch(a=>{a._id&&i(S({_id:a._id,isActive:!0})).then(f=>{n("/")})})},H=o=>{k&&i(S({_id:N,isActive:!0})).then(a=>{n("/")})},M=()=>{navigator.share&&navigator.share({title:" shared a fitness program :",url:`/public/workout-program/${c}`}).then(()=>{})};return e.jsxs(me,{children:[e.jsx(pe,{open:!p.token&&Y,onClose:()=>y(!1),type:"program"}),e.jsxs(ie,{title:"An easy-to-use tool to build and manage your clientâ€™s fitness programs",children:[e.jsxs(X,{children:[" ",e.jsx(oe,{noColor:!0,children:e.jsx(fe,{px:2,py:2,children:e.jsxs(s,{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(s,{display:"flex",alignItems:"center",children:[" ",e.jsx(I,{onClick:()=>n(-1),sx:{color:"text.primary"},children:e.jsx(ue,{})}),e.jsx(r,{variant:"h6",color:"text.primary",children:"View Program"})," "]}),e.jsx(I,{onClick:()=>M(),children:e.jsx(Z,{icon:"ci:share-outline",width:24,height:24,color:"text.primary"})})]})})})," ",e.jsxs(ee,{withoutPadding:!0,style:{marginTop:-12,paddingBottom:32},children:[e.jsx(s,{position:"relative",backgroundColor:"#fff",children:e.jsx("img",{src:t.BannerImage||"/images/profile-banner.png",style:{width:"100%",height:"auto",marginTop:t.BannerImage?-36:0,objectFit:"cover",borderBottomLeftRadius:8,borderBottomRightRadius:8}})}),e.jsx(s,{px:2,py:3,children:e.jsxs(v,{spacing:2,sx:{width:"100%"},children:[e.jsxs(s,{children:[e.jsx(r,{variant:"h6",align:"left",sx:{textTransform:"capitalize"},color:"text.primary",gutterBottom:!0,children:t==null?void 0:t.Title}),e.jsx(r,{color:"text.secondary",children:(t==null?void 0:t.Description)||"No details available"})]}),e.jsxs(v,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(xe,{src:(P=t==null?void 0:t.createdBy)==null?void 0:P.profilePic}),e.jsxs(s,{pl:.5,children:[e.jsx(r,{variant:"h6",sx:{textTransform:"capitalize"},color:"text.primary",children:(A=t==null?void 0:t.createdBy)==null?void 0:A.name}),e.jsx(r,{sx:{textTransform:"capitalize"},color:"text.secondary",children:(B=t==null?void 0:t.createdBy)==null?void 0:B.expertise}),e.jsx(r,{variant:"subtitle1",color:"primary",onClick:()=>{var o;return n(`/public/instructor-profile/${(o=t==null?void 0:t.createdBy)==null?void 0:o._id}`)},children:"View profile"})]})]}),e.jsx(he,{}),e.jsxs(m,{container:!0,children:[e.jsxs(m,{item:!0,xs:6,md:6,children:[e.jsx(r,{variant:"body1",sx:{fontWeight:"bold"},color:"text.primary",children:"Duration"}),e.jsxs(r,{color:"text.secondary",children:[t==null?void 0:t.Duration," weeks"]})]}),e.jsxs(m,{item:!0,xs:6,md:6,children:[e.jsx(r,{variant:"body1",sx:{fontWeight:"bold"},color:"text.primary",children:"Pricing model"}),e.jsx(r,{color:"text.secondary",children:t==null?void 0:t.PaymentType})]}),e.jsxs(m,{item:!0,xs:6,md:6,sx:{mt:2},children:[e.jsx(r,{variant:"body1",sx:{fontWeight:"bold"},color:"text.primary",children:"Created on"}),e.jsx(r,{color:"text.secondary",children:F(t==null?void 0:t.createdAt).format("DD/MM/YYYY")})]}),e.jsxs(m,{item:!0,xs:6,md:6,sx:{mt:2},children:[e.jsx(r,{variant:"body1",sx:{fontWeight:"bold"},color:"text.primary",children:"Updated at"}),e.jsx(r,{color:"text.secondary",children:F(t==null?void 0:t.updatedAt).format("DD/MM/YYYY")})]})]})]})}),e.jsx(g,{id:"paypal-button-container",sx:{display:"none"}})]}),((C=t==null?void 0:t.createdBy)==null?void 0:C._id)!==p._id?e.jsx(E,{children:t.Price&&p.token?e.jsx(g,{id:"paypal-button-container"}):e.jsx(g,{children:k?e.jsx(w,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{H()},children:e.jsx(r,{variant:"subtitle1",children:"Go to program"})}):e.jsx(w,{fullWidth:!0,variant:"contained",onClick:o=>{if(o.preventDefault(),p.token)G(c);else{y(!0);return}},children:e.jsx(r,{variant:"subtitle1",children:t.Price==0?"Subscribe":"Purchase"})})})}):e.jsx(E,{children:e.jsx(g,{children:e.jsxs(v,{direction:"row",justifyContent:"space-between",children:[e.jsxs(s,{children:[e.jsx(r,{color:"text.secondary",children:"Total price"}),e.jsxs(r,{variant:"h4",color:"text.primary",children:["$",(T=t==null?void 0:t.Price)==null?void 0:T.toFixed(2)]})]}),e.jsx(w,{variant:"contained",color:"primary",sx:{px:3,mt:1,minWidth:172},onClick:()=>{if(p.token)n(`/programOverview/${c}`);else{y(!0);return}},children:e.jsx(r,{variant:"subtitle1",children:"View program"})})]})})})]})," "]})]})}export{Fe as default};
