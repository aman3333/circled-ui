import{R as $,r as d,e as E,a as U,j as e,h as v,B as a,Z as q,i as D,f as z,T as c,p as A,s as l,d as B,S as V,I as G,C as M}from"./index-tWVfh1a_.js";import{P as _}from"./Page-D7TsOLpr.js";import{S as H}from"./Header-C-6_pkkN.js";import{S as K}from"./Footer-BU_S36Uf.js";/* empty css                       */import{c as Y,a as Z}from"./array-DbNmRnh0.js";import{u as J,F as Q,a as X}from"./formik.esm-jmAInz8L.js";import{L as P}from"./LabeledInput-B3Qf7l4R.js";import{h as ee}from"./uploader-C1vfyOx8.js";import{u as R,c as k}from"./BodyImages-DZEKjVHZ.js";import{L as oe}from"./LightboxModal-BNiDpzss.js";import{I as te}from"./Image-BgZ6CiLc.js";import{A as re}from"./AddCircled-C-pHs73y.js";import{B as se}from"./Badge-ekxejyFm.js";import{G as F}from"./Grid-C2UtAwNz.js";import{I as L}from"./InputAdornment-DiI_gVyu.js";import{A as ne}from"./ArrowLeft-lA8HnlgG.js";import"./isObject-MojUmidT.js";import"./TextField-cyeEFY3i.js";import"./OutlinedInput-D3YoqtXT.js";import"./useFormControl-BEzaUW9U.js";import"./InputBase-7pV38TnQ.js";import"./Popover-COOgvQR_.js";import"./ListContext-BQPXTeBj.js";import"./useControlled-DiwPEJyR.js";import"./isMuiElement-CENM59Ut.js";import"./index.es-C24u0DtE.js";import"./warning-C20GYw-A.js";import"./usePreviousProps-BiTDTLPM.js";l("div")(()=>({height:"100%"}));l(a)(()=>({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 10px",zIndex:100}));l(a)(()=>({position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",paddingTop:52,paddingBottom:24,zIndex:100,top:0}));const ie=$.forwardRef(({item:t,mode:p},h)=>{const[n,f]=d.useState(t!=null&&t.images?t.images:[]),[x,y]=d.useState(0),[T,w]=d.useState(!1),u=E(),I=U(),N=Y().shape({weight:Z().min(10,"Please enter weight between 10-550").max(550,"Please enter weight between 10-550").required("weight is required")}),[ce,pe]=d.useState(null);let O=o=>{f([...n,...o.target.files])};const W=o=>{f(n.filter(s=>o!=null&&o.includes&&(o!=null&&o.includes("https://"))&&(s!=null&&s.includes)&&(s!=null&&s.includes("https://"))?s!==o:(s==null?void 0:s.name)!==(o==null?void 0:o.name)))},b=J({initialValues:{title:t==null?void 0:t.title,weight:t==null?void 0:t.weight,description:t==null?void 0:t.description},validationSchema:N,onSubmit:async(o,{setErrors:s,setSubmitting:j})=>{n.length&&(j(!0),I({type:"UPDATE_FEED",payload:{loading:!0}}),n.filter(r=>!(r!=null&&r.includes)).length?Promise.all([...n.filter(r=>!(r!=null&&r.includes))].map(async r=>ee({target:{files:[r]}}))).then(r=>{p?R({images:[...n.filter(i=>i==null?void 0:i.includes),...r.map(i=>i.data.Location)],...o}).then(i=>{u(-1)}):k({images:[...r.map(i=>i.data.Location)],...o}).then(i=>{u(-1)})}).catch(r=>{I({type:"UPDATE_FEED",payload:{loading:!1}}),C()}):p?R({...o}).then(r=>{u(-1)}):k({...o}).then(r=>{u(-1)}))}}),{errors:m,touched:g,handleSubmit:C,isSubmitting:he,getFieldProps:S,setFieldValue:xe,values:ue}=b;return e.jsx(Q,{value:b,children:e.jsxs(X,{autoComplete:"off",noValidate:!0,onSubmit:C,children:[e.jsxs(v,{direction:"row",spacing:2,children:[e.jsx(a,{sx:{maxWidth:"72vw",height:105},display:"flex",children:n.map((o,s)=>e.jsx(a,{mx:1,onClick:()=>{y(s),w(!0)},sx:{position:"relative",minWidth:105,borderRadius:2,border:"2px dashed",borderColor:"#C3CBD9",backgroundColor:"grey.300",backgroundImage:`url(${o!=null&&o.includes&&o.includes("https")?o:URL.createObjectURL(o)})`,backgroundSize:"cover"},children:e.jsx(q,{onClick:j=>{j.stopPropagation(),W(o)},sx:{position:"absolute",top:-12,right:-12,zIndex:12,border:2,borderColor:"common.white",backgroundColor:"#EE3737"},size:"small",children:e.jsx(D,{icon:"material-symbols:close-rounded",width:18,height:18,color:"common.white"})})}))}),e.jsxs(z,{sx:{width:105,height:105,border:"2px dashed",borderColor:"#C3CBD9",color:"text.secondary",borderRadius:2},onClick:o=>{document.getElementById("profilePhoto").click()},children:[e.jsx(se,{anchorOrigin:{vertical:"bottom",horizontal:"right"},anc:!0,badgeContent:e.jsx(re,{color:"primary.main",sx:{color:"primary.main",fontSize:16,mt:-1,ml:-1}}),children:e.jsx(te,{style:{fontSize:32,color:"#C3CBD9"}})}),e.jsx("input",{hidden:!0,accept:"image/*",multiple:!0,id:"profilePhoto",type:"file",onChange:O})]})]}),e.jsx("br",{}),e.jsxs(v,{spacing:3,sx:{width:"100%"},children:[e.jsx(F,{container:!0,spacing:2,children:e.jsx(F,{item:!0,xs:4,children:e.jsx(P,{fullWidth:!0,placeholder:"84",clabel:e.jsx(c,{variant:"subtitle1",color:"text.primary",children:"Weight"}),...S("weight"),type:"number",error:!!(g.weight&&m.weight),helperText:g.weight&&m.weight,InputProps:{endAdornment:e.jsx(L,{position:"end",children:e.jsx(c,{variant:"body2",color:"text.secondary",children:"Kg"})})}})})}),e.jsx(P,{fullWidth:!0,placeholder:"example",clabel:"Description",...S("description"),error:!!(g.description&&m.description),helperText:g.description&&m.description,multiline:!0,minRows:4,maxRows:4,InputProps:{endAdornment:e.jsx(L,{position:"end",children:e.jsx(a,{display:"flex",flexDirection:"column",justifyContent:"flex-end",marginTop:10,children:e.jsx(c,{variant:"body2",color:"text.secondary",children:(b.values.description+"").length+"/200"})})})}})]})," ",e.jsx(A,{hidden:!0,ref:h,type:"submit"}),e.jsx(oe,{images:n.map(o=>o!=null&&o.includes&&o.includes("https")?o:URL.createObjectURL(o)),mainSrc:n.map(o=>o!=null&&o.includes&&o.includes("https")?o:URL.createObjectURL(o))[x],photoIndex:x,setPhotoIndex:y,isOpen:T,onCloseRequest:()=>w(!1)})]})})}),ae=l("div")(()=>({backgroundColor:"#F2F5F9",height:"100%"})),le=l(a)(()=>({width:"100%",border:"1px solid #E1E7F0",borderBottom:"0px",borderRadius:"24px 24px 0px 0px",backgroundColor:"#fff"}));l(z)(({theme:t})=>({height:45,borderRadius:16,background:"#F9FCFD",fontFamily:"Proxima Nova",color:"#172A44",fontSize:18,fontWeight:"bold",width:"100%",marginBottom:8,border:"2px solid rgba(23, 42, 68, 0.5)"}));const de=l(a)(()=>({width:"100%",zIndex:100,backgroundColor:"#fff",borderRadius:"0px 0px 8px 8px"}));function Ge(){U();const{state:t}=B(),p=d.useRef(null),{search:h}=B();console.log(h),new URLSearchParams(h);const[n,f]=d.useState([{},{},{}]),x=E();return e.jsx(ae,{children:e.jsxs(_,{title:" Simplified Online Fitness Training ",children:[e.jsxs(V,{children:[" ",e.jsx(H,{children:e.jsx(de,{px:2,py:2,children:e.jsxs(a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"row",children:[e.jsx(G,{onClick:()=>x(-1),sx:{color:"text.primary"},children:e.jsx(ne,{})}),e.jsxs(c,{variant:"h6",color:"text.primary",children:["Upload photo",e.jsx(c,{component:"span",variant:"body2",color:"secondary"})]})]})})})," ",e.jsxs(M,{style:{paddingTop:24,paddingBottom:48,overflowY:"auto",position:"relative"},children:[e.jsxs(c,{children:["Upload images of your progress for",e.jsx("br",{})," your trainer."]}),e.jsx("br",{}),e.jsx(ie,{ref:p,mode:t==null?void 0:t.mode,item:t==null?void 0:t.item})]}),e.jsx(K,{children:e.jsx(le,{children:e.jsx(a,{display:"flex",justifyContent:"flex-end",width:"100%",px:3,py:2,children:e.jsx(A,{variant:"contained",color:"primary",sx:{display:"flex",width:"50%",fontSize:16},startIcon:e.jsx(D,{Iconify:!0,icon:"grommet-icons:upload-option",width:20,height:20,color:"common.white"}),onClick:()=>p.current.click(),children:"Upload"})})})})]})," "]})})}export{Ge as default};
