import{w as it,r as st}from"./index-tWVfh1a_.js";var $={};(function(C){Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var I=K(st),q=["placeholder","separator","isLastChild","inputStyle","focus","isDisabled","hasErrored","errorStyle","focusStyle","disabledStyle","shouldAutoFocus","isInputNum","index","value","className","isInputSecure"];function x(e){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(x=function(n){return n?u:a})(e)}function K(e,a){if(e&&e.__esModule)return e;if(e===null||O(e)!=="object"&&typeof e!="function")return{default:e};var u=x(a);if(u&&u.has(e))return u.get(e);var t={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(t,i,s):t[i]=e[i]}return t.default=e,u&&u.set(e,t),t}function D(){return D=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var u=arguments[a];for(var t in u)Object.prototype.hasOwnProperty.call(u,t)&&(e[t]=u[t])}return e},D.apply(this,arguments)}function U(e,a){if(e==null)return{};var u=z(e,a),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(u[t]=e[t])}return u}function z(e,a){if(e==null)return{};var u={},t=Object.keys(e),n,i;for(i=0;i<t.length;i++)n=t[i],!(a.indexOf(n)>=0)&&(u[n]=e[n]);return u}function R(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function G(e,a){for(var u=0;u<a.length;u++){var t=a[u];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function F(e,a,u){return a&&G(e.prototype,a),e}function V(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&w(e,a)}function w(e,a){return w=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},w(e,a)}function j(e){var a=J();return function(){var t=b(e),n;if(a){var i=b(this).constructor;n=Reflect.construct(t,arguments,i)}else n=t.apply(this,arguments);return H(this,n)}}function H(e,a){return a&&(O(a)==="object"||typeof a=="function")?a:l(e)}function l(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},b(e)}function c(e,a,u){return a in e?Object.defineProperty(e,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):e[a]=u,e}function O(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O=function(u){return typeof u}:O=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},O(e)}var Q=8,X=37,Y=39,Z=46,tt=32,m=function(a){return O(a)==="object"},et=function(e){V(u,e);var a=j(u);function u(t){var n;return R(this,u),n=a.call(this,t),c(l(n),"getClasses",function(){for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return s.filter(function(o){return!m(o)&&o!==!1}).join(" ")}),c(l(n),"getType",function(){var i=n.props,s=i.isInputSecure,r=i.isInputNum;return s?"password":r?"tel":"text"}),n.input=I.default.createRef(),n}return F(u,[{key:"componentDidMount",value:function(){var n=this.props,i=n.focus,s=n.shouldAutoFocus,r=this.input.current;r&&i&&s&&r.focus()}},{key:"componentDidUpdate",value:function(n){var i=this.props.focus,s=this.input.current;n.focus!==i&&s&&i&&(s.focus(),s.select())}},{key:"render",value:function(){var n=this.props,i=n.placeholder,s=n.separator,r=n.isLastChild,o=n.inputStyle,p=n.focus,h=n.isDisabled,S=n.hasErrored,v=n.errorStyle,f=n.focusStyle,y=n.disabledStyle;n.shouldAutoFocus;var g=n.isInputNum,_=n.index,P=n.value,N=n.className;n.isInputSecure;var A=U(n,q);return I.default.createElement("div",{className:N,style:{display:"flex",alignItems:"center"}},I.default.createElement("input",D({"aria-label":"".concat(_===0?"Please enter verification code. ":"").concat(g?"Digit":"Character"," ").concat(_+1),autoComplete:"off",style:Object.assign({width:"1em",textAlign:"center"},m(o)&&o,p&&m(f)&&f,h&&m(y)&&y,S&&m(v)&&v),placeholder:i,className:this.getClasses(o,p&&f,h&&y,S&&v),type:this.getType(),maxLength:"1",ref:this.input,disabled:h,value:P||""},A)),!r&&s)}}]),u}(I.PureComponent),k=function(e){V(u,e);var a=j(u);function u(){var t;R(this,u);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=a.call.apply(a,[this].concat(i)),c(l(t),"state",{activeInput:0}),c(l(t),"getOtpValue",function(){return t.props.value?t.props.value.toString().split(""):[]}),c(l(t),"getPlaceholderValue",function(){var r=t.props,o=r.placeholder,p=r.numInputs;if(typeof o=="string"){if(o.length===p)return o;o.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}}),c(l(t),"handleOtpChange",function(r){var o=t.props.onChange,p=r.join("");o(p)}),c(l(t),"isInputValueValid",function(r){var o=t.props.isInputNum?!isNaN(parseInt(r,10)):typeof r=="string";return o&&r.trim().length===1}),c(l(t),"focusInput",function(r){var o=t.props.numInputs,p=Math.max(Math.min(o-1,r),0);t.setState({activeInput:p})}),c(l(t),"focusNextInput",function(){var r=t.state.activeInput;t.focusInput(r+1)}),c(l(t),"focusPrevInput",function(){var r=t.state.activeInput;t.focusInput(r-1)}),c(l(t),"changeCodeAtFocus",function(r){var o=t.state.activeInput,p=t.getOtpValue();p[o]=r[0],t.handleOtpChange(p)}),c(l(t),"handleOnPaste",function(r){r.preventDefault();var o=t.state.activeInput,p=t.props,h=p.numInputs,S=p.isDisabled;if(!S){for(var v=t.getOtpValue(),f=o,y=r.clipboardData.getData("text/plain").slice(0,h-o).split(""),g=0;g<h;++g)g>=o&&y.length>0&&(v[g]=y.shift(),f++);t.setState({activeInput:f},function(){t.focusInput(f),t.handleOtpChange(v)})}}),c(l(t),"handleOnChange",function(r){var o=r.target.value;t.isInputValueValid(o)&&t.changeCodeAtFocus(o)}),c(l(t),"handleOnKeyDown",function(r){r.keyCode===Q||r.key==="Backspace"?(r.preventDefault(),t.changeCodeAtFocus(""),t.focusPrevInput()):r.keyCode===Z||r.key==="Delete"?(r.preventDefault(),t.changeCodeAtFocus("")):r.keyCode===X||r.key==="ArrowLeft"?(r.preventDefault(),t.focusPrevInput()):r.keyCode===Y||r.key==="ArrowRight"?(r.preventDefault(),t.focusNextInput()):(r.keyCode===tt||r.key===" "||r.key==="Spacebar"||r.key==="Space")&&r.preventDefault()}),c(l(t),"handleOnInput",function(r){if(t.isInputValueValid(r.target.value))t.focusNextInput();else if(!t.props.isInputNum){var o=r.nativeEvent;o.data===null&&o.inputType==="deleteContentBackward"&&(r.preventDefault(),t.changeCodeAtFocus(""),t.focusPrevInput())}}),c(l(t),"renderInputs",function(){for(var r=t.state.activeInput,o=t.props,p=o.numInputs,h=o.inputStyle,S=o.focusStyle,v=o.separator,f=o.isDisabled,y=o.disabledStyle,g=o.hasErrored,_=o.errorStyle,P=o.shouldAutoFocus,N=o.isInputNum,A=o.isInputSecure,rt=o.className,T=[],L=t.getOtpValue(),W=t.getPlaceholderValue(),B=t.props["data-cy"],M=t.props["data-testid"],at=function(d){T.push(I.default.createElement(et,{placeholder:W&&W[d],key:d,index:d,focus:r===d,value:L&&L[d],onChange:t.handleOnChange,onKeyDown:t.handleOnKeyDown,onInput:t.handleOnInput,onPaste:t.handleOnPaste,onFocus:function(ot){t.setState({activeInput:d}),ot.target.select()},onBlur:function(){return t.setState({activeInput:-1})},separator:v,inputStyle:h,focusStyle:S,isLastChild:d===p-1,isDisabled:f,disabledStyle:y,hasErrored:g,errorStyle:_,shouldAutoFocus:P,isInputNum:N,isInputSecure:A,className:rt,"data-cy":B&&"".concat(B,"-").concat(d),"data-testid":M&&"".concat(M,"-").concat(d)}))},E=0;E<p;E++)at(E);return T}),t}return F(u,[{key:"render",value:function(){var n=this.props.containerStyle;return I.default.createElement("div",{style:Object.assign({display:"flex"},m(n)&&n),className:m(n)?"":n},this.renderInputs())}}]),u}(I.Component);c(k,"defaultProps",{numInputs:4,onChange:function(a){return console.log(a)},isDisabled:!1,shouldAutoFocus:!1,value:"",isInputSecure:!1});var nt=k;C.default=nt})($);const pt=it($);export{pt as O};
