import{e as S,u as B,a as C,j as e,S as F,s as g,B as o,I as P,T as t,C as I,h as f,i as w,c as y,p as A,n as D,o as u}from"./index-tWVfh1a_.js";import{P as E}from"./Page-D7TsOLpr.js";import{S as W}from"./Header-C-6_pkkN.js";import{L as m}from"./LabeledInput-B3Qf7l4R.js";import{W as L}from"./ProgramDescriptionModal-Dkibb7pp.js";import{c as R,b as c}from"./array-DbNmRnh0.js";import{u as V,F as q,a as H}from"./formik.esm-jmAInz8L.js";import{h as N}from"./uploader-C1vfyOx8.js";import{A as U}from"./ArrowLeft-lA8HnlgG.js";import{I as p}from"./InputAdornment-DiI_gVyu.js";import"./TextField-cyeEFY3i.js";import"./OutlinedInput-D3YoqtXT.js";import"./useFormControl-BEzaUW9U.js";import"./InputBase-7pV38TnQ.js";import"./Popover-COOgvQR_.js";import"./ListContext-BQPXTeBj.js";import"./useControlled-DiwPEJyR.js";import"./isMuiElement-CENM59Ut.js";import"./isObject-MojUmidT.js";g("div")(({theme:a})=>({paddingTop:a.spacing(8),[a.breakpoints.up("md")]:{paddingTop:a.spacing(11)}}));const z=g(o)(()=>({width:"100%",zIndex:100,backgroundColor:"#fff"}));function ue(){const a=S(),h=B(s=>s.Profile),l=C(),b=R().shape({title:c().required("Title is required").max(50,"Title too long"),deviceType:c(),attachment:c(),description:c().required("Description is required").max(1e3,"Description too long")}),n=V({initialValues:{title:"",description:"",type:"Give feedback",satisfaction:"Very satisfied",attachment:""},validationSchema:b,onSubmit:async(s,{setErrors:x,setSubmitting:k})=>{l({type:"UPDATE_FEED",payload:{loading:!0}}),D.post(u.protocol+u.baseUrl+u.reportBug,{...s,email:h==null?void 0:h.email}).then(Y=>{l({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"Feedback submitted successfully",severity:"success"}}),k(!1),v()})}}),{errors:i,touched:r,handleSubmit:j,resetForm:v,isSubmitting:_,isValid:$,validateForm:G,getFieldProps:d,setFieldValue:T,values:O}=n;return e.jsx(E,{title:"Contact us",children:e.jsxs(F,{children:[e.jsx(W,{style:{borderRadius:"0px 0px 8px 8px",boxShadow:"0px 4px 54px rgba(225, 231, 240, 0.5)",overflow:"hidden"},children:e.jsxs(z,{px:2,py:2,children:[e.jsxs(o,{display:"flex",alignItems:"center",children:[" ",e.jsx(P,{onClick:()=>a(-1),sx:{color:"text.primary"},children:e.jsx(U,{})}),e.jsx(t,{variant:"h6",color:"text.primary",children:"Bug report"})," "]})," "]})}),e.jsx(I,{withoutPadding:!0,style:{paddingBottom:24,background:"#fff"},children:e.jsx(q,{value:n,children:e.jsx(H,{autoComplete:"off",noValidate:!0,onSubmit:j,children:e.jsxs(f,{spacing:3,sx:{width:"100%",px:2,py:3},children:[e.jsxs(t,{color:"text.secondary",component:"span",children:['Encountered an issue? Report it here! Be detailed and share steps, error messages, or relevant info. Attach pics or videos to explain better. Tap "Attach File" below. Help us improve! Your feedback is valuable go toÂ ',e.jsx(t,{component:"span",color:"primary.main",onClick:()=>a("/help"),children:"Help & support"})," ","for assistance."]}),e.jsx(f,{direction:"row",spacing:2,children:e.jsx(o,{width:"70%",children:e.jsx(m,{fullWidth:!0,placeholder:"Write your device model?",clabel:"Device type",...d("deviceType"),error:!!(r.deviceType&&i.deviceType),helperText:r.deviceType&&i.deviceType,inputProps:{maxLength:50},InputProps:{endAdornment:e.jsx(p,{position:"end",children:e.jsx(t,{variant:"body2",color:"text.secondary"})})}})})}),e.jsx(m,{fullWidth:!0,placeholder:"Write title here",maxLength:50,clabel:"Problem title",...d("title"),error:!!(r.title&&i.title),helperText:r.title&&i.title,inputProps:{maxLength:50},InputProps:{endAdornment:e.jsx(p,{position:"end",children:e.jsx(t,{variant:"body2",color:"text.secondary"})})}}),e.jsx(L,{headerTitle:"Create program",headerSubTitle:"Tell us",fullWidth:!0,placeholder:"Write here the details.",clabel:"Tell us",...d("description"),error:!!(r.description&&i.description),helperText:r.description&&i.description,multiline:!0,minRows:6,inputProps:{maxLength:1e3},endAdornment:e.jsx(p,{position:"end",sx:{height:"100%",pt:4},children:e.jsx(o,{position:"absolute",bottom:12,right:16,height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",children:e.jsx(t,{variant:"body2",color:"text.secondary",children:(n.values.description+"").length+"/1000"})})}),children:e.jsx(m,{fullWidth:!0,placeholder:"Write here the details.",clabel:"Tell us",...d("description"),error:!!(r.description&&i.description),helperText:r.description&&i.description,multiline:!0,minRows:6,inputProps:{maxLength:1e3},InputProps:{readOnly:!0,endAdornment:e.jsx(p,{position:"end",sx:{height:"100%",pt:2},children:e.jsx(o,{position:"absolute",bottom:12,right:16,height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",children:e.jsx(t,{variant:"body2",color:"text.secondary",children:(n.values.description+"").length+"/1000"})})})}})}),e.jsxs(o,{children:[e.jsx(t,{variant:"subtitle1",mb:1,children:"Attach file"})," ",e.jsx(o,{display:"flex",justifyContent:"center",alignItems:"center",onClick:()=>document.getElementById("attachment").click(),sx:{width:90,height:90,border:"1.5px dashed #2F86EB",borderColor:"primary.main",borderRadius:"8px"},children:n.values.attachment?e.jsx(t,{variant:"caption",align:"center",children:"1 file attached"}):e.jsx(w,{icon:"teenyicons:attach-outline",color:"primary.main",sx:{fontSize:32}})}),e.jsx("input",{type:"file",id:"attachment",style:{display:"none"},onChange:s=>{l(y({loading:!0})),N(s,"bug","").then(x=>{T("attachment",x.data.Location),l(y({loading:!1}))})},cropShape:"rect",aspect:2.4})]}),e.jsxs(A,{fullWidth:!0,variant:"contained",type:"submit",children:[" ","Submit"]})]})})})})]})})}export{ue as default};
