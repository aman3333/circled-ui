import{e as N,d as B,u as E,r as x,a as T,j as e,S as F,C as D,B as i,T as p,I as L,h as W,c,s as g}from"./index-tWVfh1a_.js";import{P as z}from"./Page-D7TsOLpr.js";import{H as O}from"./footer-BJqjd-0J.js";import{d as R,I as H}from"./AccountCircle-BCV9GVax.js";import{I as V}from"./index-CzZqv2Gi.js";import{u as S}from"./Onboarding-CSV0hQFI.js";import{h as Y}from"./uploader-C1vfyOx8.js";import{S as $}from"./Footer-BU_S36Uf.js";import{c as _,b as h}from"./array-DbNmRnh0.js";import{u as q,F as G,a as M}from"./formik.esm-jmAInz8L.js";import{L as f}from"./LabeledInput-B3Qf7l4R.js";import{W as J}from"./ProgramDescriptionModal-Dkibb7pp.js";import{H as K}from"./header-Bo2DC4uj.js";import{A as I}from"./Avatar-DYK8RM-C.js";import{I as u}from"./InputAdornment-DiI_gVyu.js";import"./Checkbox-5Xdp7ogM.js";import"./SwitchBase-Bs2jeD_h.js";import"./useFormControl-BEzaUW9U.js";import"./useControlled-DiwPEJyR.js";import"./createSvgIcon-UmMwsC2Z.js";import"./isMuiElement-CENM59Ut.js";import"./Header-C-6_pkkN.js";import"./isObject-MojUmidT.js";import"./TextField-cyeEFY3i.js";import"./OutlinedInput-D3YoqtXT.js";import"./InputBase-7pV38TnQ.js";import"./Popover-COOgvQR_.js";import"./ListContext-BQPXTeBj.js";import"./ArrowLeft-lA8HnlgG.js";g("div")(()=>({display:"flex",flexDirection:"column",flex:1,flexGrow:1,background:"#fff",height:"100vh"}));g(i)(()=>({position:"relative"}));g(i)(()=>({position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",paddingTop:52,paddingBottom:24,zIndex:100,top:0}));function Ne({mode:b}){const j=N(),{state:y}=B(),r=E(l=>l.Onboarding),[s,P]=x.useState(r.profilePic),[k,Q]=x.useState(r.about),n=T(),w=_().shape({expertise:h().max(50,"Profession too long").nullable(),profileName:h().required("Enter name of your profile").max(50),bio:h().max(500,"Bio too long. Maximum 500 characters allowed")}),a=q({initialValues:{expertise:r.expertise,profileName:r.name||r.profileName,bio:r.bio},validationSchema:w,onSubmit:async(l,{setErrors:d,setSubmitting:Z})=>{n(S({...l})),j(`/onboarding/${b=="client"?"client/platform-info":"platform-info"}`,{state:y})}}),{errors:t,touched:o,handleSubmit:A,isSubmitting:U,getFieldProps:m,setFieldValue:X,values:v}=a,C=l=>{n(c({loading:!0})),Y(l).then(d=>{P(d.data.Location),n(c({loading:!1}))},d=>d=="size"?n(c({loading:!1,snackbar:!0,message:"Image size should be less than 5 mb",severity:"warning"})):n(c({loading:!1,snackbar:!0,message:"Error in uploading image please try again later",severity:"warning"})))};return x.useEffect(()=>{n(S({profilePic:s}))},[s,k]),e.jsx(G,{value:a,children:e.jsx(M,{autoComplete:"off",noValidate:!0,onSubmit:A,children:e.jsxs(z,{title:" Simplified Online Fitness Training ",children:[e.jsx(V,{accept:"image/*",onChange:C,id:"profile-img",cropShape:"round",aspect:1,style:{display:"none"}}),e.jsxs(F,{children:[e.jsx(K,{title:"Create profile",onClose:()=>j("/",{state:y})}),e.jsxs(D,{children:[e.jsx(i,{display:"flex",justifyContent:"center",alignItems:"center",mt:4,children:e.jsx(p,{variant:"h3",textAlign:"center",sx:{fontSize:24},children:"Your profile image"})}),e.jsx(i,{display:"flex",flexDirection:"column",alignItems:"center",pt:2,children:e.jsx(i,{width:"100%",display:"flex",justifyContent:"center",mt:4,mb:2,children:e.jsxs(i,{style:{borderRadius:"50%",position:"relative",backgroundSize:"cover"},onClick:()=>document.getElementById("profile-img").click(),children:[s?e.jsx(I,{sx:{width:130,height:130},src:s}):e.jsx(I,{sx:{width:130,height:130},children:e.jsx(R,{sx:{fontSize:155,color:"#E1E7F0"}})}),e.jsx(L,{sx:{position:"absolute",top:-13,right:-8,color:"primary.main"},children:e.jsx(H,{sx:{fontSize:48,color:"primary.main"},color:"primary.main"})})]})})}),b=="client"?null:e.jsxs(W,{spacing:2,sx:{width:"100%",mt:4},children:[e.jsx(f,{fullWidth:!0,placeholder:"Profile name",clabel:"Profile name",...m("profileName"),error:!!(o.profileName&&t.profileName),helperText:o.profileName&&t.profileName||"",inputProps:{maxLength:50},InputProps:{endAdornment:e.jsx(u,{position:"end",sx:{height:"100%"},children:e.jsx(p,{variant:"body2",color:"text.secondary",children:(a.values.profileName+"").length+"/50"})})}}),e.jsx(f,{fullWidth:!0,placeholder:"Example: Yoga, Crossfit, etc.",clabel:"Expertise",...m("expertise"),error:!!(o.expertise&&t.expertise),helperText:o.expertise&&t.expertise,inputProps:{maxLength:50},InputProps:{endAdornment:e.jsx(u,{position:"end",sx:{height:"100%"},children:e.jsx(p,{variant:"body2",color:"text.secondary",children:(a.values.expertise+"").length+"/50"})})}}),e.jsx(J,{headerTitle:"Your bio",headerSubTitle:"About",fullWidth:!0,placeholder:"Write about yourself...",clabel:"About",...m("bio"),error:!!(o.bio&&t.bio),helperText:o.bio&&t.bio,inputProps:{maxLength:500},endAdornment:e.jsx(u,{position:"end",sx:{height:"100%"},children:e.jsx(i,{position:"absolute",bottom:12,right:16,height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",children:e.jsx(p,{variant:"body2",color:"text.secondary",children:(a.values.bio+"").length+"/500"})})}),multiline:!0,minRows:4,children:e.jsx(f,{fullWidth:!0,placeholder:"Write about yourself...",clabel:"About",...m("bio"),error:!!(o.bio&&t.bio),helperText:o.bio&&t.bio,inputProps:{maxLength:500},maxRows:12,InputProps:{endAdornment:e.jsx(u,{position:"end",sx:{height:"100%"},children:e.jsx(i,{position:"absolute",bottom:12,right:16,height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",children:e.jsx(p,{variant:"body2",color:"text.secondary",children:(a.values.bio+"").length+"/500"})})})},multiline:!0,minRows:8})})]})]}),e.jsx($,{children:e.jsx(O,{next:!0,nextText:!s&&!v.bio&&!v.expertise?"Skip":"Next"})})]})]})})})}export{Ne as default};
