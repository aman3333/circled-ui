import{aF as a,n as p,o as s}from"./index-tWVfh1a_.js";const n=r=>new Promise((o,t)=>{a.dispatch({type:"UPDATE_FEED",payload:{loading:!0}}),p.post(`${s.protocol}${s.baseUrl}${s.createSubscription}`,{id:r}).then(e=>{o(e.data.id),a.dispatch({type:"UPDATE_FEED",payload:{loading:!1}})}).catch(e=>{e.response.status==500&&a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"Oops caught some error! Please try again",severity:"error"}}),e.response.status==501?a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"You have already purchased this program",severity:"info"}}):a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"Unauthorized access",severity:"error"}}),t(e)})}),l=r=>new Promise((o,t)=>{a.dispatch({type:"UPDATE_FEED",payload:{loading:!0}}),p.post(`${s.protocol}${s.baseUrl}${s.approveSubscription}`,{id:r}).then(e=>{o("Approved"),a.dispatch({type:"UPDATE_FEED",payload:{loading:!1}})}).catch(e=>{a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"Oops caught some error! Please try again",severity:"error"}}),t(e)})}),c=r=>new Promise((o,t)=>{a.dispatch({type:"UPDATE_FEED",payload:{loading:!0}}),p.post(`${s.protocol}${s.baseUrl}${s.createOrder}`,{id:r}).then(e=>{o(e.data.id),a.dispatch({type:"UPDATE_FEED",payload:{loading:!1}})}).catch(e=>{e.response.status==500&&a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"Oops caught some error! Please try again",severity:"error"}}),e.response.status==501?a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"You have already purchased this program",severity:"info"}}):a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"Unauthorized access",severity:"error"}}),t(e)})}),y=r=>new Promise((o,t)=>{a.dispatch({type:"UPDATE_FEED",payload:{loading:!0}}),p.post(`${s.protocol}${s.baseUrl}${s.approveOrder}`,{id:r}).then(e=>{o("Approved"),a.dispatch({type:"UPDATE_FEED",payload:{loading:!1}})}).catch(e=>{a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"Oops caught some error! Please try again",severity:"error"}}),t(e)})}),E=(r,o)=>new Promise((t,e)=>{a.dispatch({type:"UPDATE_FEED",payload:{loading:!0}}),p.post(`${s.protocol}${s.baseUrl}${s.addFreeOrder}`,{id:r,programId:o}).then(d=>{t(d.data.id),a.dispatch({type:"UPDATE_FEED",payload:{loading:!1}})}).catch(d=>{if(d.response.status==500&&a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"Oops caught some error! Please try again",severity:"error"}}),d.response.status==501)return a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"You already have this program",severity:"info"}}),e(d.response.data);a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"Unauthorized access",severity:"error"}}),e(d)})}),h=r=>new Promise((o,t)=>{p.post(`${s.protocol}${s.baseUrl}${s.checkIfOrderExists}`,{id:r}).then(e=>{o(e.data)}).catch(e=>{t(e)})}),g=()=>new Promise((r,o)=>{a.dispatch({type:"UPDATE_FEED",payload:{loading:!0}}),p.get(`${s.protocol}${s.baseUrl}${s.getStripeCustomer}`).then(t=>{r(t.data),a.dispatch({type:"UPDATE_FEED",payload:{loading:!1}})}).catch(t=>{t.response.status==500?a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"Oops caught some error! Please try again",severity:"error"}}):a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"Server error try again",severity:"error"}}),o(t)})}),u=r=>new Promise((o,t)=>{a.dispatch({type:"UPDATE_FEED",payload:{loading:!0}}),p.post(`${s.protocol}${s.baseUrl}${s.addPymentMethod}`,{token:r}).then(e=>{o(e.data.paymentMethods),a.dispatch({type:"UPDATE_FEED",payload:{snackbar:!0,message:"Payemnt method added successfully",loading:!1,severity:"success"}})}).catch(e=>{e.response.status==500?a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"Oops caught some error! Please try again",severity:"error"}}):a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"Server error try again",severity:"error"}}),t(e)})}),D=r=>new Promise((o,t)=>{a.dispatch({type:"UPDATE_FEED",payload:{loading:!0}}),p.post(`${s.protocol}${s.baseUrl}${s.removePaymentMethod}`,{token:r}).then(e=>{o(e.data.paymentMethods),a.dispatch({type:"UPDATE_FEED",payload:{snackbar:!0,message:"Payemnt method removed successfully",loading:!1,severity:"success"}})}).catch(e=>{e.response.status==500?a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"Oops caught some error! Please try again",severity:"error"}}):a.dispatch({type:"UPDATE_FEED",payload:{loading:!1,snackbar:!0,message:"Server error try again",severity:"error"}}),t(e)})});export{u as A,D as R,l as a,y as b,n as c,c as d,E as e,h as f,g};
