import{e as H,u as M,j as e,B as o,T as j,s as c,i as U,I as w,a as O,d as z,r as B,U as Y,g as _,S as q,p as G,C as J,_ as T,f as K}from"./index-tWVfh1a_.js";import{P as Q}from"./Page-D7TsOLpr.js";import{S as V}from"./Header-C-6_pkkN.js";import{S as W}from"./progress-Dr06BXYB.js";import{T as N}from"./TextMaxLine-BUlHRtTt.js";import{D as $}from"./Dumbell-LvyqFLuX.js";import{a as X}from"./calendar-DVHPmGUO.js";import{C as Z}from"./Circular-CdB5voB0.js";import{D as ee}from"./Divider-0_Mpg1Be.js";import{D as te}from"./react-beautiful-dnd.esm-DG40pfMu.js";import{A as L}from"./ArrowLeft-lA8HnlgG.js";import"./createSvgIcon-UmMwsC2Z.js";import"./isMuiElement-CENM59Ut.js";import"./useControlled-DiwPEJyR.js";import"./Tabs-Cs2QRRdO.js";import"./Stepper-DvYlKPms.js";import"./LinearProgress-C4AIhOO1.js";import"./Link-D6ktmyc-.js";import"./dividerClasses-ClaZwgHh.js";import"./memoize-one.esm-Cbrq43TT.js";const se=c("div")(()=>({display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",zIndex:100,backgroundColor:"#fff",padding:"0px 8px",minHeight:56,borderBottom:"1px solid #E1E7F0"}));c("div")(()=>({display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",zIndex:100,backgroundColor:"#fff",padding:"0px 12px",minHeight:56,borderRadius:"8px 0px 0px 8px",border:"1px solid #E1E7F0"}));c(o)(()=>({display:"flex",marginTop:32,alignItems:"center",padding:"4px 10px"}));c(w)(()=>({backgroundColor:"#2F86EB",color:"#fff",height:18,width:18,padding:2}));const re=c("div")(()=>({padding:2}));c("div")(()=>({padding:8,paddingRight:0}));function ie(d){var S,k;H();const{Program:F,updateProgram:y}=d,R=["Sat","Sun","Mon","Tues","Wed","Thur","Fri"],u=M(f=>f.ProgramList.clientData.stats);return e.jsx(o,{position:"relative",paddingBottom:0,children:e.jsx(e.Fragment,{children:(k=(S=F.ExercisePlan)==null?void 0:S.weeks)==null?void 0:k.map((f,x)=>e.jsxs("div",{style:{marginTop:12,marginBottom:24},children:[e.jsxs(j,{color:"text.secondary",sx:{ml:1,fontSize:18,fontWeight:"bold",mt:1.5,display:"flex",width:"100%",pr:2,alignItems:"center",justifyContent:"space-between"},children:["Week ",x+1," ",e.jsx(Z,{value:X(f,u,x)*100})]}),e.jsx("div",{children:f.days.map((i,n)=>{var p,C,h,I,v,E,D,P;return e.jsx("div",{children:e.jsx(re,{children:e.jsxs(se,{style:{minHeight:56},onClick:d.clientSide&&((p=i.Exercise)==null?void 0:p.length)>0?()=>d.handleClick(n,x,i.Title):void 0,children:[e.jsxs(o,{display:"flex",alignItems:"center",children:[e.jsx(N,{line:1,variant:"body1",color:((C=d.destData)==null?void 0:C.cweek)==x&&((h=d.destData)==null?void 0:h.cday)==n?"primary":(i.Exercise.length,"text.primary"),sx:{fontSize:16,width:36},children:R[n]}),e.jsx(ee,{orientation:"vertical",flexItem:!0,sx:{ml:.5,mr:1,borderColor:"#E1E7F0"}}),e.jsx(o,{children:i.Title||i.IsRest&&e.jsx(e.Fragment,{children:e.jsx(N,{align:"left",line:1,color:((I=d.destData)==null?void 0:I.cweek)==x&&((v=d.destData)==null?void 0:v.cday)==n?"primary":"text.primary",variant:"body1",sx:{fontSize:16,maxWidth:"35vw"},children:i.IsRest?"Rest":i.Title})})})]}),e.jsxs(o,{display:"flex",alignItems:"center",children:[(u==null?void 0:u[`${x}-${n}`])&&e.jsx(o,{mt:1,children:e.jsx(U,{icon:"material-symbols:check-small-rounded",sx:{fontSize:32,color:"#14B842"}})}),e.jsx(j,{variant:"body2",color:((E=d.destData)==null?void 0:E.cweek)==x&&((D=d.destData)==null?void 0:D.cday)==n?"primary":i.IsRest?"text.secondary":"text.primary",sx:{fontSize:14},children:i.IsRest?0:((P=i.Exercise)==null?void 0:P.length)+" "}),"Â ",e.jsx(e.Fragment,{children:!i.Exercise.length&&!i.Title?e.jsx(w,{size:"small",children:e.jsx($,{})}):e.jsx(w,{size:"small",sx:{color:i.IsRest?"text.secondary":"text.primary"},children:e.jsx($,{})})})]})]})})},n)})})]}))})})}const ae=c("div")(()=>({backgroundColor:"#F2F5F9",height:"100%"}));c(o)(()=>({position:"relative"}));c(o)(()=>({position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",paddingTop:52,paddingBottom:24,zIndex:100,top:0}));c(K)(({theme:d})=>({height:45,borderRadius:16,background:"#F9FCFD",fontFamily:"Proxima Nova",color:"#172A44",fontSize:18,fontWeight:"bold",width:"100%",marginBottom:8,border:"2px solid rgba(23, 42, 68, 0.5)"}));const le=c(o)(()=>({width:"100%",zIndex:100,borderRadius:"0px 0px 8px 8px"}));function De({steps:d=4,active:F=1}){const y=O(),{state:R}=z(),[u,S]=B.useState(!1),{search:k}=z(),[f,x]=B.useState(null);new URLSearchParams(k);const[i,n,p,C]=Y(),h=H(),{showConfirmationModal:I}=_(),v=()=>{y(C({...i})),h(-1)},E=(l,a,s,r)=>{let t={...i.ExercisePlan};t.weeks[a].days[r].Exercise.length?I("Are you sure ?",`You are going to replace (week ${Number(a)+1} - day ${Number(r)+1}) exercises with (week ${l+1} - day ${s+1}). This process is irreversible`,"Replace","Cancel").then(m=>{if(m)t.weeks[a].days[r].Exercise=[...t.weeks[l].days[s].Exercise],t.weeks[a].days[r].Title=t.weeks[l].days[s].Title,y(n({ExercisePlan:t}));else return}):(t.weeks[a].days[r].Exercise=[...t.weeks[l].days[s].Exercise],t.weeks[a].days[r].Title=t.weeks[l].days[s].Title,y(n({ExercisePlan:t})))},D=(l,a,s,r)=>{let t=T.cloneDeep(i.ExercisePlan),m=T.cloneDeep(t.weeks[l].days[s].Exercise),g=t.weeks[l].days[s].Title;t.weeks[l].days[s].Exercise=T.cloneDeep(t.weeks[a].days[r].Exercise),t.weeks[l].days[s].Title=t.weeks[a].days[r].Title,t.weeks[a].days[r].Exercise=T.cloneDeep(m),t.weeks[a].days[r].Title=g,console.log(t.weeks[a].days[r].Title,g,"index check"),y(n({ExercisePlan:t}))},P=l=>{const{source:a,destination:s,combine:r}=l;let t={};if(s?Number(s.droppableId)==0&&s.index==0||(t={...t,week:Number(s.droppableId),day:s.index}):t=null,r){let m=r.draggableId.split("-")[0],g=r.draggableId.split("-")[1];t={...t,cweek:m,cday:g}}x(t)},A=l=>{const{source:a,destination:s,combine:r}=l;if(x(null),console.log("==> result",l),!(!s&&!r))if(r){let t=Number(a.droppableId),m=a.index,g=(s||r).draggableId.split("-")[0],b=(s||r).draggableId.split("-")[1];E(t,g,m,b)}else{let t=Number(a.droppableId),m=a.index,g=Number(s.droppableId),b=g>0?s.index-1:s.index;if(b<0)return;console.log(t,g,m,b,"index check"),D(t,g,m,b)}};return e.jsx(ae,{children:e.jsxs(Q,{title:" Simplified Online Fitness Training ",children:[e.jsxs(q,{children:[" ",e.jsx(V,{headerDependency:u,children:p=="customize"?e.jsxs(le,{px:2,py:2,display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(o,{width:"100%",display:"flex",alignItems:"center",flexDirection:"row",children:[e.jsx(w,{onClick:()=>h(-1),sx:{color:"text.primary"},children:e.jsx(L,{})}),e.jsx(j,{variant:"subtitle1",color:"text.primary",children:"Workout"})]}),e.jsx(G,{size:"small",onClick:v,children:"Save"})]}):e.jsxs(o,{pt:2,children:[e.jsxs(o,{width:"100%",display:"flex",px:2,mb:3,alignItems:"center",justifyContent:"space-between",children:[e.jsxs(o,{display:"flex",alignItems:"center",children:[" ",e.jsx(w,{onClick:()=>h("/"),sx:{color:"text.primary"},children:e.jsx(L,{})}),e.jsx(j,{variant:"h6",color:"text.primary",children:e.jsx(o,{display:"flex",alignItems:"center",children:e.jsx(j,{color:"primary"})})})," "]})," "]}),e.jsx(W,{noClose:!0,withDivider:!0,mode:p,Program:i,route:p=="edit"?["workoutCalendar","createDietPlan","publishProgram"]:["","workoutCalendar","createDietPlan","publishProgram"],label:p=="edit"?["Calander","Diet","Publish"]:["Start","Calander","Diet","Publish"],steps:p=="edit"?3:4,active:p=="edit"?1:2,handleClose:()=>h("/",{replace:!0})})]})})," ",e.jsx(J,{style:{paddingTop:0,paddingLeft:12,paddingRight:12,background:"none"},children:e.jsx(te,{onDragEnd:A,onDragUpdate:P,children:e.jsx(ie,{Program:i,updateProgram:n,mode:p,destData:f})})})]})," "]})})}export{De as default};
