import{j as r,Y as D,r as I,a as u,e as j,g as y,a5 as T,B as s,T as i,c as M,aZ as A,a9 as F,s as C,i as S,h as m,a_ as _,Q as W}from"./index-tWVfh1a_.js";import{E as B}from"./eye-DjdtBhTX.js";import{C as Y}from"./CopyFile-DU55SlIz.js";import{C as E}from"./CopyLink-DOxHVA9c.js";import{S as L}from"./Share-D8xeKOeo.js";import{E as R,C as z}from"./Email-0PqHaYMn.js";import{A as O}from"./Archive-GAD3jC2R.js";import{A as w}from"./Avatar-DYK8RM-C.js";import{D as V}from"./Divider-0_Mpg1Be.js";import{M as n}from"./MenuItem-BRbCqEYh.js";import{T as $}from"./TextMaxLine-BUlHRtTt.js";import{h as f}from"./moment-G82_0lEo.js";import{M as H}from"./More-BqGLUvK6.js";import{C as Z}from"./Client-CpOPCSnx.js";import{C as N}from"./Chip-CoRnaPyB.js";function K(o){return r.jsxs(D,{width:"130",height:"88",viewBox:"0 0 130 88",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:[r.jsx("rect",{x:"0.5",y:"0.5",width:"129",height:"87",rx:"11.5",fill:"#F5F7FA"}),r.jsx("path",{d:"M79.6775 22.3333H50.3225C45.335 22.3333 41.25 26.0383 41.25 30.6099V57.3899C41.25 61.9616 45.335 65.6666 50.3225 65.6666H79.6775C84.6887 65.6666 88.75 61.9616 88.75 57.3899V30.6099C88.75 26.0383 84.6887 22.3333 79.6775 22.3333ZM55.8562 30.8049C57.8512 30.8049 59.4663 32.2782 59.4663 34.0982C59.4663 35.9182 57.8512 37.3916 55.8562 37.3916C53.8612 37.3916 52.2463 35.9182 52.2463 34.0982C52.2463 32.2782 53.8612 30.8049 55.8562 30.8049ZM85.1875 57.3899C85.1875 60.1632 82.7175 62.4166 79.6775 62.4166H50.3225C47.2825 62.4166 44.8125 60.1632 44.8125 57.3899V56.4799L52.6975 49.2866C53.41 48.6149 54.6213 48.6149 55.3575 49.2866L57.495 51.2583C59.6087 53.1866 63.0762 53.1866 65.19 51.2583L74.6663 42.6132C75.3788 41.9416 76.59 41.9416 77.3263 42.6132L85.1875 49.7849V57.3899Z",fill:"#C3CBD9"}),r.jsx("rect",{x:"0.5",y:"0.5",width:"129",height:"87",rx:"11.5",stroke:"#E1E7F0",fill:"none"})]})}function Q(o){const[p,l]=I.useState(!1),c=u(),d=j(),{Program:x,updateProgram:e}=o,{showConfirmationModal:g}=y(),h=a=>t=>{t&&t.type==="keydown"&&(t.key==="Tab"||t.key==="Shift")||(t.stopPropagation(),l(a))},b=a=>{c(F(a)).then(t=>{d(-1)})},k=a=>{a.stopPropagation(),c(A(o.Program._id)).then(t=>{l(!1)})},P=a=>{a.stopPropagation(),navigator.share&&navigator.share({title:" shared a fitness program :",url:`/public/workout-program/${o.Program._id}`}).then(()=>{})},v=a=>{a.stopPropagation(),navigator.clipboard.writeText(window.location.origin+`/public/workout-program/${o.Program._id}`),c(M({snackbar:!0,message:"Copied"}))};return r.jsxs("div",{children:[r.jsx(T,{anchor:"bottom",open:p,onClose:h(!1),onOpen:h(!0),PaperProps:{style:{backgroundColor:"#fff",borderTopLeftRadius:"8px",borderTopRightRadius:"8px"}},children:r.jsx(s,{padding:"16px 24px 36px",style:{backgroundColor:"#fff"},children:r.jsxs(s,{display:"flex",flexDirection:"column",component:"form",children:[r.jsxs(s,{display:"flex",alignItems:"center",children:[x.BannerImage?r.jsx(w,{variant:"rounded",style:{width:"40px",height:"35px",backgroundColor:"#F3F5F8"},src:x.BannerImage||"https://ik.imagekit.io/figgs/undefined1652090438465_y2tsKMW6E"}):r.jsx(K,{sx:{width:"54px",height:"54px"}}),r.jsx(i,{color:"text.primary",sx:{textTransform:"capitalize",ml:1},children:x.Title})]}),r.jsx(V,{sx:{my:1}}),x.IsArchived?r.jsxs(n,{sx:{px:0},onClick:()=>o.unarchiveProgram(o.Program._id),children:[r.jsx(z,{sx:{mr:2}}),r.jsx(i,{align:"center",children:"Un-archive"})]}):r.jsxs(r.Fragment,{children:[" ",r.jsxs(n,{sx:{px:0},onClick:a=>{a.stopPropagation(),d("/sendProgram/"+o.Program._id)},children:[r.jsx(R,{sx:{mr:2}}),r.jsx(i,{align:"center",children:"Send"})]}),r.jsxs(n,{sx:{px:0},onClick:P,children:[r.jsx(L,{icon:"fluent:share-android-24-regular",sx:{mr:2}}),r.jsx(i,{align:"center",children:"Share"})]})]}),r.jsxs(n,{sx:{px:0},onClick:v,children:[r.jsx(E,{sx:{mr:2}}),r.jsx(i,{align:"center",children:"Copy link"})]}),r.jsxs(n,{sx:{px:0},onClick:()=>d(`/programOverview/${o.Program._id}`),children:[r.jsx(B,{sx:{mr:2}}),r.jsx(i,{align:"center",children:"View"})]}),r.jsxs(n,{sx:{px:0},onClick:k,children:[r.jsx(Y,{sx:{mr:1.7,ml:-.5,fontSize:30}}),r.jsx(i,{align:"center",children:"Duplicate"})]}),r.jsxs(n,{sx:{px:0},onClick:()=>b(o.Program._id),children:[r.jsx(O,{sx:{mr:2}}),r.jsx(i,{align:"center",children:"Archive"})]})]})})}),r.jsx("div",{onClick:a=>{a.stopPropagation(),o.clientSide?o.onClick():o!=null&&o.Program.IsDraft?console.log():l(!0)},children:o.children})]})}const U=C(s)(()=>({display:"flex",justifyContent:"space-between",margin:"24px 0 40px 0",borderRadius:4,cursor:"pointer",":hover":{boxShadow:"0px 4px 54px rgba(225, 231, 240, 1)"}})),q=C(s)(()=>({width:"100%",backgroundColor:"#fff",borderRadius:"0px 0px 8px 8px"}));function hr({programs:o,unarchiveProgram:p}){const l=j(),c=u(),{showConfirmationModal:d}=y(),x=e=>{d("Are you sure?","You are going to delete this workout program. This process is irreversible","Delete").then(g=>{g&&c(_(e)).then(h=>{c(W())})})};return r.jsx(q,{children:o.map((e,g)=>r.jsx(r.Fragment,{children:r.jsxs(U,{id:e._id,sx:{justifyContent:"flex-start"},onClick:()=>e.IsDraft?null:l("/programOverview/"+e._id),children:[r.jsxs(s,{display:"flex",flexDirection:"column",alignItems:"center",position:"relative",children:[r.jsx(w,{variant:"rounded",style:{width:"140px",height:"100px",backgroundColor:"#F3F5F8",objectFit:"cover"},src:e.BannerImage||"/images/DefaultThumbnail.png"}),e.ProgramType=="Private"?r.jsx(N,{label:"Private",sx:{background:"rgba(149, 163, 184, 1)",color:"#fff",fontWeight:"bold",border:"2px solid #fff",borderRadius:1.5,position:"absolute",top:84}}):""]}),r.jsxs(s,{marginLeft:2,width:"100%",display:"flex",flexDirection:"column",children:[r.jsxs(s,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",position:"relative",children:[r.jsx($,{variant:"h6",line:1,sx:{textTransform:"capitalize",color:"text.primary",maxWidth:"85%"},children:e.Title})," ",e.IsDraft?r.jsx(S,{icon:"akar-icons:trash-can",color:"error.main",onClick:h=>{h.stopPropagation(),x(e._id)},sx:{fontSize:20,top:0,right:0,position:"absolute"}}):r.jsx(Q,{unarchiveProgram:p,Program:e,id:e._id,children:r.jsx(H,{sx:{color:"text.primary"},style:{fontSize:24},color:"text.primary"})})]}),e.IsDraft?r.jsxs(r.Fragment,{children:[r.jsxs(i,{variant:"body2",color:"text.secondary",flexWrap:"wrap",children:["Created : ",f(e.createdAt).format("DD-MM-YYYY")]}),r.jsx(i,{variant:"body2",color:"primary.main",flexWrap:"wrap",onClick:()=>l(`/editProgram/${e._id}/publishProgram`),sx:{mt:1,fontWeight:500},children:"Continue building"})]}):r.jsxs(m,{spacing:.1,children:[r.jsx(m,{direction:"row",spacing:2,alignItems:"center",children:r.jsxs(i,{variant:"body2",color:e.IsDraft?"grey.400":"text.primary",flexWrap:"wrap",children:["Price : ",e.IsDraft?"N/A":"$"+e.Price]})}),r.jsxs(i,{variant:"body2",color:e.IsDraft?"grey.400":"text.primary",flexWrap:"wrap",children:["Created : ",f(e.createdAt).format("DD-MM-YYYY")]})]}),!e.IsDraft&&r.jsxs(s,{display:"flex",alignItems:"center",sx:{mt:.5},children:[r.jsx(Z,{width:"12px",height:"12px",style:{fontSize:18},color:e.IsDraft?"grey.400":"text.primary"}),"Â ",r.jsxs(i,{variant:"body2",color:e.IsDraft?"grey.400":"text.primary",flexWrap:"wrap",children:["Total athletes ",e.IsDraft?"N/A":e.clients]})]})]})]})}))})}export{hr as I};
